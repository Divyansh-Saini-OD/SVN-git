SET VERIFY OFF;
WHENEVER SQLERROR CONTINUE;
WHENEVER OSERROR EXIT FAILURE ROLLBACK;

CREATE OR REPLACE PACKAGE XX_TM_ASSIGNMENTS_OUTBOUND_PKG
AS
        -- +===================================================================+
        -- |                  Office Depot - Project Simplify                  |
        -- |                       WIPRO Technologies                          |
        -- +===================================================================+
        -- | Name       :  XX_TM_ASSIGNMENTS_OUTBOUND_PKG                      |
        -- | Rice ID    :  I0405_Outbound-Territories                          |
        -- | Description:  This package contains procedure to extract customer |
        -- |               assignments data and generate a flat file with those|
        -- |               data for AOPS.                                      |
        -- |Change Record:                                                     |
        -- |===============                                                    |
        -- |Version   Date        Author           Remarks                     |
        -- |=======   ==========  =============    ============================|
        -- |1.A      25-OCT-2007  Rizwan           Initial draft version       |
        -- |                                                                   |
        -- |2.A      23-JAN-2009  Prasad Devar     Added abilty to call FTP-BE |                         
        -- +===================================================================+

        -- +===================================================================+
        -- | Name             : Generate_File                                  |
        -- | Description      : This procedure extracts customer assignments   |
        -- |                    data, finds its corresponding legacy values and|
        -- |                    generates a flat file with the data for AOPS.  |
        -- |                                                                   |
        -- | parameters :      x_errbuf                                        |
        -- |                   x_retcode                                       |
        -- |                                                                   |
        -- +===================================================================+

PROCEDURE Generate_File( x_errbuf              OUT NOCOPY VARCHAR2
                        ,x_retcode             OUT NOCOPY NUMBER
                        ,p_enable_ftp          IN          VARCHAR2 
                        , p_enable_be           IN          VARCHAR2 
 
                       );

	-- +===================================================================+
        -- | Name             : Copy_File                                      |
        -- | Description      : This procedure copy the file generated by      |
        -- |                    Generate_File procedure from Outbound directory|
        -- |                    to FTP out directory.                          |
        -- |                                                                   |
        -- | parameters :      p_sourcepath                                    |
        -- |                   p_destpath                                      |
        -- |                                                                   |
        -- +===================================================================+

PROCEDURE Copy_File( p_sourcepath  VARCHAR2
                    ,p_destpath    VARCHAR2
		    ,p_archivepath VARCHAR2
		    );



  -- +===================================================================+
        -- | Name             : TRNSFR_File                                   |
        -- | Description      : This procedure tranfers the file generated by  |
        -- |                    Generate_File procedure from Outbound directory|
        -- |                    to AOPS directory.                             |
        -- |                                                                   |
        -- | parameters :      p_host_dest                                     |
        -- |                  p_from_dir                                       |
        -- |                  p_from_file                                      |
        -- |                  p_to_dir                                         |
        -- |                  p_to_file                                        |   
        -- |                                                                   |
        -- +===================================================================+

PROCEDURE TRNSFR_File( p_host_dest VARCHAR2,
p_from_dir VARCHAR2,
p_from_file VARCHAR2,
p_to_dir VARCHAR2,
p_to_file VARCHAR2
                                       );




     -- +===================================================================+
        -- | Name             : TRNSFR_File                                   |
        -- | Description      : This procedure kicks off the business Event   |
        -- |                                                                  |
        -- |                                                                   |
        -- |                                                                   |
        -- | parameters :      p_event_name                                      |
        -- |                  p_arg_nam                                       |
        -- |                  p_arg_value                                      |
       -- |                                                                   |
        -- +===================================================================+

PROCEDURE RAISE_BE_File( p_event_name VARCHAR2,
p_arg_nam VARCHAR2,
p_arg_value  VARCHAR2

                                       );


END XX_TM_ASSIGNMENTS_OUTBOUND_PKG;
/
SHOW ERRORS;