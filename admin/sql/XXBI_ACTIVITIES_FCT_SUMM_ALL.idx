SET VERIFY OFF;
WHENEVER SQLERROR CONTINUE;
WHENEVER OSERROR EXIT FAILURE ROLLBACK;
-- +===================================================================+
-- |                  Office Depot - Project Simplify                  |
-- +===================================================================+
-- | Name        :  XXBI_ACTIVITIES_FCT_SUMM_MV.vw                     |
-- | Description :  Activities Fact Materialized View(for all reps)    |
-- |                                                                   |
-- |Change Record:                                                     |
-- |===============                                                    |
-- |Version   Date        Author             Remarks                   |
-- |=======   ==========  =============      ==========================|
-- |1.0       04/22/2010  Mohan Kalyanasundaram Initial draft version     |
-- +===================================================================+
----------------------------------------------------------
-- Create All indexes
----------------------------------------------------------
CREATE INDEX XXCRM.XXBI_ACT_FCT_SUMM_MV_N4
  ON XXCRM.XXBI_ACTIVITIES_FCT_SUMM_MV (ASSIGNED_USER_ID);
CREATE INDEX XXCRM.XXBI_ACT_FCT_SUMM_MV_N6
  ON XXCRM.XXBI_ACTIVITIES_FCT_SUMM_MV (M1_USER_ID);
CREATE INDEX XXCRM.XXBI_ACT_FCT_SUMM_MV_N8
  ON XXCRM.XXBI_ACTIVITIES_FCT_SUMM_MV (M2_USER_ID);
CREATE INDEX XXCRM.XXBI_ACT_FCT_SUMM_MV_N10
  ON XXCRM.XXBI_ACTIVITIES_FCT_SUMM_MV (M3_USER_ID);
CREATE INDEX XXCRM.XXBI_ACT_FCT_SUMM_MV_N12
  ON XXCRM.XXBI_ACTIVITIES_FCT_SUMM_MV (M4_USER_ID);


CREATE INDEX XXCRM.XXBI_ACT_FCT_SUMM_MV_N14
  ON XXCRM.XXBI_ACTIVITIES_FCT_SUMM_MV (OWNER_USER_ID);
CREATE INDEX XXCRM.XXBI_ACT_FCT_SUMM_MV_N23
  ON XXCRM.XXBI_ACTIVITIES_FCT_SUMM_MV (CREATED_BY);

CREATE INDEX XXCRM.XXBI_ACT_FCT_SUMM_MV_N55
  ON XXCRM.XXBI_ACTIVITIES_FCT_SUMM_MV (LAST_UPDATE_YEAR_ID);
CREATE INDEX XXCRM.XXBI_ACT_FCT_SUMM_MV_N56
  ON XXCRM.XXBI_ACTIVITIES_FCT_SUMM_MV (LAST_UPDATE_WEEK_NUMBER);

CREATE BITMAP INDEX XXCRM.XXBI_ACT_FCT_SUMM_MV_N77
  ON XXCRM.XXBI_ACTIVITIES_FCT_SUMM_MV (OWNER_ID);

CREATE BITMAP INDEX XXCRM.XXBI_ACT_FCT_SUMM_MV_N3
  ON XXCRM.XXBI_ACTIVITIES_FCT_SUMM_MV (ASSIGNED_RESOURCE_ID);
CREATE INDEX XXCRM.XXBI_ACT_FCT_SUMM_MV_N5
  ON XXCRM.XXBI_ACTIVITIES_FCT_SUMM_MV (M1_RESOURCE_ID);
CREATE INDEX XXCRM.XXBI_ACT_FCT_SUMM_MV_N7
  ON XXCRM.XXBI_ACTIVITIES_FCT_SUMM_MV (M2_RESOURCE_ID);
CREATE INDEX XXCRM.XXBI_ACT_FCT_SUMM_MV_N9
  ON XXCRM.XXBI_ACTIVITIES_FCT_SUMM_MV (M3_RESOURCE_ID);
CREATE INDEX XXCRM.XXBI_ACT_FCT_SUMM_MV_N11
  ON XXCRM.XXBI_ACTIVITIES_FCT_SUMM_MV (M4_RESOURCE_ID);

CREATE BITMAP INDEX XXCRM.XXBI_ACT_FCT_SUMM_MV_N24
  ON XXCRM.XXBI_ACTIVITIES_FCT_SUMM_MV (CREATED_RESOURCE_ID);

CREATE INDEX XXCRM.XXBI_ACT_FCT_SUMM_MV_N58
  ON XXCRM.XXBI_ACTIVITIES_FCT_SUMM_MV (ASSIGNED_RESOURCE_ID_DUP);

CREATE INDEX XXCRM.XXBI_ACT_FCT_SUMM_MV_N2
  ON xxcrm.XXBI_ACTIVITIES_FCT_SUMM_MV(CREATED_RESOURCE_ID,CREATED_M1_RESOURCE_ID,CREATED_M2_RESOURCE_ID,CREATED_M3_RESOURCE_ID,CREATED_M4_RESOURCE_ID,
LAST_UPDATED_BY,
OWNER_ID,OWNER_M1_RESOURCE_ID,OWNER_M2_RESOURCE_ID,OWNER_M3_RESOURCE_ID,OWNER_M4_RESOURCE_ID, 
ASSIGNED_RESOURCE_ID,M1_USER_ID,M2_USER_ID,M3_USER_ID,M4_USER_ID,
LAST_UPDATE_YEAR_ID,LAST_UPDATE_WEEK_NUMBER,
TASK_STATUS_ID,TASK_TYPE_ID,ENTITY_TYPE,SITE_USE) COMPUTE STATISTICS;


SHOW ERRORS;
EXIT;
