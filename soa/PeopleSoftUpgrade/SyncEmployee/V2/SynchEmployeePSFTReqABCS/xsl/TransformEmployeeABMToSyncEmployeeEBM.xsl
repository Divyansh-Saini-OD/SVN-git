<?xml version='1.0' encoding='UTF-8'?>
<?oracle-xsl-mapper
  <!-- SPECIFICATION OF MAP SOURCES AND TARGETS, DO NOT MODIFY. -->
  <mapSources>
    <source type="XSD">
      <schema location="../xsd/OD_EMPDATA_ASYNC_PUB.xsd"/>
      <rootElement name="OD_EMPDATA_ASYNC_PUB" namespace="http://xmlns.oracle.com/Enterprise/Tools/schemas/OD_EMPDATA_ASYNC_PUB.V1"/>
    </source>
  </mapSources>
  <mapTargets>
    <target type="XSD">
      <schema location="oramds:/apps/ODCommon/EnterpriseObjects/Core/EBO/Employee/V1/EmployeeEBM.xsd"/>
      <rootElement name="SyncEmployeeEBM" namespace="http://xmlns.officedepot.com/EnterpriseObjects/Core/EBO/Employee/V1"/>
    </target>
  </mapTargets>
  <!-- GENERATED BY ORACLE XSL MAPPER 11.1.1.5.0(build 110418.1550.0174) AT [WED AUG 08 18:03:43 IST 2012]. -->
?>
<xsl:stylesheet version="1.0"
                xmlns:sample="http://www.oracle.com/XSL/Transform/java/com.od.security.SerializedCouponConverter"
                xmlns:xp20="http://www.oracle.com/XSL/Transform/java/oracle.tip.pc.services.functions.Xpath20"
                xmlns:bpws="http://schemas.xmlsoap.org/ws/2003/03/business-process/"
                xmlns:ns0="http://xmlns.officedepot.com/EnterpriseObjects/Core/EBO/Employee/V1"
                xmlns:bpel="http://docs.oasis-open.org/wsbpel/2.0/process/executable"
                xmlns:ns1="http://xmlns.oracle.com/Enterprise/Tools/schemas/OD_EMPDATA_ASYNC_PUB.V1"
                xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                xmlns:client="http://xmlns.oracle.com/PeopleSoftMigration/SynchEmployeePSFTReqABCS/SynchEmployeePSFTReqABCSImpl"
                xmlns:bpm="http://xmlns.oracle.com/bpmn20/extensions"
                xmlns:comm="http://xmlns.officedepot.com/EnterpriseObjects/Core/Common/V3"
                xmlns:plnk="http://schemas.xmlsoap.org/ws/2003/05/partner-link/"
                xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/"
                xmlns:ns3="http://xmlns.officedepot.com/EnterpriseObjects/Core/Custom/Common/V3"
                xmlns:ora="http://schemas.oracle.com/xpath/extension"
                xmlns:socket="http://www.oracle.com/XSL/Transform/java/oracle.tip.adapter.socket.ProtocolTranslator"
                xmlns:ns2="http://schemas.xmlsoap.org/ws/2003/03/addressing"
                xmlns:mhdr="http://www.oracle.com/XSL/Transform/java/oracle.tip.mediator.service.common.functions.MediatorExtnFunction"
                xmlns:oraext="http://www.oracle.com/XSL/Transform/java/oracle.tip.pc.services.functions.ExtFunc"
                xmlns:dvm="http://www.oracle.com/XSL/Transform/java/oracle.tip.dvm.LookupValue"
                xmlns:hwf="http://xmlns.oracle.com/bpel/workflow/xpath"
                xmlns:med="http://schemas.oracle.com/mediator/xpath"
                xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
                xmlns:ids="http://xmlns.oracle.com/bpel/services/IdentityService/xpath"
                xmlns:ns5="urn:oasis:names:tc:xacml:2.0:policy:schema:cd:04"
                xmlns:xdk="http://schemas.oracle.com/bpel/extension/xpath/function/xdk"
                xmlns:xref="http://www.oracle.com/XSL/Transform/java/oracle.tip.xref.xpath.XRefXPathFunctions"
                xmlns:xsd="http://www.w3.org/2001/XMLSchema"
                xmlns:bpmn="http://schemas.oracle.com/bpm/xpath"
                xmlns:ns4="urn:oasis:names:tc:xacml:2.0:context:schema:cd:04"
                xmlns:ldap="http://schemas.oracle.com/xpath/extension/ldap"
                exclude-result-prefixes="xsi xsl ns1 client plnk wsdl xsd ns0 comm ns3 ns2 ns5 ns4 sample xp20 bpws bpel bpm ora socket mhdr oraext dvm hwf med ids xdk xref bpmn ldap">
   <xsl:template match="/">
      <ns0:SyncEmployeeEBM>
         <comm:EBMHeader>
            <comm:EBMName>
               <xsl:text disable-output-escaping="no">SyncEmployeeEBM</xsl:text>
            </comm:EBMName>
            <comm:CreationDateTime/>
            <comm:VerbCode>
               <xsl:text disable-output-escaping="no">Sync</xsl:text>
            </comm:VerbCode>
            <comm:Sender>
               <comm:ID>
                  <xsl:text disable-output-escaping="no">PSHR</xsl:text>
               </comm:ID>
            </comm:Sender>
         </comm:EBMHeader>
         <ns0:DataArea>
            <ns0:BatchId>
               <xsl:value-of select="/ns1:OD_EMPDATA_ASYNC_PUB/ns1:MsgData/ns1:Transaction/ns1:OD_I0140_MSG0/ns1:OD_I0140_MSG1/ns1:PROCESS_INSTANCE"/>
            </ns0:BatchId>
            <ns0:ChunkID>
               <xsl:value-of select="/ns1:OD_EMPDATA_ASYNC_PUB/ns1:MsgData/ns1:Transaction/ns1:OD_I0140_MSG0/ns1:OD_I0140_MSG1/ns1:CHUNKSIZE"/>
            </ns0:ChunkID>
            <ns0:DateTimeCreated/>
            <ns0:EmployeeList>
               <xsl:for-each select="/ns1:OD_EMPDATA_ASYNC_PUB/ns1:MsgData/ns1:Transaction/ns1:OD_I0140_MSG0/ns1:OD_I0140_MSG1/ns1:OD_FIN_CONV_PUB">
                  <ns0:Employee>
                     <ns0:EmployeeIdentification>
                        <ns0:EmployeeID>
                           <xsl:value-of select="ns1:EMPLID"/>
                        </ns0:EmployeeID>
                     </ns0:EmployeeIdentification>
                     <ns0:EmploymentDetails>
                        <ns0:BadgeNumber>
                           <xsl:value-of select="ns1:BADGE_NBR"/>
                        </ns0:BadgeNumber>
                        <ns0:Company>
                           <xsl:value-of select="ns1:COMPANY"/>
                        </ns0:Company>
                        <ns0:PersonRelationWithOrganisation>
                           <xsl:value-of select="ns1:PER_ORG"/>
                        </ns0:PersonRelationWithOrganisation>
                        <ns0:Status>
                           <xsl:value-of select="ns1:EMPL_STATUS"/>
                        </ns0:Status>
                        <ns0:Action>
                           <xsl:value-of select="ns1:ACTION"/>
                        </ns0:Action>
                        <ns0:VendorID>
                           <xsl:value-of select="ns1:VENDOR_ID"/>
                        </ns0:VendorID>
                        <ns0:HireDate>
                           <xsl:value-of select="ns1:HIRE_DT"/>
                        </ns0:HireDate>
                        <ns0:EffectiveDate>
                           <xsl:value-of select="ns1:OD_JOBEFFDT"/>
                        </ns0:EffectiveDate>
                        <ns0:TerminationDate>
                           <xsl:value-of select="ns1:TERMINATION_DT"/>
                        </ns0:TerminationDate>
                        <ns0:LastWorkedDate>
                           <xsl:value-of select="ns1:LAST_DATE_WORKED"/>
                        </ns0:LastWorkedDate>
                        <ns0:RegulatoryRegion>
                           <xsl:value-of select="ns1:REG_REGION"/>
                        </ns0:RegulatoryRegion>
                        <ns0:DepartmentReference>
                           <comm:Custom>
                              <ns3:DepartmentID>
                                 <xsl:value-of select="ns1:DEPTID"/>
                              </ns3:DepartmentID>
                              <ns3:DepartmentName>
                                 <xsl:value-of select="ns1:DEPTNAME"/>
                              </ns3:DepartmentName>
                              <ns3:DepartmentSetID>
                                 <xsl:value-of select="ns1:SETID_DEPT"/>
                              </ns3:DepartmentSetID>
                              <ns3:CostCenter>
                                 <xsl:value-of select="ns1:COST_CENTER"/>
                              </ns3:CostCenter>
                           </comm:Custom>
                        </ns0:DepartmentReference>
                        <ns0:BusinessUnitReference>
                           <comm:BusinessUnitIdentification>
                              <comm:ID>
                                 <xsl:value-of select="ns1:BUSINESS_UNIT"/>
                              </comm:ID>
                           </comm:BusinessUnitIdentification>
                        </ns0:BusinessUnitReference>
                        <ns0:LocationReference>
                           <comm:Custom>
                              <ns3:LocationID>
                                 <xsl:value-of select="ns1:LOCATION"/>
                              </ns3:LocationID>
                              <ns3:LocationSetID>
                                 <xsl:value-of select="ns1:SETID_LOCATION"/>
                              </ns3:LocationSetID>
                           </comm:Custom>
                        </ns0:LocationReference>
                        <ns0:JobDetail>
                           <ns0:JobCode>
                              <xsl:value-of select="ns1:JOBCODE"/>
                           </ns0:JobCode>
                           <ns0:JobCodeDescription>
                              <xsl:value-of select="ns1:JOB_DESCR"/>
                           </ns0:JobCodeDescription>
                           <ns0:JobFunction>
                              <xsl:value-of select="ns1:JOB_FUNCTION"/>
                           </ns0:JobFunction>
                           <ns0:JobDescription>
                              <xsl:value-of select="ns1:DESCR"/>
                           </ns0:JobDescription>
                           <ns0:SetIDJobCode>
                              <xsl:value-of select="ns1:SETID_JOBCODE"/>
                           </ns0:SetIDJobCode>
                           <ns0:SalaryAdminPlan>
                              <xsl:value-of select="ns1:SAL_ADMIN_PLAN"/>
                           </ns0:SalaryAdminPlan>
                           <ns0:BonusCode>
                              <xsl:value-of select="ns1:OD_BONUS_CD"/>
                           </ns0:BonusCode>
                           <ns0:ExtendedEEOCode>
                              <xsl:value-of select="ns1:OD_EXTENDED_EEO"/>
                           </ns0:ExtendedEEOCode>
                           <ns0:SetIDSalary>
                              <xsl:value-of select="ns1:SETID_SALARY"/>
                           </ns0:SetIDSalary>
                           <ns0:JobTimePeriod>
                              <comm:StartDateTime>
                                 <xsl:call-template name="convertDateFormat">
                                    <xsl:with-param name="indate"
                                                    select="ns1:JOB_ENTRY_DT"/>
                                    <xsl:with-param name="inAddTime"
                                                    select="'Y'"/>
                                 </xsl:call-template>
                              </comm:StartDateTime>
                           </ns0:JobTimePeriod>
                           <ns0:JobGrade>
                              <ns0:Grade>
                                 <xsl:value-of select="ns1:GRADE"/>
                              </ns0:Grade>
                           </ns0:JobGrade>
                           <ns0:JobAssignmentSupervision>
                              <ns0:SupervisorID>
                                 <xsl:value-of select="ns1:SUPERVISOR_ID"/>
                              </ns0:SupervisorID>
                              <ns0:ManagerLevel>
                                 <xsl:value-of select="ns1:MANAGER_LEVEL"/>
                              </ns0:ManagerLevel>
                           </ns0:JobAssignmentSupervision>
                        </ns0:JobDetail>
                     </ns0:EmploymentDetails>
                     <ns0:PersonDetails>
                        <comm:Person>
                           <comm:GenderCode>
                              <xsl:value-of select="ns1:SEX"/>
                           </comm:GenderCode>
                           <comm:PersonName>
                              <comm:FirstName>
                                 <xsl:value-of select="ns1:FIRST_NAME"/>
                              </comm:FirstName>
                              <comm:MiddleName>
                                 <xsl:value-of select="ns1:MIDDLE_NAME"/>
                              </comm:MiddleName>
                              <comm:FamilyName>
                                 <xsl:value-of select="ns1:LAST_NAME"/>
                              </comm:FamilyName>
                              <comm:Prefix>
                                 <xsl:value-of select="ns1:NAME_PREFIX"/>
                              </comm:Prefix>
                              <comm:Suffix>
                                 <xsl:value-of select="ns1:NAME_SUFFIX"/>
                              </comm:Suffix>
                              <comm:Custom>
                                 <ns3:SecondLastName>
                                    <xsl:value-of select="ns1:SECOND_LAST_NAME"/>
                                 </ns3:SecondLastName>
                              </comm:Custom>
                           </comm:PersonName>
                           <comm:PersonNationalIdentity>
                              <comm:Identification>
                                 <comm:ID>
                                    <xsl:value-of select="ns1:NATIONAL_ID"/>
                                 </comm:ID>
                              </comm:Identification>
                           </comm:PersonNationalIdentity>
                           <comm:Custom>
                              <ns3:PSHRBirthDate>
                                 <xsl:value-of select="ns1:BIRTH_DT"/>
                              </ns3:PSHRBirthDate>
                           </comm:Custom>
                        </comm:Person>
                        <ns0:PersonCommunication>
                           <comm:AddressCommunication>
                              <comm:Address>
                                 <comm:LineOne>
                                    <xsl:value-of select="ns1:ADDRESS1"/>
                                 </comm:LineOne>
                                 <comm:LineTwo>
                                    <xsl:value-of select="ns1:ADDRESS2"/>
                                 </comm:LineTwo>
                                 <comm:LineThree>
                                    <xsl:value-of select="ns1:ADDRESS3"/>
                                 </comm:LineThree>
                                 <comm:CityName>
                                    <xsl:value-of select="ns1:CITY"/>
                                 </comm:CityName>
                                 <comm:StateName>
                                    <xsl:value-of select="ns1:STATE"/>
                                 </comm:StateName>
                                 <comm:CountyName>
                                    <xsl:value-of select="ns1:COUNTY"/>
                                 </comm:CountyName>
                                 <comm:CountryCode>
                                    <xsl:value-of select="ns1:COUNTRY"/>
                                 </comm:CountryCode>
                                 <comm:DeliveryPointCode>
                                    <xsl:value-of select="ns1:OD_MAIL_CODE"/>
                                 </comm:DeliveryPointCode>
                                 <comm:PostalCode>
                                    <xsl:value-of select="ns1:POSTAL"/>
                                 </comm:PostalCode>
                              </comm:Address>
                              <comm:EffectiveTimePeriod>
                                 <comm:StartDateTime>
                                    <xsl:call-template name="convertDateFormat">
                                       <xsl:with-param name="indate"
                                                       select="ns1:OD_ADDEFFDT"/>
                                       <xsl:with-param name="inAddTime"
                                                       select="'Y'"/>
                                    </xsl:call-template>
                                 </comm:StartDateTime>
                              </comm:EffectiveTimePeriod>
                           </comm:AddressCommunication>
                           <ns0:EmailCommunication>
                              <comm:URI>
                                 <xsl:value-of select="ns1:EMAILID"/>
                              </comm:URI>
                           </ns0:EmailCommunication>
                           <xsl:call-template name="getFaxCommunicationDeviceDetails">
                              <xsl:with-param name="completeNumber"
                                              select="ns1:OD_PHONE_FAXP"/>
                              <xsl:with-param name="usage" select='"Personal"'/>
                              <xsl:with-param name="preferenceIndicator"
                                              select="ns1:PREF_PHONE_FAXP_FG"/>
                           </xsl:call-template>
                           <xsl:call-template name="getFaxCommunicationDeviceDetails">
                              <xsl:with-param name="completeNumber"
                                              select="ns1:OD_PHONE_FAX"/>
                              <xsl:with-param name="usage" select='"Business"'/>
                              <xsl:with-param name="preferenceIndicator"
                                              select="ns1:PREF_PHONE_FAX_FG"/>
                           </xsl:call-template>
                           <xsl:call-template name="getPhoneCommunicationDeviceDetails">
                              <xsl:with-param name="completeNumber"
                                              select="ns1:OD_PHONE_BUSN"/>
                              <xsl:with-param name="usage" select='"Business"'/>
                              <xsl:with-param name="deviceTypeCode"
                                              select='"Landline"'/>
                              <xsl:with-param name="preferenceIndicator"
                                              select="ns1:PREF_PHONE_BUSN_FG"/>
                           </xsl:call-template>
                           <xsl:call-template name="getPhoneCommunicationDeviceDetails">
                              <xsl:with-param name="completeNumber"
                                              select="ns1:OD_PHONE_MAIN"/>
                              <xsl:with-param name="usage" select='"Main"'/>
                              <xsl:with-param name="deviceTypeCode"
                                              select='"Landline"'/>
                              <xsl:with-param name="preferenceIndicator"
                                              select="ns1:PREF_PHONE_MAIN_FG"/>
                           </xsl:call-template>
                           <xsl:call-template name="getPhoneCommunicationDeviceDetails">
                              <xsl:with-param name="completeNumber"
                                              select="ns1:OD_PHONE_MOBB"/>
                              <xsl:with-param name="usage" select='"Business"'/>
                              <xsl:with-param name="deviceTypeCode"
                                              select='"Mobile"'/>
                              <xsl:with-param name="preferenceIndicator"
                                              select="ns1:PREF_PHONE_MOBB_FG"/>
                           </xsl:call-template>
                           <xsl:call-template name="getPhoneCommunicationDeviceDetails">
                              <xsl:with-param name="completeNumber"
                                              select="ns1:OD_PHONE_MOBP"/>
                              <xsl:with-param name="usage" select='"Personal"'/>
                              <xsl:with-param name="deviceTypeCode"
                                              select='"Mobile"'/>
                              <xsl:with-param name="preferenceIndicator"
                                              select="ns1:PREF_PHONE_MOBP_FG"/>
                           </xsl:call-template>
                           <xsl:call-template name="getPhoneCommunicationDeviceDetails">
                              <xsl:with-param name="completeNumber"
                                              select="ns1:OD_PHONE_PGR1"/>
                              <xsl:with-param name="usage" select='"Personal"'/>
                              <xsl:with-param name="deviceTypeCode"
                                              select='"Pager"'/>
                              <xsl:with-param name="preferenceIndicator"
                                              select="ns1:PREF_PHONE_PGR1_FG"/>
                           </xsl:call-template>
                        </ns0:PersonCommunication>
                     </ns0:PersonDetails>
                  </ns0:Employee>
               </xsl:for-each>
            </ns0:EmployeeList>
         </ns0:DataArea>
      </ns0:SyncEmployeeEBM>
   </xsl:template>
   <xsl:template name="getPhoneCommunicationDeviceDetails">
      <xsl:param name="completeNumber"/>
      <xsl:param name="usage"/>
      <xsl:param name="deviceTypeCode"/>
      <xsl:param name="preferenceIndicator"/>
      <ns0:PhoneCommunication>
         <comm:CompleteNumber>
            <xsl:value-of select="$completeNumber"/>
         </comm:CompleteNumber>
         <comm:UseCode>
            <xsl:value-of select="$usage"/>
         </comm:UseCode>
         <comm:TypeCode>
            <xsl:value-of select="$deviceTypeCode"/>
         </comm:TypeCode>
         <comm:Preference>
            <comm:PreferredIndicator>
               <xsl:value-of select="$preferenceIndicator"/>
            </comm:PreferredIndicator>
         </comm:Preference>
      </ns0:PhoneCommunication>
   </xsl:template>
   <xsl:template name="getFaxCommunicationDeviceDetails">
      <xsl:param name="completeNumber"/>
      <xsl:param name="usage"/>
      <xsl:param name="preferenceIndicator"/>
      <ns0:FaxCommunication>
         <comm:CompleteNumber>
            <xsl:value-of select="$completeNumber"/>
         </comm:CompleteNumber>
         <comm:UseCode>
            <xsl:value-of select="$usage"/>
         </comm:UseCode>
         <comm:Preference>
            <comm:PreferredIndicator>
               <xsl:value-of select="$preferenceIndicator"/>
            </comm:PreferredIndicator>
         </comm:Preference>
      </ns0:FaxCommunication>
   </xsl:template>
   <xsl:template name="convertDateFormat">
      <xsl:param name="indate"/>
      <xsl:param name="inAddTime"/>
      <xsl:value-of select="$indate"/>
      <xsl:if test="$inAddTime = 'Y'">T00:00:00</xsl:if>
   </xsl:template>
</xsl:stylesheet>
