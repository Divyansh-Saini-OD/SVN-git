<?xml version="1.0" encoding="UTF-8" ?>
<?oracle-xsl-mapper
  <!-- SPECIFICATION OF MAP SOURCES AND TARGETS, DO NOT MODIFY. -->
  <mapSources>
    <source type="XSD">
      <schema location="APPS_XX_OM_WSH_OTM_REF_DATA_GEN_PKG_SEND_LOCATIONS.xsd"/>
      <rootElement name="OutputParameters" namespace="http://xmlns.oracle.com/pcbpel/adapter/db/APPS/XX_OM_WSH_OTM_REF_DATA_GEN_PKG/SEND_LOCATIONS/"/>
    </source>
  </mapSources>
  <mapTargets>
    <target type="XSD">
      <schema location="GLogXML.xsd"/>
      <rootElement name="Transmission" namespace="http://xmlns.oracle.com/apps/otm"/>
    </target>
  </mapTargets>
  <!-- GENERATED BY ORACLE XSL MAPPER 10.1.3.1.0(build 061009.0802) AT [FRI JUN 22 14:34:52 IST 2007]. -->
?>
<xsl:stylesheet version="1.0"
                xmlns:ldap="http://schemas.oracle.com/xpath/extension/ldap"
                xmlns:xp20="http://www.oracle.com/XSL/Transform/java/oracle.tip.pc.services.functions.Xpath20"
                xmlns:ns1="http://xmlns.oracle.com/apps/otm"
                xmlns:bpws="http://schemas.xmlsoap.org/ws/2003/03/business-process/"
                xmlns:db="http://xmlns.oracle.com/pcbpel/adapter/db/APPS/XX_OM_WSH_OTM_REF_DATA_GEN_PKG/SEND_LOCATIONS/"
                xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
                xmlns:ora="http://schemas.oracle.com/xpath/extension"
                xmlns:ehdr="http://www.oracle.com/XSL/Transform/java/oracle.tip.esb.server.headers.ESBHeaderFunctions"
                xmlns:ns0="http://www.w3.org/2001/XMLSchema"
                xmlns:orcl="http://www.oracle.com/XSL/Transform/java/oracle.tip.pc.services.functions.ExtFunc"
                xmlns:ids="http://xmlns.oracle.com/bpel/services/IdentityService/xpath"
                xmlns:hwf="http://xmlns.oracle.com/bpel/workflow/xpath"
                exclude-result-prefixes="xsl db ns0 ns1 xp20 bpws ora ehdr orcl ids hwf">
  <xsl:template match="/">
    <ns1:Transmission>
      <ns1:TransmissionHeader>
        <ns1:UserName>
          <xsl:value-of select="/db:OutputParameters/X_LOC_XMISSION_REC/USERNAME"/>
        </ns1:UserName>
        <ns1:Password>
          <xsl:value-of select="/db:OutputParameters/X_LOC_XMISSION_REC/PASSWORD"/>
        </ns1:Password>
      </ns1:TransmissionHeader>
      <ns1:TransmissionBody>
        <xsl:for-each select="/db:OutputParameters/X_LOC_XMISSION_REC/LOCATIONS_TBL/LOCATIONS_TBL_ITEM">
          <ns1:GLogXMLElement>
            <ns1:PlannedShipment>
              <ns1:Shipment>
                <ns1:Location>
                  <xsl:if test="string-length(ATTRIBUTE1) != 0">
                    <ns1:RateClassificationGid>
                      <ns1:Gid>
                        <ns1:DomainName>
                          <xsl:value-of select="LOCATION_DN"/>
                        </ns1:DomainName>
                        <ns1:Xid>
                          <xsl:value-of select="ATTRIBUTE1"/>
                        </ns1:Xid>
                      </ns1:Gid>
                    </ns1:RateClassificationGid>
                  </xsl:if>
                  <xsl:if test="string-length(ATTRIBUTE2) != 0">
                    <ns1:ServiceProviderProfileGid>
                      <ns1:Gid>
                        <ns1:DomainName>
                          <xsl:value-of select="LOCATION_DN"/>
                        </ns1:DomainName>
                        <ns1:Xid>
                          <xsl:value-of select="ATTRIBUTE2"/>
                        </ns1:Xid>
                      </ns1:Gid>
                    </ns1:ServiceProviderProfileGid>
                  </xsl:if>
                </ns1:Location>
              </ns1:Shipment>
            </ns1:PlannedShipment>
            <ns1:Location>
              <ns1:TransactionCode>
                <xsl:value-of select="TXN_CODE"/>
              </ns1:TransactionCode>
              <ns1:LocationGid>
                <ns1:Gid>
                  <ns1:DomainName>
                    <xsl:value-of select="LOCATION_DN"/>
                  </ns1:DomainName>
                  <ns1:Xid>
                    <xsl:value-of select="LOCATION_XID"/>
                  </ns1:Xid>
                </ns1:Gid>
              </ns1:LocationGid>
              <ns1:LocationName>
                <xsl:value-of select="LOCATION_NAME"/>
              </ns1:LocationName>
              <ns1:Address>
                <xsl:for-each select="LOC_ADDR_TBL/LOC_ADDR_TBL_ITEM">
                  <ns1:AddressLines>
                    <xsl:if test="string-length(SEQ_NUMBER) > 0.0">
                      <ns1:SequenceNumber>
                        <xsl:value-of select="SEQ_NUMBER"/>
                      </ns1:SequenceNumber>
                    </xsl:if>
                    <xsl:if test="string-length(ADRESS_LINE) > 0.0">
                      <ns1:AddressLine>
                        <xsl:value-of select="ADRESS_LINE"/>
                      </ns1:AddressLine>
                    </xsl:if>
                  </ns1:AddressLines>
                </xsl:for-each>
                <xsl:if test="string-length(CITY) > 0.0">
                  <ns1:City>
                    <xsl:value-of select="CITY"/>
                  </ns1:City>
                </xsl:if>
                <xsl:if test="string-length(PROVINCE) > 0.0">
                  <ns1:Province>
                    <xsl:value-of select="PROVINCE"/>
                  </ns1:Province>
                </xsl:if>
                <xsl:if test="string-length(PROVINCE_CODE) > 0.0">
                  <ns1:ProvinceCode>
                    <xsl:value-of select="PROVINCE_CODE"/>
                  </ns1:ProvinceCode>
                </xsl:if>
                <xsl:if test="string-length(POSTAL_CODE) > 0.0">
                  <ns1:PostalCode>
                    <xsl:value-of select="POSTAL_CODE"/>
                  </ns1:PostalCode>
                </xsl:if>
                <xsl:if test="string-length(COUNTRY_CODE_XID) > 0.0">
                  <xsl:if test="string-length(COUNTRY_CODE_DN) > 0.0">
                    <ns1:CountryCode3Gid>
                      <ns1:Gid>
                        <ns1:DomainName>
                          <xsl:value-of select="COUNTRY_CODE_DN"/>
                        </ns1:DomainName>
                        <ns1:Xid>
                          <xsl:value-of select="COUNTRY_CODE_XID"/>
                        </ns1:Xid>
                      </ns1:Gid>
                    </ns1:CountryCode3Gid>
                  </xsl:if>
                </xsl:if>
              </ns1:Address>
              <xsl:for-each select="LOC_REF_NUM_TBL/LOC_REF_NUM_TBL_ITEM">
                <ns1:LocationRefnum>
                  <xsl:if test="string-length(LOC_REF_NUM_QUALIFIER_XID) > 0.0">
                    <xsl:if test="string-length(LOC_REF_NUM_QUALIFIER_DN) > 0.0">
                      <ns1:LocationRefnumQualifierGid>
                        <ns1:Gid>
                          <ns1:DomainName>
                            <xsl:value-of select="LOC_REF_NUM_QUALIFIER_DN"/>
                          </ns1:DomainName>
                          <ns1:Xid>
                            <xsl:value-of select="LOC_REF_NUM_QUALIFIER_XID"/>
                          </ns1:Xid>
                        </ns1:Gid>
                      </ns1:LocationRefnumQualifierGid>
                    </xsl:if>
                  </xsl:if>
                  <xsl:if test="string-length(LOC_REF_NUM_VALUE) > 0.0">
                    <ns1:LocationRefnumValue>
                      <xsl:value-of select="LOC_REF_NUM_VALUE"/>
                    </ns1:LocationRefnumValue>
                  </xsl:if>
                </ns1:LocationRefnum>
              </xsl:for-each>
              <xsl:for-each select="ATTRIBUTE9">
                <xsl:if test="string-length(.) != 0">
                  <ns1:SpecialService>
                    <ns1:SpecialServiceGid>
                      <ns1:Gid>
                        <ns1:DomainName>
                          <xsl:value-of select="../LOCATION_DN"/>
                        </ns1:DomainName>
                        <ns1:Xid>
                          <xsl:value-of select="."/>
                        </ns1:Xid>
                      </ns1:Gid>
                    </ns1:SpecialServiceGid>
                  </ns1:SpecialService>
                </xsl:if>
              </xsl:for-each>
              <xsl:for-each select="ATTRIBUTE10">
                <xsl:if test="string-length(.) != 0">
                  <ns1:SpecialService>
                    <ns1:SpecialServiceGid>
                      <ns1:Gid>
                        <ns1:DomainName>
                          <xsl:value-of select="../LOCATION_DN"/>
                        </ns1:DomainName>
                        <ns1:Xid>
                          <xsl:value-of select="."/>
                        </ns1:Xid>
                      </ns1:Gid>
                    </ns1:SpecialServiceGid>
                  </ns1:SpecialService>
                </xsl:if>
              </xsl:for-each>
              <xsl:for-each select="LOC_CONTACT_TBL/LOC_CONTACT_TBL_ITEM">
                <ns1:Contact>
                  <ns1:ContactGid>
                    <ns1:Gid>
                      <ns1:DomainName>
                        <xsl:value-of select="CONTACT_DN"/>
                      </ns1:DomainName>
                      <ns1:Xid>
                        <xsl:value-of select="CONTACT_XID"/>
                      </ns1:Xid>
                    </ns1:Gid>
                  </ns1:ContactGid>
                  <ns1:TransactionCode>
                    <xsl:value-of select="TXN_CODE"/>
                  </ns1:TransactionCode>
                  <xsl:if test="EMAIL_ADDRESS">
                    <ns1:EmailAddress>
                      <xsl:value-of select="EMAIL_ADDRESS"/>
                    </ns1:EmailAddress>
                  </xsl:if>
                  <xsl:if test="string-length(FIRST_NAME) > 0.0">
                    <ns1:FirstName>
                      <xsl:value-of select="FIRST_NAME"/>
                    </ns1:FirstName>
                  </xsl:if>
                  <xsl:if test="string-length(LAST_NAME) > 0.0">
                    <ns1:LastName>
                      <xsl:value-of select="LAST_NAME"/>
                    </ns1:LastName>
                  </xsl:if>
                  <xsl:if test="string-length(JOB_TITLE) > 0.0">
                    <ns1:JobTitle>
                      <xsl:value-of select="JOB_TITLE"/>
                    </ns1:JobTitle>
                  </xsl:if>
                  <xsl:if test="string-length(PHONE1) > 0.0">
                    <ns1:Phone1>
                      <xsl:value-of select="PHONE1"/>
                    </ns1:Phone1>
                  </xsl:if>
                  <xsl:if test="string-length(PHONE2) > 0.0">
                    <ns1:Phone2>
                      <xsl:value-of select="PHONE2"/>
                    </ns1:Phone2>
                  </xsl:if>
                  <xsl:if test="string-length(FAX) > 0.0">
                    <ns1:Fax>
                      <xsl:value-of select="FAX"/>
                    </ns1:Fax>
                  </xsl:if>
                </ns1:Contact>
              </xsl:for-each>
              <ns1:LocationRole>
                <xsl:if test="string-length(LOCATION_ROLE_XID) > 0.0">
                  <xsl:if test="string-length(LOCATION_ROLE_DN) > 0.0">
                    <ns1:LocationRoleGid>
                      <ns1:Gid>
                        <ns1:DomainName>
                          <xsl:value-of select="LOCATION_ROLE_DN"/>
                        </ns1:DomainName>
                        <ns1:Xid>
                          <xsl:value-of select="LOCATION_ROLE_XID"/>
                        </ns1:Xid>
                      </ns1:Gid>
                    </ns1:LocationRoleGid>
                  </xsl:if>
                </xsl:if>
              </ns1:LocationRole>
              <xsl:if test="string-length(PARENT_LOCATION_XID) > 0.0">
                <xsl:if test="string-length(PARENT_LOCATION_DN) > 0.0">
                  <ns1:ParentLocationGid>
                    <ns1:LocationGid>
                      <ns1:Gid>
                        <ns1:DomainName>
                          <xsl:value-of select="PARENT_LOCATION_DN"/>
                        </ns1:DomainName>
                        <ns1:Xid>
                          <xsl:value-of select="PARENT_LOCATION_XID"/>
                        </ns1:Xid>
                      </ns1:Gid>
                    </ns1:LocationGid>
                  </ns1:ParentLocationGid>
                </xsl:if>
              </xsl:if>
              <xsl:if test="string-length(CORPORATION) > 0.0">
                <ns1:Corporation>
                  <ns1:CorporationName>
                    <xsl:value-of select="CORPORATION"/>
                  </ns1:CorporationName>
                </ns1:Corporation>
              </xsl:if>
              <xsl:if test="string-length(IS_SHIPPER_KNOWN) > 0.0">
                <ns1:IsShipperKnown>
                  <xsl:value-of select="IS_SHIPPER_KNOWN"/>
                </ns1:IsShipperKnown>
              </xsl:if>
              <xsl:if test="string-length(SUBSTITUTE_LOCATION_DN > 0.0)">
                <ns1:SubstituteLocation>
                  <ns1:LocationRef>
                    <ns1:LocationGid>
                      <ns1:Gid>
                        <ns1:DomainName>
                          <xsl:value-of select="SUBSTITUTE_LOCATION_DN"/>
                        </ns1:DomainName>
                        <ns1:Xid>
                          <xsl:value-of select="SUBSTITUTE_LOCATION_XID"/>
                        </ns1:Xid>
                      </ns1:Gid>
                    </ns1:LocationGid>
                  </ns1:LocationRef>
                </ns1:SubstituteLocation>
              </xsl:if>
            </ns1:Location>
          </ns1:GLogXMLElement>
        </xsl:for-each>
      </ns1:TransmissionBody>
    </ns1:Transmission>
  </xsl:template>
</xsl:stylesheet>
