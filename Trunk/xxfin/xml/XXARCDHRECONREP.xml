<?xml version="1.0" encoding="WINDOWS-1252"?>
<dataTemplate name="XXARWCOBSREP" description="OD: AR - WC Open Balnace Summary Report" Version="1.0">

	<dataQuery>
	<sqlStatement name="Q_SUMMARY">
		<![CDATA[
         SELECT SUM(a) wc_usd
               ,SUM(b) NONWC_USD
               ,SUM(c) WC_CAD
               ,SUM(d) NONWC_CAD
               ,SUM(a) + SUM(b) usd_total
               ,SUM(c) + SUM(d) cad_total
          FROM (SELECT DECODE (recon_to_wc
                               ,'Y', DECODE (invoice_currency_code
                                            ,'USD', amount_due_remaining
                                            ,0
                                            )
                               ) a
                       ,DECODE (recon_to_wc
                               ,'N', DECODE (invoice_currency_code
                                            ,'USD', amount_due_remaining
                                            ,0
                                            )
                               ) b
                       ,DECODE (recon_to_wc
                               ,'Y', DECODE (invoice_currency_code
                                            ,'CAD', amount_due_remaining
                                            ,0
                                            )
                               ) c
                       ,DECODE (recon_to_wc
                               ,'N', DECODE (invoice_currency_code
                                            ,'CAD', amount_due_remaining
                                            ,0
                                            )
                               ) d
                   FROM xx_ar_recon_open_itm
      --where customer_id=7069
)
		]]>
      </sqlStatement>	
      <sqlStatement name="Q_USD_DETAILS">
		<![CDATA[
			SELECT A.CUSTOMER_ID usd_customer_id
                        ,B.ACCOUNT_NAME usd_account_name
                        ,B.ACCOUNT_NUMBER usd_account_number
                        ,SUM(A.AMOUNT_DUE_REMAINING) usd_amount_due
                    FROM XX_AR_RECON_OPEN_ITM A,
                         HZ_CUST_ACCOUNTS_all B
                   WHERE A.CUSTOMER_ID = B.CUST_ACCOUNT_ID (+)
                     AND A.RECON_TO_WC = 'N' 
                     AND A.ORG_ID = 404
                  --   and a.customer_id=7069
                GROUP BY A.ORG_ID, A.CUSTOMER_ID, B.ACCOUNT_NAME, B.ACCOUNT_NUMBER
                ORDER BY B.ACCOUNT_NAME
		]]>
		</sqlStatement>

	<sqlStatement name="Q_CAD_DETAILS">
		<![CDATA[
			SELECT A.CUSTOMER_ID cad_customer_id
                        ,B.ACCOUNT_NAME usd_account_name
                        ,B.ACCOUNT_NUMBER cad_account_number
                        ,SUM(A.AMOUNT_DUE_REMAINING) cad_amount_due
                    FROM XX_AR_RECON_OPEN_ITM A,
                         HZ_CUST_ACCOUNTS_all B
                   WHERE A.CUSTOMER_ID = B.CUST_ACCOUNT_ID (+)
                     AND A.RECON_TO_WC = 'N' 
                     AND A.ORG_ID = 403
                  --   and a.customer_id=4078748
                GROUP BY A.ORG_ID, A.CUSTOMER_ID, B.ACCOUNT_NAME, B.ACCOUNT_NUMBER
                ORDER BY B.ACCOUNT_NAME
		]]>
	</sqlStatement>
	</dataQuery>
	
      <dataStructure>
	<group name="G_SUMMARY" source="Q_SUMMARY">
			<element name="wc_usd" value="wc_usd" />
			<element name="nonwc_usd" value="nonwc_usd" />
			<element name="wc_cad" value="wc_cad" />
			<element name="nonwc_cad" value="nonwc_cad" />
			<element name="usd_total" value="usd_total" />
			<element name="cad_total" value="cad_total" />
	</group>
	<group name="G_USD_DETAILS" source="Q_USD_DETAILS">
			<element name="USD_CUSTOMER_ID" value="USD_CUSTOMER_ID" />
			<element name="USD_ACCOUNT_NAME" value="USD_ACCOUNT_NAME" />
			<element name="USD_ACCOUNT_NUMBER" value="USD_ACCOUNT_NUMBER" />
			<element name="USD_AMOUNT_DUE" value="USD_AMOUNT_DUE" />
	</group>
	<group name="G_CAD_DETAILS" source="Q_CAD_DETAILS">
			<element name="CAD_CUSTOMER_ID" value="CAD_CUSTOMER_ID" />
			<element name="CAD_ACCOUNT_NAME" value=" CAD_ACCOUNT_NAME" />
			<element name="CAD_ACCOUNT_NUMBER" value="CAD_ACCOUNT_NUMBER" />
			<element name="CAD_AMOUNT_DUE" value="CAD_AMOUNT_DUE" />
	</group>
	</dataStructure>
</dataTemplate>