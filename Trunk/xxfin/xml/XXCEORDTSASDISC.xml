<dataTemplate name="XXCEORDTSASDISC" description="OD: CE Order Receipt Detail Discrepancy Detail Report" defaultPackage="XX_CE_ORDTSAS_DISC_PKG" Version="1.0">

<properties>
    <property name="scalable_mode" value="on" /> 
    <property name="include_parameters" value="true" /> 
    <property name="include_null_element" value="true" /> 
    <property name="xml_tag_case" value="upper" /> 
    <property name="db_fetch_size" value="500" /> 
    <property name="scalable_mode" value="on" /> 
    <property name="include_rowsettag" value="false" /> 
    <property name="debug_mode" value="on" /> 
    <property name="rtf-output-default-font">Arial:8</property> 
</properties>

<parameters>
    <parameter name="P_RECEIPT_DATE_FROM" datatype="DATE"/>
    <parameter name="P_RECEIPT_DATE_TO" datatype="DATE"/>
    <parameter name="P_TENDER_TYPE" datatype="CHARACTER"/>
    <parameter name="P_STORE_NUMBER_FROM" datatype="CHARACTER"/>
    <parameter name="P_STORE_NUMBER_TO" datatype="CHARACTER"/>
</parameters>

<dataQuery>
    <sqlStatement name="Q_PARAMS">
        <![CDATA[SELECT (TO_CHAR(TO_DATE(:P_RECEIPT_DATE_FROM, 'yyyy/mm/dd hh24:mi:ss'), 'DD-MON-RRRR')) RECEIPT_DATE_FROM,
                        (TO_CHAR(TO_DATE(:P_RECEIPT_DATE_TO, 'yyyy/mm/dd hh24:mi:ss'), 'DD-MON-RRRR')) RECEIPT_DATE_TO,
                        (:P_TENDER_TYPE) TENDER_TYPE,
                        (:P_STORE_NUMBER_FROM) STORE_NUMBER_FROM,
                        (:P_STORE_NUMBER_TO) STORE_NUMBER_TO
                   FROM dual]]> 
    </sqlStatement>

    <sqlStatement name="Q_POS_DATA">
        <![CDATA[ &p_pos_sql_detail ]]> 
    </sqlStatement>

    <sqlStatement name="Q_AOPS_DATA">
        <![CDATA[ &p_aops_sql_detail ]]> 
    </sqlStatement>

    <sqlStatement name="Q_SPAY_DATA">
        <![CDATA[ &p_spay_sql_detail ]]> 
    </sqlStatement>

    <sqlStatement name="Q_POS_TOTAL_DISC">
        <![CDATA[ &p_pos_total_disc ]]> 
    </sqlStatement>

    <sqlStatement name="Q_AOPS_TOTAL_DISC">
        <![CDATA[ &p_aops_total_disc ]]> 
    </sqlStatement>

    <sqlStatement name="Q_SPAY_TOTAL_DISC">
        <![CDATA[ &p_spay_total_disc ]]> 
    </sqlStatement>

</dataQuery>

<dataTrigger name="beforeReport" source="XX_CE_ORDTSAS_DISC_PKG.before_report_det"/>
<dataTrigger name="afterReport" source="XX_CE_ORDTSAS_DISC_PKG.after_report_det"/>

<dataStructure>
    <group name="G_PARAMS" source="Q_PARAMS">
        <element name="RECEIPT_DATE_FROM" value="RECEIPT_DATE_FROM" function="" /> 
        <element name="RECEIPT_DATE_TO" value="RECEIPT_DATE_TO" function="" /> 
        <element name="TENDER_TYPE" value="TENDER_TYPE" function="" /> 
        <element name="STORE_NUMBER_FROM" value="STORE_NUMBER_FROM" function="" /> 
        <element name="STORE_NUMBER_TO" value="STORE_NUMBER_TO" function="" /> 
    </group> 

    <group name="G_POS_DATA" source="Q_POS_DATA">
        <element name="RECEIPT_DATE" value="RECEIPT_DATE" function="" /> 
        <element name="STORE_NUMBER" value="STORE_NUMBER" function="" />  
        <element name="TENDER_TYPE" value="TENDER_TYPE" function="" /> 
        <element name="SAS_TOTAL" value="SAS_TOTAL" function="" />
        <element name="ORDT_TOTAL" value="ORDT_TOTAL" function="" /> 
        <element name="DISCREPANCY" value="DISCREPANCY" function="" /> 
    </group>
    
    <group name="G_AOPS_DATA" source="Q_AOPS_DATA">
        <element name="RECEIPT_DATE" value="RECEIPT_DATE" function="" /> 
        <element name="STORE_NUMBER" value="STORE_NUMBER" function="" />  
        <element name="TENDER_TYPE" value="TENDER_TYPE" function="" /> 
        <element name="SAS_TOTAL" value="SAS_TOTAL" function="" />
        <element name="ORDT_TOTAL" value="ORDT_TOTAL" function="" /> 
        <element name="DISCREPANCY" value="DISCREPANCY" function="" /> 
    </group>  
    
    <group name="G_SPAY_DATA" source="Q_SPAY_DATA">
        <element name="RECEIPT_DATE" value="RECEIPT_DATE" function="" /> 
        <element name="STORE_NUMBER" value="STORE_NUMBER" function="" />  
        <element name="TENDER_TYPE" value="TENDER_TYPE" function="" /> 
        <element name="SAS_TOTAL" value="SAS_TOTAL" function="" />
        <element name="ORDT_TOTAL" value="ORDT_TOTAL" function="" /> 
        <element name="DISCREPANCY" value="DISCREPANCY" function="" /> 
    </group>

    <group name="G_POS_TOTAL_DISC" source="Q_POS_TOTAL_DISC">
        <element name="POS_TOTAL_DISC" value="POS_TOTAL_DISC" function="" /> 
    </group>

    <group name="G_AOPS_TOTAL_DISC" source="Q_AOPS_TOTAL_DISC">
        <element name="AOPS_TOTAL_DISC" value="AOPS_TOTAL_DISC" function="" /> 
    </group>

    <group name="G_SPAY_TOTAL_DISC" source="Q_SPAY_TOTAL_DISC">
        <element name="SPAY_TOTAL_DISC" value="SPAY_TOTAL_DISC" function="" /> 
    </group>

</dataStructure>

</dataTemplate>
