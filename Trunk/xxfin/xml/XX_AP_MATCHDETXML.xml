<?xml version="1.0" encoding="UTF-8"?>
<dataTemplate name="XX_AP_MATCHDETXML" Version="1.0">
<parameters>
  <parameter name="P_Start_Run_Date" dataType="date" /> 
   <parameter name="P_End_Run_Date" dataType="date" />
	<parameter name="P_Match_Type" dataType="string" />
	<parameter name="P_PO_Type" dataType="string" />  
  </parameters>
 <dataQuery>
  <sqlStatement name="Q1">
 <![CDATA[ select aimd219.suppliernum Supplier_Number,
aimd219.vendor_name Supplier_Name,
aimd219.supplier_site,
aimd219.po_type,
aimd219.PO_Match_Type,
aimd219.first_pass_flag,
aimd219.true_match_flag,
aimd219.all_finalized_flag,
aimd219.payment_due_tdy_flag,
aimd219.due_8_days_flag,
aimd219.invoice_source,
aimd219.invoice_num,
aimd219.invoice_date,
aimd219.gl_date,
aimd219.pay_due_date due_date,
aimd219.release_date ,
aimd219.run_date matched_date,
aimd219.inv_creation_date creation_date,
Decode(Aimd219.Validation_Flag,'Y','Matched','N','Unmatched') Validation_Status ,
Decode(Aimd219.Matched_By,'SYS-F','System','MAN','Manual',Aimd219.Matched_By) Match_Type
from xx_ap_inv_match_detail_219 aimd219
where aimd219.run_date between NVL(:P_Start_Run_Date,aimd219.run_date) and NVL(:P_End_Run_Date,aimd219.run_date)
and aimd219.PO_Match_Type = NVL(:P_Match_Type,aimd219.PO_Match_Type)
And Aimd219.Po_Type = Nvl(:P_Po_Type,Aimd219.Po_Type)
And First_Pass_Flag='Y'
Union All
select aimd219.suppliernum Supplier_Number,
aimd219.vendor_name Supplier_Name,
aimd219.supplier_site,
aimd219.po_type,
aimd219.PO_Match_Type,
aimd219.first_pass_flag,
aimd219.true_match_flag,
aimd219.all_finalized_flag,
aimd219.payment_due_tdy_flag,
aimd219.due_8_days_flag,
aimd219.invoice_source,
aimd219.invoice_num,
aimd219.invoice_date,
aimd219.gl_date,
aimd219.pay_due_date due_date,
aimd219.release_date ,
aimd219.run_date matched_date,
aimd219.inv_creation_date creation_date,
decode(aimd219.validation_flag,'Y','Matched','N','Unmatched') validation_status ,
Decode(Aimd219.Matched_By,'SYS-F','System','SYS','System','MAN','Manual',Aimd219.Matched_By) Match_Type
from xx_ap_inv_match_detail_219 aimd219
where aimd219.run_date between NVL(:P_Start_Run_Date,aimd219.run_date) and NVL(:P_End_Run_Date,aimd219.run_date)
and aimd219.PO_Match_Type = NVL(:P_Match_Type,aimd219.PO_Match_Type)
And Aimd219.Po_Type = Nvl(:P_Po_Type,Aimd219.Po_Type)
And Nvl(Aimd219.Validation_Flag,'N') = 'Y'
And First_Pass_Flag <> 'Y'
]]> 
</sqlStatement>
  </dataQuery>
 <dataStructure>
    <group name="G_MATCHRATE_DETAILS" source="Q1">
	  <element name="Supplier_Number" value= "Supplier_Number" />
	  <element name="Supplier_Name" value= "Supplier_Name" />
	  <element name="Supplier_Site" value= "Supplier_Site" />
	  <element name="PO_Type" value= "po_type" />
	  <element name="PO_Match_Type" value="PO_Match_Type" /> 
	  <element name="First_Pass_Flag" value="First_Pass_Flag"/>
	  <element name="True_Match_Flag" value="True_Match_Flag" />
	  <element name="All_Finalized_Flag" value="All_Finalized_Flag" /> 
	  <element name="Payment_Due_Tdy_flag" value="Payment_Due_Tdy_Flag"/> 
	  <element name="Due_8_Days_Flag" value="Due_8_Days_Flag" />
	  <element name="invoice_source" value="invoice_source" />
	  <element name="invoice_num" value="invoice_num" />
	  <element name="invoice_date" value="invoice_date" />
	  <element name="gl_date" value="gl_date" />
	  <element name="due_date" value="due_date" />
	  <element name="release_date" value="release_date" />
	  <element name="matched_date" value="matched_date" />
	  <element name="creation_date" value="creation_date" />
	  <element name="validation_status" value="validation_status" />
	  <element name="Match_Type" value="Match_Type" />
	</group>
</dataStructure>
</dataTemplate>