package com.od.external.model.am;

import com.od.external.model.am.common.TestExternalInteAM;
import com.od.external.model.bean.FndUserBean;
import com.od.external.model.vo.EbsResponsibilitiesVOImpl;
import com.od.external.model.vo.EbsRoleVOImpl;
import com.od.external.model.vo.EbsRoleVORowImpl;
import com.od.external.model.vo.EbsRoleValuesImpl;
import com.od.external.model.vo.XxApChargeBackTempVOImpl;

import java.math.BigDecimal;

import java.util.ArrayList;

import oracle.adf.share.logging.ADFLogger;

import oracle.jbo.Row;
import oracle.jbo.RowSetIterator;
import oracle.jbo.VariableValueManager;
import oracle.jbo.ViewCriteria;
import oracle.jbo.ViewCriteriaManager;
import oracle.jbo.server.ApplicationModuleImpl;
import oracle.jbo.server.ViewObjectImpl;
// ---------------------------------------------------------------------
// ---    File generated by Oracle ADF Business Components Design Time.
// ---    Sat Nov 11 15:43:37 IST 2017
// ---    Custom code may be added to this class.
// ---    Warning: Do not modify method signatures of generated methods.
// ---------------------------------------------------------------------
public class TestExternalInteAMImpl extends ApplicationModuleImpl implements TestExternalInteAM {

    private static ADFLogger _logger = ADFLogger.createADFLogger(TestExternalInteAMImpl.class);

    /**
     * This is the default constructor (do not remove).
     */
    public TestExternalInteAMImpl() {
    }

    /**
     * Container's getter for XxApChargeBackTempVO1.
     * @return XxApChargeBackTempVO1
     */
    public XxApChargeBackTempVOImpl getXxApChargeBackTempVO() {
        return (XxApChargeBackTempVOImpl) findViewObject("XxApChargeBackTempVO");
    }

    /**
     * Container's getter for EbsRoleVO1.
     * @return EbsRoleVO1
     */
    public EbsRoleVOImpl getEbsRoleVO() {
        return (EbsRoleVOImpl) findViewObject("EbsRoleVO");
    }


    public FndUserBean populateDetailsBean(FndUserBean fndUser) {
        _logger.warning("populateDetailsBean input values:::" + fndUser);
        String EbsRole = "";
        ArrayList ebsRolesList = null;
        Long Respid;
        String Orgid = "";
        fndUser.setResubmitaccess(true);
        _logger.warning("got EBSRoleImpl");
        Integer respid = fndUser.getRespId();

        _logger.warning("got EBSRespId: " + String.valueOf(respid));
        ViewObjectImpl ebsRoleView = getEbsRoleValues1();
        ebsRoleView.setNamedWhereClauseParam("bindUserId",  fndUser.getUserid());
        //       
        //        vo.executeQuery();
        ebsRoleView.executeQuery();
        _logger.warning("inside ebsRoleView  ------"+ebsRoleView.getEstimatedRowCount());
        RowSetIterator rsIter = ebsRoleView.createRowSetIterator(null);
        ebsRolesList = new ArrayList();

        while (rsIter.hasNext()) {


            _logger.warning("inside while  ------");
            Row currRow = rsIter.next();
            _logger.warning("inside while  -RoleName-----" + currRow.getAttribute("RoleName"));
            ebsRolesList.add(currRow.getAttribute("RoleName"));

        }

        fndUser.setEbsRoles(ebsRolesList);

        return fndUser;
    }

    /**
     * Container's getter for EbsRoleValues1.
     * @return EbsRoleValues1
     */
    public EbsRoleValuesImpl getEbsRoleValues1() {
        return (EbsRoleValuesImpl) findViewObject("EbsRoleValues1");
    }

    /**
     * Container's getter for EbsResponsibilitiesVO1.
     * @return EbsResponsibilitiesVO1
     */
    public EbsResponsibilitiesVOImpl getEbsResponsibilitiesVO1() {
        return (EbsResponsibilitiesVOImpl) findViewObject("EbsResponsibilitiesVO1");
    }
}

