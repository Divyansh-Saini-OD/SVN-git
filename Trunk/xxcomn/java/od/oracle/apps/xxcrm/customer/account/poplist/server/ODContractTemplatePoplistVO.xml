<?xml version="1.0" encoding='windows-1252'?>
<!DOCTYPE ViewObject SYSTEM "jbo_03_01.dtd">

<ViewObject
   Name="ODContractTemplatePoplistVO"
   BindingStyle="Oracle"
   CustomQuery="true"
   RowClass="od.oracle.apps.xxcrm.customer.account.poplist.server.ODContractTemplatePoplistVORowImpl"
   ComponentClass="od.oracle.apps.xxcrm.customer.account.poplist.server.ODContractTemplatePoplistVOImpl"
   MsgBundleClass="oracle.jbo.common.JboResourceBundle"
   UseGlueCode="false" >
   <SQLQuery><![CDATA[
SELECT  
XCT.CONTRACT_TEMPLATE_ID,XCT.TEMPLATE_NAME,FFV.FLEX_VALUE_ID,FFV.FLEX_VALUE,
DFF.FLEX_VALUE_SET_ID, HZP.ATTRIBUTE24
from   FND_DESCR_FLEX_COLUMN_USAGES DFF, XX_CDH_CONTRACT_TEMPLATE XCT,
HZ_PARTIES HZP,FND_FLEX_VALUES FFV
WHERE 
  DFF.APPLICATION_ID=222 and
  DFF.FLEX_VALUE_SET_ID = FFV.FLEX_VALUE_SET_ID AND
  DFF.DESCRIPTIVE_FLEXFIELD_NAME = 'HZ_PARTIES' and 
  DFF.APPLICATION_COLUMN_NAME = 'ATTRIBUTE24' and
DFF.DESCRIPTIVE_FLEX_CONTEXT_CODE=HZP.ATTRIBUTE_CATEGORY AND
  FFV.FLEX_VALUE = HZP.ATTRIBUTE24 AND
  XCT.REVENUE_BAND_CODE = FFV.FLEX_VALUE_ID AND
  HZP.PARTY_ID = :1
  AND (
  	      XCT.SALES_ROLE IS NULL 
	   OR XCT.SALES_ROLE IN
  	   	  (
			SELECT 
			  ROL.ROLE_ID
			FROM 
			  jtf_rs_resource_extns JREE,
			  jtf_rs_role_relations JRSR    ,
			  jtf_rs_roles_b ROL
			WHERE 
			  JREE.source_id 	  	 =:2 AND -- Employee Id   
			  JRSR.role_resource_id  = JREE.resource_id AND
			  JRSR.ROLE_RESOURCE_TYPE = 'RS_INDIVIDUAL'    AND
			  nvl(JRSR.delete_flag,'N') <> 'Y'    AND
			  sysdate BETWEEN JRSR.start_date_active AND
			  nvl(JRSR.end_date_active,sysdate+1)    AND
			  ROL.role_id = JRSR.role_id    AND
			  ROL.role_type_code = 'SALES'    AND
			  ROL.active_flag = 'Y'
		  )
	   )
   ]]></SQLQuery>
   <DesignTime>
      <Attr Name="_isCodegen" Value="true" />
      <Attr Name="_version" Value="9.0.3.13.93" />
      <Attr Name="_CodeGenFlagNew" Value="36" />
   </DesignTime>
   <ViewAttribute
      Name="ContractTemplateId"
      IsPersistent="false"
      Type="oracle.jbo.domain.Number"
      ColumnType="NUMBER"
      AliasName="CONTRACT_TEMPLATE_ID"
      Expression="CONTRACT_TEMPLATE_ID"
      SQLType="NUMERIC" >
      <DesignTime>
         <Attr Name="_DisplaySize" Value="22" />
      </DesignTime>
   </ViewAttribute>
   <ViewAttribute
      Name="TemplateName"
      IsPersistent="false"
      Precision="80"
      Type="java.lang.String"
      ColumnType="VARCHAR2"
      AliasName="TEMPLATE_NAME"
      Expression="TEMPLATE_NAME"
      SQLType="VARCHAR" >
      <DesignTime>
         <Attr Name="_DisplaySize" Value="80" />
      </DesignTime>
   </ViewAttribute>
   <ViewAttribute
      Name="FlexValueId"
      IsPersistent="false"
      IsNotNull="true"
      Precision="15"
      Scale="0"
      Type="oracle.jbo.domain.Number"
      ColumnType="NUMBER"
      AliasName="FLEX_VALUE_ID"
      Expression="FLEX_VALUE_ID"
      SQLType="NUMERIC" >
      <DesignTime>
         <Attr Name="_DisplaySize" Value="22" />
      </DesignTime>
   </ViewAttribute>
   <ViewAttribute
      Name="FlexValue"
      IsPersistent="false"
      IsNotNull="true"
      Precision="150"
      Type="java.lang.String"
      ColumnType="VARCHAR2"
      AliasName="FLEX_VALUE"
      Expression="FLEX_VALUE"
      SQLType="VARCHAR" >
      <DesignTime>
         <Attr Name="_DisplaySize" Value="150" />
      </DesignTime>
   </ViewAttribute>
   <ViewAttribute
      Name="FlexValueSetId"
      IsPersistent="false"
      Precision="10"
      Scale="0"
      Type="oracle.jbo.domain.Number"
      ColumnType="NUMBER"
      AliasName="FLEX_VALUE_SET_ID"
      Expression="FLEX_VALUE_SET_ID"
      SQLType="NUMERIC" >
      <DesignTime>
         <Attr Name="_DisplaySize" Value="22" />
      </DesignTime>
   </ViewAttribute>
   <ViewAttribute
      Name="Attribute24"
      IsPersistent="false"
      Precision="150"
      Type="java.lang.String"
      ColumnType="VARCHAR2"
      AliasName="ATTRIBUTE24"
      Expression="ATTRIBUTE24"
      SQLType="VARCHAR" >
      <DesignTime>
         <Attr Name="_DisplaySize" Value="150" />
      </DesignTime>
   </ViewAttribute>
</ViewObject>
