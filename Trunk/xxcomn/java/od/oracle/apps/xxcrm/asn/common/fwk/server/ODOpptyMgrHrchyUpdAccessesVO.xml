<?xml version="1.0" encoding='windows-1252'?>
<!DOCTYPE ViewObject SYSTEM "jbo_03_01.dtd">

<ViewObject
   Name="ODOpptyMgrHrchyUpdAccessesVO"
   Extends="oracle.apps.asn.common.fwk.server.OpptyMgrHrchyUpdAccessesVO"
   BindingStyle="Oracle"
   CustomQuery="true"
   RowClass="od.oracle.apps.xxcrm.asn.common.fwk.server.ODOpptyMgrHrchyUpdAccessesVORowImpl"
   ComponentClass="od.oracle.apps.xxcrm.asn.common.fwk.server.ODOpptyMgrHrchyUpdAccessesVOImpl"
   MsgBundleClass="oracle.jbo.common.JboResourceBundle"
   UseGlueCode="false" >
   <SQLQuery><![CDATA[
SELECT aaa.resource_id salesforce_id, 
aaa.group_id sales_group_id, 
aaa.full_access_flag AS team_leader_flag 
FROM JTF_RS_REP_MANAGERS jrrm     , 
JTF_RS_GROUP_USAGES jrgu     , 
XX_TM_NAM_TERR_CURR_ASSIGN_V aaa 
WHERE jrgu.usage IN ('SALES', 'PRM')   
AND jrgu.group_id = jrrm.group_id   
AND jrrm.hierarchy_type IN ('MGR_TO_MGR', 'MGR_TO_REP')   
AND jrrm.resource_id = aaa.resource_id   
AND TRUNC(jrrm.start_date_active) <= TRUNC(SYSDATE)   
AND TRUNC(NVL(jrrm.end_date_active, SYSDATE)) >= TRUNC(SYSDATE)   
AND aaa.group_id = jrrm.group_id   
AND aaa.entity_type='OPPORTUNITY'   
AND aaa.entity_id = :1 
AND jrrm.parent_resource_id = :2  
   AND nvl(aaa.full_access_flag,'Y') = 'Y'
AND jrrm.parent_resource_id <> jrrm.resource_id   
AND ROWNUM = 1
   ]]></SQLQuery>
   <DesignTime>
      <Attr Name="_isCodegen" Value="true" />
      <Attr Name="_version" Value="9.0.3.12.66" />
      <Attr Name="_CodeGenFlagNew" Value="36" />
   </DesignTime>
   <ViewAttribute
      Name="J1"
      IsUpdateable="false"
      IsQueriable="false"
      IsPersistent="false"
      Precision="255"
      Type="oracle.jbo.domain.Number"
      AliasName="J1"
      ColumnType="VARCHAR2"
      Expression="1"
      SQLType="NUMERIC" >
      <DesignTime>
         <Attr Name="_OverrideAttr" Value="true" />
         <Attr Name="_DisplaySize" Value="22" />
      </DesignTime>
   </ViewAttribute>
   <ViewAttribute
      Name="SalesGroupId"
      IsPersistent="false"
      Precision="15"
      Scale="0"
      Type="oracle.jbo.domain.Number"
      AliasName="SALES_GROUP_ID"
      ColumnType="VARCHAR2"
      Expression="SALES_GROUP_ID"
      SQLType="NUMERIC" >
      <DesignTime>
         <Attr Name="_OverrideAttr" Value="true" />
         <Attr Name="_DisplaySize" Value="22" />
      </DesignTime>
   </ViewAttribute>
   <ViewAttribute
      Name="TeamLeaderFlag"
      IsPersistent="false"
      IsNotNull="true"
      Precision="1"
      Type="java.lang.String"
      AliasName="TEAM_LEADER_FLAG"
      ColumnType="VARCHAR2"
      Expression="TEAM_LEADER_FLAG"
      SQLType="VARCHAR" >
      <DesignTime>
         <Attr Name="_OverrideAttr" Value="true" />
         <Attr Name="_DisplaySize" Value="1" />
      </DesignTime>
   </ViewAttribute>
</ViewObject>
