<?xml version="1.0" encoding='windows-1252'?>
<!DOCTYPE ViewObject SYSTEM "jbo_03_01.dtd">

<ViewObject
   Name="ODContactOpenOpportunitiesVO"
   Extends="oracle.apps.asn.common.customer.server.ContactOpenOpportunitiesVO"
   BindingStyle="Oracle"
   CustomQuery="true"
   RowClass="od.oracle.apps.xxcrm.asn.common.customer.server.ODContactOpenOpportunitiesVORowImpl"
   ComponentClass="oracle.apps.asn.common.customer.server.ContactOpenOpportunitiesVOImpl"
   MsgBundleClass="oracle.jbo.common.JboResourceBundle"
   UseGlueCode="false" >
   <SQLQuery><![CDATA[
SELECT   ala.lead_id,
               ala.description,
               ala.decision_date,
               ala.total_amount,
               ala.win_probability,
               asst.name AS sales_stage_name,
               fct.name as currency_name,
               fct.currency_code,
               DECODE(hzl.location_id,null,null,hz_format_pub.format_address(hzl.location_id,null,null,',')) Address,
               TERR.description COUNTRY,
               ala.address_id
        FROM   as_lead_contacts_all alca,
               as_leads_all ala,
               as_sales_stages_all_tl asst,
               as_statuses_b asb,
               fnd_currencies_tl fct
               , hz_party_sites hzps, hz_locations hzl, fnd_territories_vl TERR
        WHERE  ala.lead_id = alca.lead_id
        AND    ala.status = asb.status_code
        AND    asb.opp_open_status_flag = 'Y'
        AND    ala.sales_stage_id = asst.sales_stage_id(+)
        AND    hzps.party_site_id = ala.address_id
        AND    hzps.location_id = hzl.location_id(+)
        AND    TERR.TERRITORY_CODE(+) = hzl.COUNTRY
        AND    asst.language (+)  = USERENV('LANG')
        AND    ala.currency_code = fct.currency_code (+)
        AND    fct.language (+) = USERENV('LANG')
        AND    alca.customer_id = :1
        AND    alca.contact_party_id =:2
        ORDER BY ala.creation_date desc
   ]]></SQLQuery>
   <DesignTime>
      <Attr Name="_isCodegen" Value="true" />
      <Attr Name="_version" Value="9.0.3.13.93" />
      <Attr Name="_CodeGenFlagNew" Value="4" />
   </DesignTime>
   <ViewAttribute
      Name="LeadId"
      IsPersistent="false"
      IsNotNull="true"
      Type="oracle.jbo.domain.Number"
      ColumnType="NUMBER"
      AliasName="LEAD_ID"
      Expression="LEAD_ID"
      SQLType="NUMERIC" >
      <DesignTime>
         <Attr Name="_OverrideAttr" Value="true" />
         <Attr Name="_DisplaySize" Value="22" />
      </DesignTime>
   </ViewAttribute>
   <ViewAttribute
      Name="Description"
      IsPersistent="false"
      Precision="240"
      Type="java.lang.String"
      ColumnType="VARCHAR2"
      AliasName="DESCRIPTION"
      Expression="DESCRIPTION"
      SQLType="VARCHAR" >
      <DesignTime>
         <Attr Name="_OverrideAttr" Value="true" />
         <Attr Name="_DisplaySize" Value="240" />
      </DesignTime>
   </ViewAttribute>
   <ViewAttribute
      Name="DecisionDate"
      IsPersistent="false"
      Type="oracle.jbo.domain.Date"
      ColumnType="DATE"
      AliasName="DECISION_DATE"
      Expression="DECISION_DATE"
      SQLType="DATE" >
      <DesignTime>
         <Attr Name="_OverrideAttr" Value="true" />
         <Attr Name="_DisplaySize" Value="7" />
      </DesignTime>
   </ViewAttribute>
   <ViewAttribute
      Name="TotalAmount"
      IsPersistent="false"
      Type="oracle.jbo.domain.Number"
      ColumnType="NUMBER"
      AliasName="TOTAL_AMOUNT"
      Expression="TOTAL_AMOUNT"
      SQLType="NUMERIC" >
      <DesignTime>
         <Attr Name="_OverrideAttr" Value="true" />
         <Attr Name="_DisplaySize" Value="22" />
      </DesignTime>
   </ViewAttribute>
   <ViewAttribute
      Name="WinProbability"
      IsPersistent="false"
      Type="oracle.jbo.domain.Number"
      ColumnType="NUMBER"
      AliasName="WIN_PROBABILITY"
      Expression="WIN_PROBABILITY"
      SQLType="NUMERIC" >
      <DesignTime>
         <Attr Name="_OverrideAttr" Value="true" />
         <Attr Name="_DisplaySize" Value="22" />
      </DesignTime>
   </ViewAttribute>
   <ViewAttribute
      Name="SalesStageName"
      IsPersistent="false"
      Precision="60"
      Type="java.lang.String"
      ColumnType="VARCHAR2"
      AliasName="SALES_STAGE_NAME"
      Expression="SALES_STAGE_NAME"
      SQLType="VARCHAR" >
      <DesignTime>
         <Attr Name="_OverrideAttr" Value="true" />
         <Attr Name="_DisplaySize" Value="60" />
      </DesignTime>
   </ViewAttribute>
   <ViewAttribute
      Name="CurrencyName"
      IsPersistent="false"
      Precision="80"
      Type="java.lang.String"
      ColumnType="VARCHAR2"
      AliasName="CURRENCY_NAME"
      Expression="CURRENCY_NAME"
      SQLType="VARCHAR" >
      <DesignTime>
         <Attr Name="_OverrideAttr" Value="true" />
         <Attr Name="_DisplaySize" Value="80" />
      </DesignTime>
   </ViewAttribute>
   <ViewAttribute
      Name="CurrencyCode"
      IsPersistent="false"
      Precision="15"
      Type="java.lang.String"
      ColumnType="VARCHAR2"
      AliasName="CURRENCY_CODE"
      Expression="CURRENCY_CODE"
      SQLType="VARCHAR" >
      <DesignTime>
         <Attr Name="_OverrideAttr" Value="true" />
         <Attr Name="_DisplaySize" Value="15" />
      </DesignTime>
   </ViewAttribute>
   <ViewAttribute
      Name="Address"
      IsPersistent="false"
      Precision="664"
      Type="java.lang.String"
      ColumnType="VARCHAR2"
      AliasName="ADDRESS"
      Expression="ADDRESS"
      SQLType="VARCHAR" >
      <DesignTime>
         <Attr Name="_DisplaySize" Value="664" />
      </DesignTime>
   </ViewAttribute>
   <ViewAttribute
      Name="Country"
      IsPersistent="false"
      Precision="240"
      Type="java.lang.String"
      ColumnType="VARCHAR2"
      AliasName="COUNTRY"
      Expression="COUNTRY"
      SQLType="VARCHAR" >
      <DesignTime>
         <Attr Name="_DisplaySize" Value="240" />
      </DesignTime>
   </ViewAttribute>
   <ViewAttribute
      Name="AddressId"
      IsPersistent="false"
      Type="oracle.jbo.domain.Number"
      ColumnType="NUMBER"
      AliasName="ADDRESS_ID"
      Expression="ADDRESS_ID"
      SQLType="NUMERIC" >
      <DesignTime>
         <Attr Name="_DisplaySize" Value="22" />
      </DesignTime>
   </ViewAttribute>
</ViewObject>
