package od.oracle.apps.xxmer.schema.server;
import oracle.apps.fnd.framework.server.OAEntityImpl;
import oracle.jbo.server.EntityDefImpl;
import oracle.jbo.server.AttributeDefImpl;
import oracle.jbo.AttributeList;
import oracle.jbo.domain.Number;
import oracle.jbo.domain.Date;
import oracle.jbo.Key;
import oracle.apps.fnd.framework.OAAttrValException;
import oracle.apps.fnd.framework.OAException;
import oracle.apps.fnd.framework.server.OADBTransaction;


//  ---------------------------------------------------------------
//  ---    File generated by Oracle Business Components for Java.
//  ---------------------------------------------------------------

public class AllocationLinesEOImpl extends OAEntityImpl 
{
  protected static final int ALLOCATIONHEADERID = 0;
  protected static final int ALLOCATIONLINEID = 1;
  protected static final int POHEADERID = 2;
  protected static final int POLINEID = 3;
  protected static final int LINELOCATIONID = 4;
  protected static final int LOCKEDIN = 5;
  protected static final int ALLOCORGANIZATIONID = 6;
  protected static final int SHIPTOORGANIZATIONID = 7;
  protected static final int ALLOCATIONQTY = 8;
  protected static final int ALLOCATIONTYPE = 9;
  protected static final int POLINESHIPMENT = 10;
  protected static final int JITAQTY = 11;
  protected static final int WMOSQTY = 12;
  protected static final int LASTUPDATEDATE = 13;
  protected static final int LASTUPDATEDBY = 14;
  protected static final int CREATIONDATE = 15;
  protected static final int CREATEDBY = 16;
  protected static final int LASTUPDATELOGIN = 17;
  protected static final int ALLOCATIONHEADEREO = 18;

















public static AllocationEntityExpert getAllocationEntityExpert(OADBTransaction txn)
{
  return (AllocationEntityExpert) txn.getExpert(AllocationLinesEOImpl.getDefinitionObject());
}


  private static oracle.apps.fnd.framework.server.OAEntityDefImpl mDefinitionObject;

  /**
   * 
   * This is the default constructor (do not remove)
   */
  public AllocationLinesEOImpl()
  {
  }

  /**
   * 
   * Retrieves the definition object for this instance class.
   */
  public static synchronized EntityDefImpl getDefinitionObject()
  {
    if (mDefinitionObject == null)
    {
      mDefinitionObject = (oracle.apps.fnd.framework.server.OAEntityDefImpl)EntityDefImpl.findDefObject("od.oracle.apps.xxmer.schema.server.AllocationLinesEO");
    }
    return mDefinitionObject;
  }































  /**
   * 
   * Add attribute defaulting logic in this method.
   */
  public void create(AttributeList attributeList)
  {
    super.create(attributeList);
    OADBTransaction transaction = getOADBTransaction();
    Number LineId  = transaction.getSequenceValue("XX_PO_ALLOCATION_LINE_S");
    setAllocationLineId(LineId);
  }

  /**
   * 
   * Add entity remove logic in this method.
   */
  public void remove()
  {
    super.remove();
  }

  /**
   * 
   * Add Entity validation code in this method.
   */
  protected void validateEntity()
  {
    super.validateEntity();
  }

  /**
   * 
   * Gets the attribute value for AllocationHeaderId, using the alias name AllocationHeaderId
   */
  public Number getAllocationHeaderId()
  {
    return (Number)getAttributeInternal(ALLOCATIONHEADERID);
  }

  /**
   * 
   * Sets <code>value</code> as the attribute value for AllocationHeaderId
   */
  public void setAllocationHeaderId(Number value)
  {
    setAttributeInternal(ALLOCATIONHEADERID, value);
  }

  /**
   * 
   * Gets the attribute value for AllocationLineId, using the alias name AllocationLineId
   */
  public Number getAllocationLineId()
  {
    return (Number)getAttributeInternal(ALLOCATIONLINEID);
  }

  /**
   * 
   * Sets <code>value</code> as the attribute value for AllocationLineId
   */
  public void setAllocationLineId(Number value)
  {
    setAttributeInternal(ALLOCATIONLINEID, value);
  }

  /**
   * 
   * Gets the attribute value for PoHeaderId, using the alias name PoHeaderId
   */
  public Number getPoHeaderId()
  {
    return (Number)getAttributeInternal(POHEADERID);
  }

  /**
   * 
   * Sets <code>value</code> as the attribute value for PoHeaderId
   */
  public void setPoHeaderId(Number value)
  {
    setAttributeInternal(POHEADERID, value);
  }

  /**
   * 
   * Gets the attribute value for PoLineId, using the alias name PoLineId
   */
  public Number getPoLineId()
  {
    return (Number)getAttributeInternal(POLINEID);
  }

  /**
   * 
   * Sets <code>value</code> as the attribute value for PoLineId
   */
  public void setPoLineId(Number value)
  {
    setAttributeInternal(POLINEID, value);
  }

  /**
   * 
   * Gets the attribute value for LineLocationId, using the alias name LineLocationId
   */
  public Number getLineLocationId()
  {
    return (Number)getAttributeInternal(LINELOCATIONID);
  }

  /**
   * 
   * Sets <code>value</code> as the attribute value for LineLocationId
   */
  public void setLineLocationId(Number value)
  {
    setAttributeInternal(LINELOCATIONID, value);
  }

  /**
   * 
   * Gets the attribute value for LockedIn, using the alias name LockedIn
   */
  public String getLockedIn()
  {
    return (String)getAttributeInternal(LOCKEDIN);
  }

  /**
   * 
   * Sets <code>value</code> as the attribute value for LockedIn
   */
  public void setLockedIn(String value)
  {
    setAttributeInternal(LOCKEDIN, value);
  }

  /**
   * 
   * Gets the attribute value for AllocOrganizationId, using the alias name AllocOrganizationId
   */
  public Number getAllocOrganizationId()
  {
    return (Number)getAttributeInternal(ALLOCORGANIZATIONID);
  }

  /**
   * 
   * Sets <code>value</code> as the attribute value for AllocOrganizationId
   */
  public void setAllocOrganizationId(Number value)
  {
   
    setAttributeInternal(ALLOCORGANIZATIONID, value);
  }

  /**
   * 
   * Gets the attribute value for ShipToOrganizationId, using the alias name ShipToOrganizationId
   */
  public Number getShipToOrganizationId()
  {
    return (Number)getAttributeInternal(SHIPTOORGANIZATIONID);
  }

  /**
   * 
   * Sets <code>value</code> as the attribute value for ShipToOrganizationId
   */
  public void setShipToOrganizationId(Number value)
  {
    setAttributeInternal(SHIPTOORGANIZATIONID, value);
  }

  /**
   * 
   * Gets the attribute value for AllocationQty, using the alias name AllocationQty
   */
  public Number getAllocationQty()
  {
    return (Number)getAttributeInternal(ALLOCATIONQTY);
  }

  /**
   * 
   * Sets <code>value</code> as the attribute value for AllocationQty
   */
  public void setAllocationQty(Number value)
  {
    if(value != null)
    {
      AllocationEntityExpert expert = getAllocationEntityExpert(getOADBTransaction());
      Number quantity = expert.getPOQuantity(getPoHeaderId(), getPoLineId(), getLineLocationId(),getAllocationLineId());
      Number alocQuantity = expert.getAlocQuantity(getPoHeaderId(), getPoLineId(), getLineLocationId(),getAllocationLineId());
      if((alocQuantity.intValue() + value.intValue()) > quantity.intValue())
      {
        throw new OAAttrValException
        (OAException.TYP_ENTITY_OBJECT,getEntityDef().getFullName(),getPrimaryKey(),"Field",value,"AK","FWK_TBX_T_EMP_MGR_INACTIVE");
      }
    }
  
    setAttributeInternal(ALLOCATIONQTY, value);
     System.out.println("updateDate set");
    OADBTransaction tran = getOADBTransaction();   
    Object[] key = {getAllocationHeaderId()};
    EntityDefImpl headerDef = AllocationHeaderEOImpl.getDefinitionObject();
    AllocationHeaderEOImpl header = (AllocationHeaderEOImpl)headerDef.findByPrimaryKey(tran,new Key(key));
    header.setLastUpdateDate(getLastUpdateDate());
    header.setAgentId(getLastUpdatedBy());    
    header.setLastUpdateLogin(getLastUpdateLogin());
    header.setLastUpdatedBy(getLastUpdatedBy());
    
  }

  /**
   * 
   * Gets the attribute value for PoLineShipment, using the alias name PoLineShipment
   */
  public String getPoLineShipment()
  {
    return (String)getAttributeInternal(POLINESHIPMENT);
  }

  /**
   * 
   * Sets <code>value</code> as the attribute value for PoLineShipment
   */
  public void setPoLineShipment(String value)
  {
    setAttributeInternal(POLINESHIPMENT, value);
  }

  /**
   * 
   * Gets the attribute value for JitaQty, using the alias name JitaQty
   */
  public Number getJitaQty()
  {
    return (Number)getAttributeInternal(JITAQTY);
  }

  /**
   * 
   * Sets <code>value</code> as the attribute value for JitaQty
   */
  public void setJitaQty(Number value)
  {
    setAttributeInternal(JITAQTY, value);
  }

  /**
   * 
   * Gets the attribute value for WmosQty, using the alias name WmosQty
   */
  public Number getWmosQty()
  {
    return (Number)getAttributeInternal(WMOSQTY);
  }

  /**
   * 
   * Sets <code>value</code> as the attribute value for WmosQty
   */
  public void setWmosQty(Number value)
  {
    setAttributeInternal(WMOSQTY, value);
  }

  /**
   * 
   * Gets the attribute value for LastUpdateDate, using the alias name LastUpdateDate
   */
  public Date getLastUpdateDate()
  {
    return (Date)getAttributeInternal(LASTUPDATEDATE);
  }

  /**
   * 
   * Sets <code>value</code> as the attribute value for LastUpdateDate
   */
  public void setLastUpdateDate(Date value)
  {
    setAttributeInternal(LASTUPDATEDATE, value);
   
    
  }

  /**
   * 
   * Gets the attribute value for LastUpdatedBy, using the alias name LastUpdatedBy
   */
  public Number getLastUpdatedBy()
  {
    return (Number)getAttributeInternal(LASTUPDATEDBY);
  }

  /**
   * 
   * Sets <code>value</code> as the attribute value for LastUpdatedBy
   */
  public void setLastUpdatedBy(Number value)
  {
    setAttributeInternal(LASTUPDATEDBY, value);
  }

  /**
   * 
   * Gets the attribute value for CreationDate, using the alias name CreationDate
   */
  public Date getCreationDate()
  {
    return (Date)getAttributeInternal(CREATIONDATE);
  }

  /**
   * 
   * Sets <code>value</code> as the attribute value for CreationDate
   */
  public void setCreationDate(Date value)
  {
    setAttributeInternal(CREATIONDATE, value);
  }

  /**
   * 
   * Gets the attribute value for CreatedBy, using the alias name CreatedBy
   */
  public Number getCreatedBy()
  {
    return (Number)getAttributeInternal(CREATEDBY);
  }

  /**
   * 
   * Sets <code>value</code> as the attribute value for CreatedBy
   */
  public void setCreatedBy(Number value)
  {
    setAttributeInternal(CREATEDBY, value);
  }

  /**
   * 
   * Gets the attribute value for LastUpdateLogin, using the alias name LastUpdateLogin
   */
  public Number getLastUpdateLogin()
  {
    return (Number)getAttributeInternal(LASTUPDATELOGIN);
  }

  /**
   * 
   * Sets <code>value</code> as the attribute value for LastUpdateLogin
   */
  public void setLastUpdateLogin(Number value)
  {
    setAttributeInternal(LASTUPDATELOGIN, value);
  }
  //  Generated method. Do not modify.

  protected Object getAttrInvokeAccessor(int index, AttributeDefImpl attrDef) throws Exception
  {
    switch (index)
      {
      case ALLOCATIONHEADERID:
        return getAllocationHeaderId();
      case ALLOCATIONLINEID:
        return getAllocationLineId();
      case POHEADERID:
        return getPoHeaderId();
      case POLINEID:
        return getPoLineId();
      case LINELOCATIONID:
        return getLineLocationId();
      case LOCKEDIN:
        return getLockedIn();
      case ALLOCORGANIZATIONID:
        return getAllocOrganizationId();
      case SHIPTOORGANIZATIONID:
        return getShipToOrganizationId();
      case ALLOCATIONQTY:
        return getAllocationQty();
      case ALLOCATIONTYPE:
        return getAllocationType();
      case POLINESHIPMENT:
        return getPoLineShipment();
      case JITAQTY:
        return getJitaQty();
      case WMOSQTY:
        return getWmosQty();
      case LASTUPDATEDATE:
        return getLastUpdateDate();
      case LASTUPDATEDBY:
        return getLastUpdatedBy();
      case CREATIONDATE:
        return getCreationDate();
      case CREATEDBY:
        return getCreatedBy();
      case LASTUPDATELOGIN:
        return getLastUpdateLogin();
      case ALLOCATIONHEADEREO:
        return getAllocationHeaderEO();
      default:
        return super.getAttrInvokeAccessor(index, attrDef);
      }
  }
  //  Generated method. Do not modify.

  protected void setAttrInvokeAccessor(int index, Object value, AttributeDefImpl attrDef) throws Exception
  {
    switch (index)
      {
      case ALLOCATIONHEADERID:
        setAllocationHeaderId((Number)value);
        return;
      case ALLOCATIONLINEID:
        setAllocationLineId((Number)value);
        return;
      case POHEADERID:
        setPoHeaderId((Number)value);
        return;
      case POLINEID:
        setPoLineId((Number)value);
        return;
      case LINELOCATIONID:
        setLineLocationId((Number)value);
        return;
      case LOCKEDIN:
        setLockedIn((String)value);
        return;
      case ALLOCORGANIZATIONID:
        setAllocOrganizationId((Number)value);
        return;
      case SHIPTOORGANIZATIONID:
        setShipToOrganizationId((Number)value);
        return;
      case ALLOCATIONQTY:
        setAllocationQty((Number)value);
        return;
      case ALLOCATIONTYPE:
        setAllocationType((String)value);
        return;
      case POLINESHIPMENT:
        setPoLineShipment((String)value);
        return;
      case JITAQTY:
        setJitaQty((Number)value);
        return;
      case WMOSQTY:
        setWmosQty((Number)value);
        return;
      case LASTUPDATEDATE:
        setLastUpdateDate((Date)value);
        return;
      case LASTUPDATEDBY:
        setLastUpdatedBy((Number)value);
        return;
      case CREATIONDATE:
        setCreationDate((Date)value);
        return;
      case CREATEDBY:
        setCreatedBy((Number)value);
        return;
      case LASTUPDATELOGIN:
        setLastUpdateLogin((Number)value);
        return;
      default:
        super.setAttrInvokeAccessor(index, value, attrDef);
        return;
      }
  }



  /**
   * 
   * Gets the associated entity AllocationHeaderEOImpl
   */
  public AllocationHeaderEOImpl getAllocationHeaderEO()
  {
    return (AllocationHeaderEOImpl)getAttributeInternal(ALLOCATIONHEADEREO);
  }

  /**
   * 
   * Sets <code>value</code> as the associated entity AllocationHeaderEOImpl
   */
  public void setAllocationHeaderEO(AllocationHeaderEOImpl value)
  {
    setAttributeInternal(ALLOCATIONHEADEREO, value);
  }



  /**
   * 
   * Gets the attribute value for AllocationType, using the alias name AllocationType
   */
  public String getAllocationType()
  {
    return (String)getAttributeInternal(ALLOCATIONTYPE);
  }

  /**
   * 
   * Sets <code>value</code> as the attribute value for AllocationType
   */
  public void setAllocationType(String value)
  {
    setAttributeInternal(ALLOCATIONTYPE, value);
  }

  /**
   * 
   * Creates a Key object based on given key constituents
   */
  public static Key createPrimaryKey(Number allocationLineId)
  {
    return new Key(new Object[] {allocationLineId});
  }































}