<?xml version='1.0' encoding='windows-1252' ?>
<!DOCTYPE ViewObject SYSTEM "jbo_03_01.dtd">

<ViewObject
   Name="ODLocationOneTimePurchaseLovVO"
   Extends="oracle.apps.icx.lov.server.LocationOneTimePurchaseLovVO"
   BindingStyle="Oracle"
   CustomQuery="true"
   UseGlueCode="false" >
   <SQLQuery><![CDATA[
SELECT hrlt.location_code || ' (' || ood.organization_code || ')' as location_display,     
    PO_POAPPROVAL_INIT1.Get_Formatted_Address(hrl.location_id) as address,
    hrlt.description as description,
    hrlt.location_code as location_code,
    hrl.location_id as location_id,
    ood.organization_id as deliver_to_org_id,
    ood.organization_code as organization_code, 
    papf.full_name as contact
FROM hr_locations_all hrl, 
     hr_locations_all_tl hrlt, 
     org_organization_definitions ood,
     per_all_people_f papf
WHERE hrl.location_id = hrlt.location_id
  and hrlt.language = :1
  and hrl.inventory_organization_id is not null
  and ood.organization_id = :2
  and ood.set_of_books_id = :3 
  and sysdate < nvl(hrl.inactive_date, sysdate + 1)
  and trunc(sysdate) < nvl(ood.disable_date, trunc(sysdate + 1))
  and (hrl.business_group_id is null or
         hrl.business_group_id = :4)
  and hrl.location_id <> nvl(:5, -1)
  and hrl.designated_receiver_id = papf.person_id(+)
  and trunc(sysdate) between 
	nvl(papf.effective_start_date, trunc(sysdate-1)) and 		nvl(papf.effective_end_date,trunc(sysdate+1)) 
  and 1 = 2
  
UNION ALL

SELECT hrlt.location_code || ' (' || ood.organization_code || ')' as location_display,     
    PO_POAPPROVAL_INIT1.Get_Formatted_Address(hrl.location_id) as address,
    hrlt.description as description,
    hrlt.location_code as location_code,
    hrl.location_id as location_id,
    ood.organization_id as deliver_to_org_id,
    ood.organization_code as organization_code, 
    papf.full_name as contact
FROM hr_locations_all hrl, 
     hr_locations_all_tl hrlt, 
     org_organization_definitions ood,
     per_all_people_f papf
WHERE hrl.location_id = hrlt.location_id
  and hrlt.language = :6
  and ood.organization_id = hrl.inventory_organization_id
  and ood.set_of_books_id = :7
  and sysdate < nvl(hrl.inactive_date, sysdate + 1)
  and trunc(sysdate) < nvl(ood.disable_date, trunc(sysdate + 1))
  and (hrl.business_group_id is null or
         hrl.business_group_id = :8)
  and hrl.location_id <> nvl(:9, -1)
  and hrl.designated_receiver_id = papf.person_id(+)
  and trunc(sysdate) between 
	nvl(papf.effective_start_date, trunc(sysdate-1)) and 		nvl(papf.effective_end_date,trunc(sysdate+1))
   ]]></SQLQuery>
   <DesignTime>
      <Attr Name="_isExpertMode" Value="true" />
      <Attr Name="_version" Value="10.1.3.41.57" />
      <Attr Name="_codeGenFlag2" Value="Access|VarAccess" />
   </DesignTime>
   <ViewAttribute
      Name="LocationDisplay"
      IsUpdateable="false"
      IsQueriable="false"
      IsPersistent="false"
      Precision="66"
      Type="java.lang.String"
      ColumnType="VARCHAR2"
      AliasName="LOCATION_DISPLAY"
      Expression="LOCATION_DISPLAY"
      SQLType="VARCHAR" >
      <DesignTime>
         <Attr Name="_OverrideAttr" Value="true" />
         <Attr Name="_DisplaySize" Value="66" />
      </DesignTime>
   </ViewAttribute>
   <ViewAttribute
      Name="Address"
      IsUpdateable="false"
      IsQueriable="false"
      IsPersistent="false"
      Precision="240"
      Type="java.lang.String"
      ColumnType="VARCHAR2"
      AliasName="ADDRESS"
      Expression="ADDRESS"
      SQLType="VARCHAR" >
      <DesignTime>
         <Attr Name="_OverrideAttr" Value="true" />
         <Attr Name="_DisplaySize" Value="240" />
      </DesignTime>
   </ViewAttribute>
   <ViewAttribute
      Name="Description"
      IsUpdateable="false"
      IsQueriable="false"
      IsPersistent="false"
      Precision="240"
      Type="java.lang.String"
      ColumnType="VARCHAR2"
      AliasName="DESCRIPTION"
      Expression="DESCRIPTION"
      SQLType="VARCHAR" >
      <DesignTime>
         <Attr Name="_OverrideAttr" Value="true" />
         <Attr Name="_DisplaySize" Value="240" />
      </DesignTime>
   </ViewAttribute>
   <ViewAttribute
      Name="LocationCode"
      IsUpdateable="false"
      IsQueriable="false"
      IsPersistent="false"
      IsNotNull="true"
      Precision="60"
      Type="java.lang.String"
      ColumnType="VARCHAR2"
      AliasName="LOCATION_CODE"
      Expression="LOCATION_CODE"
      SQLType="VARCHAR" >
      <DesignTime>
         <Attr Name="_OverrideAttr" Value="true" />
         <Attr Name="_DisplaySize" Value="60" />
      </DesignTime>
   </ViewAttribute>
   <ViewAttribute
      Name="LocationId"
      IsUpdateable="false"
      IsQueriable="false"
      IsPersistent="false"
      IsNotNull="true"
      Precision="15"
      Scale="0"
      Type="oracle.jbo.domain.Number"
      ColumnType="VARCHAR2"
      AliasName="LOCATION_ID"
      Expression="LOCATION_ID"
      SQLType="NUMERIC" >
      <DesignTime>
         <Attr Name="_OverrideAttr" Value="true" />
         <Attr Name="_DisplaySize" Value="22" />
      </DesignTime>
   </ViewAttribute>
   <ViewAttribute
      Name="DeliverToOrgId"
      IsUpdateable="false"
      IsQueriable="false"
      IsPersistent="false"
      IsNotNull="true"
      Precision="15"
      Scale="0"
      Type="oracle.jbo.domain.Number"
      ColumnType="VARCHAR2"
      AliasName="DELIVER_TO_ORG_ID"
      Expression="DELIVER_TO_ORG_ID"
      SQLType="NUMERIC" >
      <DesignTime>
         <Attr Name="_OverrideAttr" Value="true" />
         <Attr Name="_DisplaySize" Value="22" />
      </DesignTime>
   </ViewAttribute>
   <ViewAttribute
      Name="OrganizationCode"
      IsUpdateable="false"
      IsQueriable="false"
      IsPersistent="false"
      Precision="3"
      Type="java.lang.String"
      ColumnType="VARCHAR2"
      AliasName="ORGANIZATION_CODE"
      Expression="ORGANIZATION_CODE"
      SQLType="VARCHAR" >
      <DesignTime>
         <Attr Name="_OverrideAttr" Value="true" />
         <Attr Name="_DisplaySize" Value="3" />
      </DesignTime>
   </ViewAttribute>
   <ViewAttribute
      Name="Contact"
      IsUpdateable="false"
      IsQueriable="false"
      IsPersistent="false"
      Precision="240"
      Type="java.lang.String"
      ColumnType="VARCHAR2"
      AliasName="CONTACT"
      Expression="CONTACT"
      SQLType="VARCHAR" >
      <DesignTime>
         <Attr Name="_OverrideAttr" Value="true" />
         <Attr Name="_DisplaySize" Value="240" />
      </DesignTime>
   </ViewAttribute>
</ViewObject>
