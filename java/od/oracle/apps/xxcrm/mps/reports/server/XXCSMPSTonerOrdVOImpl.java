package od.oracle.apps.xxcrm.mps.reports.server;
import oracle.apps.fnd.framework.server.OAViewObjectImpl;
import oracle.apps.fnd.framework.OAException;
//  ---------------------------------------------------------------
//  ---    File generated by Oracle Business Components for Java.
//  ---------------------------------------------------------------

public class XXCSMPSTonerOrdVOImpl extends OAViewObjectImpl {
  /**
   * 
   * This is the default constructor (do not remove)
   */
  public XXCSMPSTonerOrdVOImpl()
  {
  }

    public void initMPSTonerOrder(String customerName, String toDeliveryDate, String fromDeliveryDate, String SkuNumber, String managedStatus, String activeStatus)
    {

        if( (customerName == null || "".equals(customerName)) &&
            (fromDeliveryDate == null || "".equals(fromDeliveryDate)) &&
            (toDeliveryDate == null || "".equals(toDeliveryDate)) &&
            (SkuNumber == null || "".equals(SkuNumber)) &&
            (managedStatus == null || "".equals(managedStatus)) &&
            (activeStatus == null || "".equals(activeStatus))
          )
        throw new OAException("Please enter at least one search criterion!", OAException.ERROR);
        
        setWhereClause(null);
    
        StringBuffer whereClause = new StringBuffer();
       
      
        
        
//        setWhereClauseParam(0,customerName);
//        setWhereClauseParam(1,fromDeliveryDate);
//        setWhereClauseParam(2,toDeliveryDate);
//        setWhereClauseParam(3,SkuNumber);

System.out.println(whereClause.length());
       
        if(customerName != null && !"".equals(customerName))
        {
            if(whereClause.length() != 0)
                whereClause = whereClause.append(" AND ");
            whereClause = whereClause.append("mb_party_id = '" + customerName + "'");
        }
        
        if(fromDeliveryDate != null && !"".equals(fromDeliveryDate))
        {
         //   to_date(order_date,'dd-mon-yy' ) >= to_date(NVL(:1, order_date), 'dd-mon-yy')
            if(whereClause.length() != 0)
                whereClause = whereClause.append(" AND ");
          //  whereClause = whereClause.append("to_date(" +"order_date,'dd-mon-yy')  >= to_date("+fromDeliveryDate+"',"+"'dd-mon-yy'"+")");
           whereClause = whereClause.append("order_date >='" + fromDeliveryDate + "'");
            System.out.println(whereClause);
        //    System.out.println(whereClause);
        }
        if(toDeliveryDate != null && !"".equals(toDeliveryDate))
        {
            if(whereClause.length() != 0)
                whereClause = whereClause.append(" AND ");
         //   whereClause = whereClause.append("to_date(" +"order_date,'dd-mon-yy')  <= to_date(NVL('"+toDeliveryDate+"',"+"order_date)"+","+"'dd-mon-yy'"+")");
            whereClause = whereClause.append("order_date <='" + toDeliveryDate + "'");
           // System.out.println();
        }
       
        if(SkuNumber != null && !"".equals(SkuNumber))
        {
            if(whereClause.length() != 0)
                whereClause = whereClause.append(" AND ");
            whereClause = whereClause.append("SKU_Number ='" + SkuNumber + "'");
        }
       

      
         if(managedStatus != null && !"".equals(managedStatus))
         {
             if(whereClause.length() != 0)
                 whereClause = whereClause.append(" AND ");
             whereClause = whereClause.append("MANAGED_STATUS ='" + managedStatus + "'");
         }
        if(activeStatus != null && !"".equals(activeStatus))
        {
            if(whereClause.length() != 0)
                whereClause = whereClause.append(" AND ");
            whereClause = whereClause.append("ACTIVE_STATUS ='" + activeStatus + "'");
        }
        if(whereClause.length() != 0)
        
        {
    
          setWhereClause(whereClause.toString());          
        } else 
        {
          setWhereClause(null);          
        }
             System.out.println(getQuery());
//     //   setMaxFetchSize(-1);
        executeQuery();
        System.out.println("In VO rowcount=" + getRowCount());
    }    
}