package od.oracle.apps.xxcrm.mps.reports.server;
import oracle.apps.fnd.framework.server.OAViewObjectImpl;
import oracle.apps.fnd.framework.OAException;

//  ---------------------------------------------------------------
//  ---    File generated by Oracle Business Components for Java.
//  ---------------------------------------------------------------

public class XXCSMPSSkuRptVOImpl extends OAViewObjectImpl {
  /**
   * 
   * This is the default constructor (do not remove)
   */
  public XXCSMPSSkuRptVOImpl()
  {
  }

    public void initMPSSkuRpt(String partyID, String toDeliveryDate, String fromDeliveryDate, String SkuNumber, String managedStatus, String activeStatus)
    {
        if( (partyID == null || "".equals(partyID)) &&
            (fromDeliveryDate == null || "".equals(fromDeliveryDate)) &&
            (toDeliveryDate == null || "".equals(toDeliveryDate)) &&
            (SkuNumber == null || "".equals(SkuNumber) &&
            (managedStatus == null || "".equals(managedStatus)) &&
            (activeStatus == null || "".equals(activeStatus)))
          )
        throw new OAException("Please enter at least one search criterion!", OAException.ERROR);
        
        StringBuffer whereClause = new StringBuffer();
        setWhereClause(null);
        setWhereClauseParams(null);
        setWhereClauseParam(0,partyID);
        setWhereClauseParam(1,toDeliveryDate);
        setWhereClauseParam(2,fromDeliveryDate);
        setWhereClauseParam(3,SkuNumber);        
        /*
        if(customerName != null && !"".equals(customerName))
        {
            if(whereClause.length() != 0)
                whereClause = whereClause.append(" AND ");
            whereClause = whereClause.append("PARTY_NAME = '" + customerName + "'");
        }
        if(toDeliveryDate != null && !"".equals(toDeliveryDate))
        {
            if(whereClause.length() != 0)
                whereClause = whereClause.append(" AND ");
            whereClause = whereClause.append("DELIVERY_DATE <='" + toDeliveryDate + "'");
        }
        if(fromDeliveryDate != null && !"".equals(fromDeliveryDate))
        {
            if(whereClause.length() != 0)
                whereClause = whereClause.append(" AND ");
            whereClause = whereClause.append("DELIVERY_DATE >= '" + fromDeliveryDate + "'");
        }
        if(SkuNumber != null && !"".equals(SkuNumber))
        {
            if(whereClause.length() != 0)
                whereClause = whereClause.append(" AND ");
            whereClause = whereClause.append("SKU_Number ='" + SkuNumber + "'");
        }
        if(whereClause.length() != 0)
        {
          setWhereClause(whereClause.toString());          
        } else 
        {
          setWhereClause(null);          
        }
        System.out.println("##### whereClause=" + whereClause);        
        */
         if(managedStatus != null && !"".equals(managedStatus))
         {
             if(whereClause.length() != 0)
                 whereClause = whereClause.append(" AND ");
             whereClause = whereClause.append("MANAGED_STATUS ='" + managedStatus + "'");
         }
         if(activeStatus != null && !"".equals(activeStatus))
         {
            if(whereClause.length() != 0)
                whereClause = whereClause.append(" AND ");
            whereClause = whereClause.append("ACTIVE_STATUS ='" + activeStatus + "'");
         }
         if(whereClause.length() != 0)
         {
          setWhereClause(whereClause.toString());          
         }
        System.out.println("##### Query=" + getQuery());
        executeQuery();
        System.out.println("In VO rowcount=" + getRowCount());
    }   
}