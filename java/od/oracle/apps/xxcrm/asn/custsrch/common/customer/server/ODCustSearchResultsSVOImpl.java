/*===========================================================================+
 |   Copyright (c) 2001, 2005 Oracle Corporation, Redwood Shores, CA, USA    |
 |                         All rights reserved.                              |
 +===========================================================================+
 |  HISTORY                                                                  |
 +===========================================================================*/
/*===========================================================================+
 |      		       Office Depot - Project Simplify                       |
 |            Oracle NAIO/WIPRO/Office Depot/Consulting Organization         |
 +===========================================================================+
 |  FILENAME                                                                 |
 |             ODCustSearchResultsSVOImpl.java                              |
 |                                                                           |
 |  DESCRIPTION                                                              |
 |             ViewObject Implementation file for the sales customer         |     
 |             default search results table region .                         |                                        
 |                                                                           |
 |                                                                           |
 |  NOTES                                                                    |
 |                                                                           |
 |                                                                           |
 |  DEPENDENCIES                                                             |
 |    This class file is called from ODCustSearchPG.xml and the AM file:     |
 |    ODCustSearchAM                                                         |
 |                                                                           |
 |  HISTORY                                                                  |
 |                                                                           |
 |    30/11/2007 Anirban Chaudhuri   Created                                 |
 |                                                                           |
 +===========================================================================*/

package od.oracle.apps.xxcrm.asn.custsrch.common.customer.server;

import oracle.apps.fnd.framework.server.OAViewObjectImpl;
import java.util.Vector;
import oracle.jbo.common.Diagnostic;
import oracle.apps.fnd.framework.server.*;
import java.util.Enumeration;
import java.math.BigDecimal;
import oracle.apps.asn.common.schema.server.ASNUtil;
import oracle.apps.fnd.framework.OAFwkConstants;
import oracle.apps.fnd.common.MessageToken;
//import com.sun.java.util.collections.Iterator;

//  ---------------------------------------------------------------
//  ---    File generated by Oracle Business Components for Java.
//  ---------------------------------------------------------------

public class ODCustSearchResultsSVOImpl extends OAViewObjectImpl 
{
  /**
   * 
   * This is the default constructor (do not remove)
   */
    public ODCustSearchResultsSVOImpl()
    {
    }

  
    public void initQuery(String loginResourceId)
    {
        OADBTransactionImpl oadbtransactionimpl = (OADBTransactionImpl)getApplicationModule().getTransaction();
        boolean isStatLogEnabled = oadbtransactionimpl.isLoggingEnabled(OAFwkConstants.STATEMENT);
        if(isStatLogEnabled)   
        {
          oadbtransactionimpl.writeDiagnostics(this,  "ODCustSearchResultsSVOImpl: In initQuery", OAFwkConstants.STATEMENT);
        }

		setWhereClauseParams(null);
        setWhereClause(null);

		String maxDefaultRows = (String)oadbtransactionimpl.getProfile("XX_ASN_MAX_DEFAULT_CUST_SRCH_ROWS");
		String custAccessProfile = (String)oadbtransactionimpl.getProfile("ASN_CUST_ACCESS");

		if(maxDefaultRows == null || "".equals(maxDefaultRows.trim()))
            maxDefaultRows = "500";

		if(custAccessProfile == null || "".equals(custAccessProfile.trim()))
            custAccessProfile = "S";

		if(isStatLogEnabled)   
        {
          oadbtransactionimpl.writeDiagnostics(this,  "ANIRBAN: ODCustSearchResultsSVOImpl: maxDefaultRows: "+maxDefaultRows, OAFwkConstants.STATEMENT);

		  oadbtransactionimpl.writeDiagnostics(this,  "ANIRBAN: ODCustSearchResultsSVOImpl: custAccessProfile: "+custAccessProfile, OAFwkConstants.STATEMENT);
        }

        if(loginResourceId != null && !"".equals(loginResourceId.trim()))
        {
            MessageToken amessagetoken[] = {
                new MessageToken("IDNAME", loginResourceId)
            };
            oracle.jbo.domain.Number number = ASNUtil.stringToJboNumber(loginResourceId, "ASN_CMMN_STR_TO_JBONUM_ERR", amessagetoken);
            setWhereClauseParam(0, custAccessProfile);
			setWhereClauseParam(1, number);
			setWhereClauseParam(2, maxDefaultRows);
        }
       
	     String anirbanQuery = getQuery();
		 oadbtransactionimpl.writeDiagnostics(this,  "ODVO: ANIRBAN In initQuery ODCustSearchResultsSVOImpl PRINTING THE VO QUERY - "+anirbanQuery, OAFwkConstants.STATEMENT);
         executeQuery();
    }
    
    
}