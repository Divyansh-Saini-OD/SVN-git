<?xml version="1.0" encoding="WINDOWS-1252" ?>
<dataTemplate name="XXARCBIPRI" description="OD: (US) AR Get Summary Billing Data -CERTEGY" defaultPackage="xx_ar_print_summbill" Version="1.0">
<properties>
<property name="scalable_mode" value="on" />
</properties>
<parameters>
 <parameter name="p_thread_id" dataType="number"/>
 <parameter name="p_as_of_date" dataType="character"/>
 <parameter name="P_CM_TEXT1" dataType="character"/>
 <parameter name="P_CM_TEXT2" dataType="character"/>
 <parameter name="P_GIFT_CARD_TEXT1" dataType="character"/>            <!--Added for R1.1 Defect # 1451 (CR 626)-->
 <parameter name="P_GIFT_CARD_TEXT2" dataType="character"/>            <!--Added for R1.1 Defect # 1451 (CR 626)-->
 <parameter name="P_GIFT_CARD_TEXT3" dataType="character"/>            <!--Added for R1.1 Defect # 1451 (CR 626)-->
</parameters>
<dataQuery>
<sqlStatement name="Q_TAX_INFO">
<![CDATA[
SELECT tax_id
      ,tax_id_desc
      ,return_address_line1
      ,return_address_line2
      ,return_city
      ,return_state
      ,return_postal_code
FROM   xx_ar_sys_info
]]>
</sqlStatement>
<sqlStatement name="Q_CUSTOMERS">
<![CDATA[
SELECT attribute9  billing_id
      ,attribute12 account_number
--      ,attribute11 account_name   --Commented for Defect 13372
      ,attribute11 account_name_orig   --Added for Defect 13372
      ,attribute10 sales_channel
      ,customer_id
      ,customer_id info_customer_id
      ,customer_id sumz_customer_id
      ,customer_id one_customer_id      
FROM   xx_ar_cons_bills_history
WHERE  1 =1
  AND  print_date   <= fnd_conc_date.string_to_date(:p_as_of_date)
  AND  process_flag !='Y'
  AND  thread_id   =:p_thread_id
GROUP BY attribute9 ,attribute12 ,attribute11 ,attribute10 ,customer_id
]]>
</sqlStatement>
<sqlStatement name="Q_BILLING_SITES">
<![CDATA[
select od_summbills.billing_site_id  billing_site_id
      ,od_summbills.billing_site_id  info_billing_site_id
      ,od_summbills.billing_site_id  sumz_billing_site_id
      ,od_summbills.billing_site_id  one_billing_site_id      
      ,substr(nvl(hzlo.address_lines_phonetic,hzp.party_name) ,1 ,40) account_name  --Added for Defect 13372
      ,substr(hzlo.address1 ,1 ,40)  bill_to_address_line1
      ,substr(hzlo.address2 ,1 ,40)  bill_to_address_line2
      ,substr(hzlo.address3 ,1 ,40)  bill_to_address_line3
      ,substr(hzlo.address4 ,1 ,40)  bill_to_address_line4
      ,substr(hzlo.city ,1 ,40)      bill_to_city
      ,hzlo.state                    bill_to_state
      ,REPLACE(hzlo.postal_code ,'-' ,'') bill_to_postal_code
      ,hzlo.province                 bill_to_province
      ,hzlo.country                  bill_to_country
      ,substr(rhzlo.address1 ,1 ,40) remit_to_address_line1
      ,substr(rhzlo.address2 ,1 ,40) remit_to_address_line2
      ,substr(rhzlo.address3 ,1 ,40) remit_to_address_line3
      ,substr(rhzlo.address4 ,1 ,40) remit_to_address_line4      
      ,substr(rhzlo.city ,1 ,40)     remit_to_city
      ,rhzlo.state                   remit_to_state
      ,REPLACE(rhzlo.postal_code ,'-' ,'') remit_to_postal_code
      ,rhzlo.country                 remit_to_country
      ,xx_ar_print_summbill.get_od_contact_info(:sales_channel ,hzlo.country ,'ORDER') order_contact
      ,xx_ar_print_summbill.get_od_contact_info(:sales_channel ,hzlo.country ,'ACCOUNT') account_contact      
	  ,od_summbills.cust_doc_id cust_doc_id --added for defect 30156 and 30173
      ,xx_ar_print_summbill.get_mail_to_attn( :customer_id
                                             ,od_summbills.cust_doc_id
                                             ,od_summbills.billing_site_id
                                             )                                MAIL_TO_ATTN   -- Added as part of R1.4 CR# 547 DEfect# 2424
 from  hz_cust_acct_sites   hzas
       ,hz_cust_site_uses    hzsu
       ,hz_party_sites       hzps
       ,hz_parties           hzp   -- Added for Defect # 13372
       ,hz_locations         hzlo
       ,hz_cust_acct_sites   rhzca
       ,hz_party_sites       rhzps
       ,hz_locations         rhzlo
       ,(select customer_id ,to_number(attribute7) billing_site_id
               ,cust_doc_id                                          -- Added as part of R1.4 CR# 547 DEfect# 2424
         from   xx_ar_cons_bills_history
         where  1 =1
           and  print_date <= fnd_conc_date.string_to_date(:p_as_of_date)
           and  process_flag !='Y'  
           and  thread_id   =:p_thread_id           
         group by customer_id ,to_number(attribute7)
         ,cust_doc_id    -- Added as part of R1.4 CR# 547 DEfect# 2424
        ) od_summbills
  where hzas.cust_account_id         =:customer_id
    and hzas.cust_account_id         =od_summbills.customer_id
    and od_summbills.billing_site_id =hzsu.site_use_id
    and hzsu.cust_acct_site_id       =hzas.cust_acct_site_id
    and hzps.party_site_id           =hzas.party_site_id
    and hzps.party_id                = hzp.party_id  --Added for Defect 13372
    and hzlo.location_id             =hzps.location_id
    and rhzca.cust_acct_site_id      =xx_ar_print_summbill.get_remitaddressid(od_summbills.billing_site_id)
    and rhzps.party_site_id          =rhzca.party_site_id
    and rhzlo.location_id            =rhzps.location_id
  order by billing_site_id
]]>
</sqlStatement>
<sqlStatement name="Q_PAYDOC_LAYOUT">
<![CDATA[
SELECT document_id   doc_id
      ,UPPER(layout) layout      
      ,sort_by       sort_by
      ,attribute2    total_by
      ,attribute3    page_break
      ,cons_inv_id   cbi_id1
FROM   xx_ar_cons_bills_history
WHERE  1 =1
  AND  print_date   <= fnd_conc_date.string_to_date(:p_as_of_date)
  AND  paydoc       ='Y'  
  AND  process_flag !='Y'
  AND  customer_id  =:customer_id 
  AND  attribute7   =:billing_site_id
  AND  thread_id   =:p_thread_id 
]]>
</sqlStatement>
<sqlStatement name="Q_PAYDOC_CBI_DETAIL">
<![CDATA[
 SELECT detail.*,NVL((NVL(cbi_extamt_incl_delvy,0)-cbi_fee_amt),0) cbi_extamt_incl_delvy_n FROM (
 SELECT arci.cons_inv_id                            cons_inv_id
       ,arci.cons_billing_number                    billing_number
       ,arci.currency_code                          currency
       ,SUBSTR(terms.description ,1 ,15)            terms       
      ,TO_CHAR( NVL( 

                       xx_ar_print_summbill.get_bill_from_date(arci.customer_id
                                                                  ,arci.site_use_id 
                                                                  ,arci.cons_inv_id 
                                                                  --,arci.cut_off_date -- added for defect 11993  -- Commented for Defect# 15063.
                                                                  ,TO_DATE(arci.attribute1) -- Added for Defect# 15063. The logic of the attribute1 column is handled in the procedure XX_AR_PRINT_NEW_CON_PKG.MAIN
                                                                  ,'PAYDOC'
                                                                  ,od_summbills.cust_doc_id --Added for Defect# 11993.
                                                                  ) 
                      ,fnd_conc_date.string_to_date(:p_as_of_date)
                    ) 
                ,'DD-MON-YY'
               ) bill_from_date
      -- ,TO_CHAR(TRUNC(arci.cut_off_date) ,'DD-MON-YY')                    bill_to_date   
       --,TO_CHAR(TRUNC(arci.cut_off_date)-1 ,'DD-MON-YY')                    bill_to_date -- Commented for Defect# 15063.
       ,TO_CHAR(TO_DATE(arci.attribute1) - 1,'DD-MON-YY')                 bill_to_date -- Added for Defect# 15063. The logic of the attribute1 column is handled in the procedure XX_AR_PRINT_NEW_CON_PKG.MAIN
       ,TO_CHAR(TRUNC(arci.due_date) ,'DD-MON-YY')                        payment_due
       ,xx_ar_ebl_common_util_pkg.get_header_discount(arci.cons_inv_id,NULL) DISCOUNT_INFO
       ,xx_ar_cbi_paydoc_ministmnt       
        (arci.cons_inv_id ,'EXTAMT_PLUS_DELVY')     cbi_extamt_incl_delvy
       ,xx_ar_cbi_paydoc_ministmnt        
        (arci.cons_inv_id ,'DISCOUNT')              cbi_promo_and_disc        
       ,xx_ar_cbi_paydoc_ministmnt        
        (arci.cons_inv_id ,'TAX')                   cbi_tax
      , NVL(( SELECT SUM(XX_AR_EBL_COMMON_UTIL_PKG.get_line_fee_amount(aci.customer_trx_id) +
                       XX_AR_EBL_COMMON_UTIL_PKG.get_hea_fee_amount(aci.customer_trx_id))
              FROM ar_cons_inv_trx aci
             WHERE cons_inv_id = arci.cons_inv_id),0)            cbi_fee_amt
       ,od_summbills.attribute14                    cbi_amount_due 
       ,xx_ar_print_summbill.xx_fin_check_digit(:account_number ,arci.cons_billing_number ,(TO_NUMBER(od_summbills.attribute14) *100)) scanline 
       ,layout pd_layout1
       ,layout pd_layout2
       ,layout pd_layout3       
       ,'ORIGINAL CONSOLIDATED BILL' doc_title       
	   ,(SELECT TARGET_VALUE1 
			FROM xx_cdh_cust_acct_ext_b b,
           XX_FIN_TRANSLATEDEFINITION xxft, 
           XX_FIN_TRANSLATEVALUES xxfv 
		   WHERE b.cust_account_id = od_summbills.customer_id
			 AND b.ATTR_GROUP_ID = 166
             AND xxfv.SOURCE_VALUE1 = b.fee_option
             AND xxft.translate_id = xxfv.translate_id 
             AND xxft.TRANSLATION_NAME = 'OD_IREC_BILL_DOC_DEFAULTS'
			 AND b.N_EXT_ATTR1 = od_summbills.DOCUMENT_ID
			 AND b.N_EXT_ATTR2 = od_summbills.CUST_DOC_ID 
			 AND rownum =1	 
			 )	Fee_option
 FROM   xx_ar_cons_bills_history od_summbills
       ,ar_cons_inv              arci
       ,ra_terms                 terms
 WHERE od_summbills.cons_inv_id =arci.cons_inv_id
   AND od_summbills.customer_id =:customer_id
   AND od_summbills.attribute7  =:billing_site_id
   AND terms.term_id            =arci.term_id  
   AND od_summbills.print_date  <= fnd_conc_date.string_to_date(:p_as_of_date)
   AND od_summbills.document_id =:doc_id
   AND od_summbills.paydoc      ='Y'   
   AND NVL(od_summbills.process_flag, 'N') !='Y'  
   AND od_summbills.thread_id   =:p_thread_id
   AND od_summbills.cons_inv_id   =:cbi_id1
   AND od_summbills.layout ='DETAIL') detail
]]>
</sqlStatement>
-- Added for Tariff project NAIT - 129167
<sqlStatement name="Q_PAYDOC_CONS_FEE">
       <![CDATA[	
SELECT 
      flv.lookup_code FEE_CODE
     ,upper(flv.meaning)  FEE_DESCRIPTION
     ,flv.attribute7
     ,TO_CHAR(sum(RCTL.unit_selling_price*
	 CASE WHEN aps.class = 'CM' THEN
	  quantity_credited
	 ELSE 
	  NVL(quantity_ordered,quantity_invoiced)
	  END
	  ),'9999999999.999')       FEE_AMT  
FROM
     ra_customer_trx_lines_All RCTL
	 ,ar_cons_inv_trx              arci
     ,fnd_lookup_values flv
     ,ar_payment_schedules_all aps
WHERE 1=1
  AND flv.lookup_type = 'OD_FEES_ITEMS'
  AND flv.LANGUAGE='US'
  AND flv.attribute6= rctl.INVENTORY_ITEM_ID
  AND FLV.enabled_flag = 'Y'                                   
  AND SYSDATE BETWEEN NVL(FLV.start_date_active,SYSDATE) AND NVL(FLV.end_date_active,SYSDATE+1)  
  AND FLV.attribute7 NOT IN ('DELIVERY','MISCELLANEOUS')  
  AND RCTL.customer_trx_id         = arci.customer_trx_id
  AND RCTL.customer_trx_id = aps.customer_trx_id
  AND arci.cons_inv_id           = :cbi_id1 
GROUP BY flv.lookup_code,flv.meaning,flv.attribute7
order by flv.attribute7 desc,flv.lookup_code
       ]]>
    </sqlStatement>	
<sqlStatement name="Q_PAYDOC_CBI_SUMMARIZE">
<![CDATA[
 SELECT a.*,NVL((cbi_extamt_incl_delvy-cbi_fee_amt),0) CBI_EXTAMT_INCL_DELVY_EX_FEE FROM (
 SELECT arci.cons_inv_id                            cons_inv_id1
       ,arci.cons_billing_number                    billing_number
       ,arci.currency_code                          currency
       ,SUBSTR(terms.description ,1 ,15)            terms       
        ,TO_CHAR( NVL(
                       xx_ar_print_summbill.get_bill_from_date(arci.customer_id
                                                                  ,arci.site_use_id 
                                                                  ,arci.cons_inv_id 
                                                                  --,arci.cut_off_date -- added for defect 11993 -- Commented for Defect# 15063.
                                                                  ,TO_DATE(arci.attribute1) -- Added for Defect# 15063. The logic of the attribute1 column is handled in the procedure XX_AR_PRINT_NEW_CON_PKG.MAIN
                                                                  ,'PAYDOC'
                                                                  ,od_summbills.cust_Doc_id  --Added for Defect# 11993.
                                                                  )
                      ,fnd_conc_date.string_to_date(:p_as_of_date)
                    ) 
                ,'DD-MON-YY'
               ) bill_from_date
      -- ,TO_CHAR(TRUNC(arci.cut_off_date) ,'DD-MON-YY')                    bill_to_date  
       --,TO_CHAR(TRUNC(arci.cut_off_date)-1 ,'DD-MON-YY')                    bill_to_date  -- Commented for Defect# 15063.
       ,TO_CHAR(TO_DATE(arci.attribute1) - 1 ,'DD-MON-YY')                  bill_to_Date -- Added for Defect# 15063. The logic of the attribute1 column is handled in the procedure XX_AR_PRINT_NEW_CON_PKG.MAIN
       ,TO_CHAR(TRUNC(arci.due_date) ,'DD-MON-YY')                        payment_due
       ,xx_ar_ebl_common_util_pkg.get_header_discount(arci.cons_inv_id,NULL) DISCOUNT_INFO
       ,xx_ar_cbi_paydoc_ministmnt       
        (arci.cons_inv_id ,'EXTAMT_PLUS_DELVY')     cbi_extamt_incl_delvy
       ,xx_ar_cbi_paydoc_ministmnt        
        (arci.cons_inv_id ,'DISCOUNT')              cbi_promo_and_disc        
       ,xx_ar_cbi_paydoc_ministmnt        
        (arci.cons_inv_id ,'TAX')                   cbi_tax
      , NVL(( SELECT SUM(XX_AR_EBL_COMMON_UTIL_PKG.get_line_fee_amount(aci.customer_trx_id) +
                       XX_AR_EBL_COMMON_UTIL_PKG.get_hea_fee_amount(aci.customer_trx_id))
              FROM ar_cons_inv_trx aci
             WHERE cons_inv_id = arci.cons_inv_id),0)          cbi_fee_amt
       ,od_summbills.attribute14                    cbi_amount_due 
       ,xx_ar_print_summbill.xx_fin_check_digit(:account_number ,arci.cons_billing_number ,(TO_NUMBER(od_summbills.attribute14) *100)) scanline 
       ,layout pd_layout1
       ,layout pd_layout2
       ,layout pd_layout3       
       ,'ORIGINAL CONSOLIDATED BILL' doc_title   
       ,(SELECT TARGET_VALUE1 
			FROM xx_cdh_cust_acct_ext_b b,
           XX_FIN_TRANSLATEDEFINITION xxft, 
           XX_FIN_TRANSLATEVALUES xxfv 
		   WHERE b.cust_account_id = od_summbills.customer_id
			 AND b.ATTR_GROUP_ID = 166
             AND xxfv.SOURCE_VALUE1 = b.fee_option
             AND xxft.translate_id = xxfv.translate_id 
             AND xxft.TRANSLATION_NAME = 'OD_IREC_BILL_DOC_DEFAULTS'
			 AND b.N_EXT_ATTR1 = od_summbills.DOCUMENT_ID
			 AND b.N_EXT_ATTR2 = od_summbills.CUST_DOC_ID 
			 AND rownum =1	 
			 )	Fee_option
 FROM   xx_ar_cons_bills_history od_summbills
       ,ar_cons_inv              arci
       ,ra_terms                 terms
 WHERE od_summbills.cons_inv_id =arci.cons_inv_id
   AND od_summbills.customer_id =:customer_id
   AND od_summbills.attribute7  =:billing_site_id
   AND terms.term_id            =arci.term_id  
   AND od_summbills.print_date  <= fnd_conc_date.string_to_date(:p_as_of_date)
   AND od_summbills.document_id =:doc_id
   AND od_summbills.paydoc      ='Y'   
   AND NVL(od_summbills.process_flag, 'N') !='Y'  
   AND od_summbills.thread_id   =:p_thread_id
   AND od_summbills.cons_inv_id   =:cbi_id1
   AND od_summbills.layout ='SUMMARIZE') a
]]>
</sqlStatement>
<sqlStatement name="Q_PAYDOC_CBI_ONE">
<![CDATA[
SELECT a.*,NVL((cbi_extamt_incl_delvy - cbi_fee_amt),0) CBI_EXTAMT_INCL_DELVY_EX_FEE FROM (
 SELECT arci.cons_inv_id                            cons_inv_id2
       ,arci.cons_billing_number                    billing_number
       ,arci.currency_code                          currency
       ,SUBSTR(terms.description ,1 ,15)            terms       
        ,TO_CHAR( NVL(
                       xx_ar_print_summbill.get_bill_from_date(arci.customer_id
                                                                  ,arci.site_use_id 
                                                                  ,arci.cons_inv_id 
                                                                  --,arci.cut_off_date -- added for defect 11993  -- Commented for Defect# 15063.
                                                                  ,TO_DATE(arci.attribute1) -- Added for Defect# 15063. The logic of the attribute1 column is handled in the procedure XX_AR_PRINT_NEW_CON_PKG.MAIN
                                                                  ,'PAYDOC'
                                                                  ,od_summbills.cust_doc_id  -- Added for Defect# 11993.
                                                                  )
                      ,fnd_conc_date.string_to_date(:p_as_of_date)
                    ) 
                ,'DD-MON-YY'
               ) bill_from_date
       --,TO_CHAR(TRUNC(arci.cut_off_date) ,'DD-MON-YY')                    bill_to_date  
       --,TO_CHAR(TRUNC(arci.cut_off_date)-1 ,'DD-MON-YY')                    bill_to_date  -- Commented for Defect# 15063.
       ,TO_CHAR(TO_DATE(arci.attribute1)-1,'DD-MON-YY')                   bill_to_Date -- Added for Defect# 15063. The logic of the attribute1 column is handled in the procedure XX_AR_PRINT_NEW_CON_PKG.MAIN
       ,TO_CHAR(TRUNC(arci.due_date) ,'DD-MON-YY')                        payment_due
       ,xx_ar_ebl_common_util_pkg.get_header_discount(arci.cons_inv_id,NULL) DISCOUNT_INFO
       ,xx_ar_cbi_paydoc_ministmnt       
        (arci.cons_inv_id ,'EXTAMT_PLUS_DELVY')     cbi_extamt_incl_delvy
       ,xx_ar_cbi_paydoc_ministmnt        
        (arci.cons_inv_id ,'DISCOUNT')              cbi_promo_and_disc        
       ,xx_ar_cbi_paydoc_ministmnt        
        (arci.cons_inv_id ,'TAX')                   cbi_tax
      ,NVL(( SELECT SUM(XX_AR_EBL_COMMON_UTIL_PKG.get_line_fee_amount(aci.customer_trx_id) +
                       XX_AR_EBL_COMMON_UTIL_PKG.get_hea_fee_amount(aci.customer_trx_id))
              FROM ar_cons_inv_trx aci
             WHERE cons_inv_id = arci.cons_inv_id),0)           cbi_fee_amt
       ,od_summbills.attribute14                    cbi_amount_due 
       ,xx_ar_print_summbill.xx_fin_check_digit(:account_number ,arci.cons_billing_number ,(TO_NUMBER(od_summbills.attribute14) *100)) scanline 
       ,layout pd_layout1
       ,layout pd_layout2
       ,layout pd_layout3       
       ,'ORIGINAL CONSOLIDATED BILL' doc_title  
       ,(SELECT TARGET_VALUE1 
			FROM xx_cdh_cust_acct_ext_b b,
           XX_FIN_TRANSLATEDEFINITION xxft, 
           XX_FIN_TRANSLATEVALUES xxfv 
		   WHERE b.cust_account_id = od_summbills.customer_id
			 AND b.ATTR_GROUP_ID = 166
             AND xxfv.SOURCE_VALUE1 = b.fee_option
             AND xxft.translate_id = xxfv.translate_id 
             AND xxft.TRANSLATION_NAME = 'OD_IREC_BILL_DOC_DEFAULTS'
			 AND b.N_EXT_ATTR1 = od_summbills.DOCUMENT_ID
			 AND b.N_EXT_ATTR2 = od_summbills.CUST_DOC_ID 
			 AND rownum =1	 
			 )	Fee_option	   
 FROM   xx_ar_cons_bills_history od_summbills
       ,ar_cons_inv              arci
       ,ra_terms                 terms
 WHERE od_summbills.cons_inv_id =arci.cons_inv_id
   AND od_summbills.customer_id =:customer_id
   AND od_summbills.attribute7  =:billing_site_id
   AND terms.term_id            =arci.term_id  
   AND od_summbills.print_date  <= fnd_conc_date.string_to_date(:p_as_of_date)
   AND od_summbills.document_id =:doc_id
   AND od_summbills.paydoc      ='Y'   
   AND NVL(od_summbills.process_flag, 'N') !='Y'  
   AND od_summbills.thread_id   =:p_thread_id
   AND od_summbills.cons_inv_id   =:cbi_id1
   AND od_summbills.layout ='ONE') a
]]>
</sqlStatement>
<sqlStatement name="Q_PAYDOC_SUMM_SOFTHEADERS">
<![CDATA[
SELECT REPLACE(sfhdr1 ,':' ,'') sfhdr1
      ,REPLACE(sfhdr2 ,':' ,'') sfhdr2
      ,REPLACE(sfhdr3 ,':' ,'') sfhdr3
      ,REPLACE(sfhdr4 ,':' ,'') sfhdr4
      ,REPLACE(sfhdr5 ,':' ,'') sfhdr5
	  ,'ORDERED BY:' sfhdr6 -- Added for Defect# 19985 on 03-Jan-2012
	  ,'SHIP TO:' sfhdr7 -- Added for Defect# 19985 on 03-Jan-2012
FROM  xx_ar_cbi_trx
WHERE request_id =:p_thread_id
  AND cons_inv_id =:cons_inv_id1
  AND attribute1  ='PAYDOC'
  AND inv_type NOT IN ('SOFTHDR_TOTALS' ,'BILLTO_TOTALS' ,'GRAND_TOTAL')
GROUP BY sfhdr1 ,sfhdr2 ,sfhdr3 ,sfhdr4 ,sfhdr5
]]>
</sqlStatement>
<sqlStatement name="Q_INFODOC_SUMM_SOFTHEADERS">
<![CDATA[
SELECT REPLACE(sfhdr1 ,':' ,'') infosumz_sfhdr1
      ,REPLACE(sfhdr2 ,':' ,'') infosumz_sfhdr2
      ,REPLACE(sfhdr3 ,':' ,'') infosumz_sfhdr3
      ,REPLACE(sfhdr4 ,':' ,'') infosumz_sfhdr4
      ,REPLACE(sfhdr5 ,':' ,'') infosumz_sfhdr5
	  ,'ORDERED BY:' infosumz_sfhdr6 -- Added for Defect# 19985 on 03-Jan-2012
	  ,'SHIP TO:' infosumz_sfhdr7 -- Added for Defect# 19985 on 03-Jan-2012
FROM  xx_ar_cbi_trx
WHERE request_id =:p_thread_id
  AND cons_inv_id =:info_cbi_id99
  AND attribute1  !='PAYDOC'
  AND inv_type NOT IN ('SOFTHDR_TOTALS' ,'BILLTO_TOTALS' ,'GRAND_TOTAL')
GROUP BY sfhdr1 ,sfhdr2 ,sfhdr3 ,sfhdr4 ,sfhdr5
]]>
</sqlStatement>
<sqlStatement name="Q_PAYDOC_ONE_SOFTHEADERS">
<![CDATA[
SELECT REPLACE(sfhdr1 ,':' ,'') sfhdr1
      ,REPLACE(sfhdr2 ,':' ,'') sfhdr2
      ,REPLACE(sfhdr3 ,':' ,'') sfhdr3
      ,REPLACE(sfhdr4 ,':' ,'') sfhdr4
      ,REPLACE(sfhdr5 ,':' ,'') sfhdr5
	
FROM  xx_ar_cbi_trx
WHERE request_id =:p_thread_id
  AND cons_inv_id =:cons_inv_id2
  AND attribute1  ='PAYDOC'
  AND inv_type NOT IN ('SOFTHDR_TOTALS' ,'BILLTO_TOTALS' ,'GRAND_TOTAL')
GROUP BY sfhdr1 ,sfhdr2 ,sfhdr3 ,sfhdr4 ,sfhdr5
]]>
</sqlStatement>
<sqlStatement name="Q_INFODOC_ONE_SOFTHEADERS">
<![CDATA[
SELECT REPLACE(sfhdr1 ,':' ,'') infoone_sfhdr1
      ,REPLACE(sfhdr2 ,':' ,'') infoone_sfhdr2
      ,REPLACE(sfhdr3 ,':' ,'') infoone_sfhdr3
      ,REPLACE(sfhdr4 ,':' ,'') infoone_sfhdr4
      ,REPLACE(sfhdr5 ,':' ,'') infoone_sfhdr5
	
FROM  xx_ar_cbi_trx
WHERE request_id =:p_thread_id
  AND cons_inv_id =:info_cbi_id77
  AND attribute1  !='PAYDOC'
  AND inv_type NOT IN ('SOFTHDR_TOTALS' ,'BILLTO_TOTALS' ,'GRAND_TOTAL')
GROUP BY sfhdr1 ,sfhdr2 ,sfhdr3 ,sfhdr4 ,sfhdr5
]]>
</sqlStatement>
<sqlStatement name="Q_PAYDOC_SUMM_TRX">
<![CDATA[
SELECT 
      xact.customer_trx_id trx_id22
     ,xact.inv_number      order_num
     ,xact.inv_type        type
     ,xact.inv_source_id   inv_source_id
     ,xact.inv_source_name inv_source
     ,to_char(xact.order_date ,'DD-MON-YY') order_date 
     ,xact.sfdata1 ,xact.sfdata2 ,xact.sfdata3 ,xact.sfdata4 ,xact.sfdata5
     ,(xact.subtotal_amount - xact.delivery_charges - (NVL(XX_AR_EBL_COMMON_UTIL_PKG.get_line_fee_amount(xact.customer_trx_id),0) + NVL(XX_AR_EBL_COMMON_UTIL_PKG.get_hea_fee_amount(xact.customer_trx_id),0))) subtotal
     ,xact.delivery_charges delivery
     ,xact.promo_and_disc discounts
     ,xact.tax_amount
     ,(xact.subtotal_amount +xact.promo_and_disc +xact.tax_amount) order_total   
   ,TRIM(xohaa.cust_contact_name)                    sfdata6 -- Added for Defect# 19985 on 03-Jan-2012
	,trim(xohaa.ship_to_address1||DECODE(trim(xohaa.ship_to_address2),'','',', '||trim(xohaa.ship_to_address2))||DECODE(trim(xohaa.ship_to_city),'','',', '||
  trim(xohaa.ship_to_city))||DECODE(trim(xohaa.ship_to_state),'','',', '||trim(xohaa.ship_to_state))||DECODE(trim(xohaa.ship_to_zip),'','',' '||trim((CASE WHEN ((LENGTH(xohaa.ship_to_zip) > 5) and xohaa.ship_to_country IN('US','USA'))
                        THEN (SUBSTR(xohaa.ship_to_zip,1,5)||'-'||SUBSTR(xohaa.ship_to_zip,6))
                        ELSE (xohaa.ship_to_zip)
                        end)))	
              ) sfdata7 -- Added for Defect# 19985 on 03-Jan-2012
 ,NVL(XX_AR_EBL_COMMON_UTIL_PKG.get_line_fee_amount(xact.customer_trx_id),0) + NVL(XX_AR_EBL_COMMON_UTIL_PKG.get_hea_fee_amount(xact.customer_trx_id),0) fee_amt
from  xx_ar_cbi_trx xact,
xx_om_header_attributes_all xohaa
where request_id  =:p_thread_id
  and cons_inv_id =:cons_inv_id1
  AND attribute1  ='PAYDOC'  
  and inv_type not in ('SOFTHDR_TOTALS' ,'BILLTO_TOTALS' ,'GRAND_TOTAL') 
  AND xact.order_header_id=xohaa.header_id
ORDER BY insert_seq
]]>
</sqlStatement>
<sqlStatement name="Q_INFODOC_SUMM_TRX">
<![CDATA[
SELECT 
      customer_trx_id infosumz_trx_id1
FROM  xx_ar_cbi_trx
WHERE request_id  =:p_thread_id
  AND cons_inv_id =:info_cbi_id99
  AND attribute1  !='PAYDOC'  
  AND inv_type NOT IN ('SOFTHDR_TOTALS' ,'BILLTO_TOTALS' ,'GRAND_TOTAL')  
ORDER BY insert_seq
]]>
</sqlStatement>
<sqlStatement name="Q_INFODOC_SUMM_TRX_INFO">
<![CDATA[
SELECT 
      xact.inv_number      infosumz_order_num
     ,xact.inv_type        infosumz_type
     ,xact.inv_source_id   infosumz_inv_source_id
     ,xact.inv_source_name infosumz_inv_source
     ,TO_CHAR(xact.order_date ,'DD-MON-YY') infosumz_order_date 
     ,xact.sfdata1 infosumz_sfdata1
     ,xact.sfdata2 infosumz_sfdata2
     ,xact.sfdata3 infosumz_sfdata3
     ,xact.sfdata4 infosumz_sfdata4
     ,xact.sfdata5 infosumz_sfdata5
     ,(xact.subtotal_amount - xact.delivery_charges - (NVL(XX_AR_EBL_COMMON_UTIL_PKG.get_line_fee_amount(xact.customer_trx_id),0) + NVL(XX_AR_EBL_COMMON_UTIL_PKG.get_hea_fee_amount(xact.customer_trx_id),0))) infosumz_subtotal
     ,xact.delivery_charges infosumz_delivery
     ,xact.promo_and_disc infosumz_discounts
     ,xact.tax_amount infosumz_tax
     ,(xact.subtotal_amount +xact.promo_and_disc +xact.tax_amount) infosumz_total
	 ,TRIM(xohaa.cust_contact_name)                   infosumz_sfdata6 -- Added for Defect# 19985 on 03-Jan-2012
	,trim(xohaa.ship_to_address1||DECODE(trim(xohaa.ship_to_address2),'','',', '||trim(xohaa.ship_to_address2))||DECODE(trim(xohaa.ship_to_city),'','',', '||
     trim(xohaa.ship_to_city))||DECODE(trim(xohaa.ship_to_state),'','',', '||trim(xohaa.ship_to_state))||DECODE(trim(xohaa.ship_to_zip),'','',' '||trim((CASE WHEN ((LENGTH(xohaa.ship_to_zip) > 5) and xohaa.ship_to_country IN('US','USA'))
                        THEN (SUBSTR(xohaa.ship_to_zip,1,5)||'-'||SUBSTR(xohaa.ship_to_zip,6))
                        ELSE (xohaa.ship_to_zip)
                        end)))	
      ) infosumz_sfdata7 -- Added for Defect# 19985 on 03-Jan-2012
      ,NVL(XX_AR_EBL_COMMON_UTIL_PKG.get_line_fee_amount(xact.customer_trx_id),0) + NVL(XX_AR_EBL_COMMON_UTIL_PKG.get_hea_fee_amount(xact.customer_trx_id),0)INFOSUMZ_FEE
FROM  xx_ar_cbi_trx xact,
xx_om_header_attributes_all xohaa
WHERE request_id      =:p_thread_id
  AND cons_inv_id     =:info_cbi_id99
  AND customer_trx_id =:infosumz_trx_id1
  AND attribute1      !='PAYDOC'  
  AND inv_type NOT IN ('SOFTHDR_TOTALS' ,'BILLTO_TOTALS' ,'GRAND_TOTAL')  
  AND xact.order_header_id=xohaa.header_id
ORDER BY insert_seq
]]>
</sqlStatement>
<sqlStatement name="Q_SUMM_TRX_ACM">
<![CDATA[
-- SELECT :P_CM_TEXT1||' '||TRIM(TO_CHAR(extended_price ,'$9G999G999D99PR'))||' '||:P_CM_TEXT2||' '||customer_product_code||'.' acm_text  --Commented for R1.2 CR 621 (1143)
SELECT :P_CM_TEXT1||' '||TRIM(TO_CHAR(extended_price ,'$9G999G999D99'))||' '||:P_CM_TEXT2||' '||customer_product_code||'.' acm_text   -- Added for R1.2 CR 621 (1143)
FROM   xx_ar_cbi_trx_lines
WHERE request_id      =:p_thread_id
  AND cons_inv_id     =:cons_inv_id1
  AND customer_trx_id =:trx_id22
  AND item_code       ='ACM'
]]>
</sqlStatement>
<!--Added the below group for R1.1 Defect # 1451 (CR 626)-->
<sqlStatement name="Q_SUMM_TRX_GIFT_CARD">
<![CDATA[
-- SELECT :P_GIFT_CARD_TEXT1||extended_price||:P_GIFT_CARD_TEXT2 GIFT_CARD_TEXT   -- Commented for R1.2 CR 621 (1143)
SELECT :P_GIFT_CARD_TEXT1||TRIM(TO_CHAR(extended_price*-1 ,'9G999G999D99'))||:P_GIFT_CARD_TEXT2 GIFT_CARD_TEXT  --Removed Addtnl $ for Defect #5865 on 30-JUN-10 -- Added for R1.2 CR 621 (1143)
FROM   xx_ar_cbi_trx_lines
WHERE request_id      =:p_thread_id
  AND cons_inv_id     =:cons_inv_id1
  AND customer_trx_id =:trx_id22
  AND item_code       ='GIFT_CARD_INV'
UNION ALL
-- SELECT :P_GIFT_CARD_TEXT3||' '||TRIM(TO_CHAR(extended_price ,'9G999G999D99PR'))  GIFT_CARD_TEXT    -- Commented for R1.2 CR 621 (1143)
SELECT :P_GIFT_CARD_TEXT3||' '||TRIM(TO_CHAR(extended_price ,'9G999G999D99'))  GIFT_CARD_TEXT         -- Added for R1.2 CR 621 (1143)
FROM   xx_ar_cbi_trx_lines
WHERE request_id      =:p_thread_id
  AND cons_inv_id     =:cons_inv_id1
  AND customer_trx_id =:trx_id22
  AND item_code       ='GIFT_CARD_CM'
]]>
</sqlStatement>
<sqlStatement name="Q_PAYDOC_SUMM_TOTALS">
<![CDATA[
SELECT sumz.insert_seq                                
      ,'TOTAL FOR '||sumz.inv_source_name             summ_text
      ,DECODE( sumz.order_header_id 
              ,1 
              ,TO_CHAR(sumz.order_header_id)||' ORDER' 
              ,TO_CHAR(sumz.order_header_id)||' ORDERS'
             )                                         tot_orders      
      ,NVL(sumz.tax_code ,'N')                         pg_brk
      ,sumz.subtotal_amount - NVL(XX_AR_EBL_COMMON_UTIL_PKG.get_softhdr_amount_fis(sumz.inv_type,sumz.inv_source_name,sumz.cons_inv_id,sumz.request_id,sumz.CUSTOMER_TRX_ID),0)  summ_subtotal
      ,sumz.delivery_charges summ_delivery
      ,sumz.promo_and_disc   summ_discounts
      ,sumz.tax_amount       summ_tax
      ,( sumz.subtotal_amount +
         sumz.delivery_charges + 
         sumz.promo_and_disc +
         sumz.tax_amount
       )                    summ_total,
       XX_AR_EBL_COMMON_UTIL_PKG.get_softhdr_amount_fis(sumz.inv_type,sumz.inv_source_name,sumz.cons_inv_id,sumz.request_id,sumz.CUSTOMER_TRX_ID) summ_fee
FROM  xx_ar_cbi_trx sumz
WHERE request_id      =:p_thread_id
  AND cons_inv_id     =:cons_inv_id1
  AND customer_trx_id =:trx_id22
  AND attribute1      ='PAYDOC'  
  AND inv_type ='SOFTHDR_TOTALS'
UNION ALL
SELECT sumz.insert_seq
      ,'TOTAL FOR '||sumz.inv_source_name 
      ,DECODE( sumz.order_header_id 
              ,1 
              ,TO_CHAR(sumz.order_header_id)||' ORDER' 
              ,TO_CHAR(sumz.order_header_id)||' ORDERS'
             ) 
      ,NVL(sumz.tax_code ,'N') 
      ,sumz.subtotal_amount -NVL(XX_AR_EBL_COMMON_UTIL_PKG.get_softhdr_amount_fis(sumz.inv_type,sumz.inv_source_name,sumz.cons_inv_id,sumz.request_id,sumz.CUSTOMER_TRX_ID),0)
      ,sumz.delivery_charges
      ,sumz.promo_and_disc  
      ,sumz.tax_amount      
      ,( sumz.subtotal_amount +
         sumz.delivery_charges + 
         sumz.promo_and_disc +
         sumz.tax_amount
       )  ,
       XX_AR_EBL_COMMON_UTIL_PKG.get_softhdr_amount_fis(sumz.inv_type,sumz.inv_source_name,sumz.cons_inv_id,sumz.request_id,sumz.CUSTOMER_TRX_ID) summ_fee	   
FROM  xx_ar_cbi_trx sumz
WHERE request_id      =:p_thread_id
  AND cons_inv_id     =:cons_inv_id1
  AND customer_trx_id =:trx_id22
  AND attribute1      ='PAYDOC'  
  AND inv_type ='BILLTO_TOTALS'    
UNION ALL
SELECT sumz.insert_seq      
      ,'GRAND TOTAL:'       
      ,DECODE( sumz.order_header_id 
              ,1 
              ,TO_CHAR(sumz.order_header_id)||' ORDER' 
              ,TO_CHAR(sumz.order_header_id)||' ORDERS'
             )              
      ,NVL(sumz.tax_code ,'N')
      ,TO_NUMBER(NULL)        
      ,TO_NUMBER(NULL)        
      ,TO_NUMBER(NULL)        
      ,TO_NUMBER(NULL)        
      ,sumz.subtotal_amount  ,
       TO_NUMBER(NULL)  
FROM  xx_ar_cbi_trx sumz
WHERE request_id      =:p_thread_id
  AND cons_inv_id     =:cons_inv_id1
  AND customer_trx_id =:trx_id22
  AND attribute1      ='PAYDOC'  
  AND inv_type ='GRAND_TOTAL'  
ORDER BY insert_seq
]]>
</sqlStatement>
<sqlStatement name="Q_INFODOC_SUMM_TOTALS">
<![CDATA[
SELECT * FROM (
SELECT sumz.insert_seq                                infosumz_insert_seq
      ,'TOTAL FOR '||sumz.inv_source_name             infosumz_summarize_text
      ,DECODE( sumz.order_header_id 
              ,1 
              ,TO_CHAR(sumz.order_header_id)||' ORDER' 
              ,TO_CHAR(sumz.order_header_id)||' ORDERS'
             )                                         infosumz_total_orders      
      ,NVL(sumz.tax_code ,'N')                         infosumz_pg_break
      ,sumz.subtotal_amount- NVL(XX_AR_EBL_COMMON_UTIL_PKG.get_softhdr_amount_fis(sumz.inv_type,sumz.inv_source_name,sumz.cons_inv_id,sumz.request_id,sumz.CUSTOMER_TRX_ID),0)  infosumz_summarize_subtotal
      ,sumz.delivery_charges infosumz_summarize_delivery
      ,sumz.promo_and_disc   infosumz_summarize_discounts
      ,sumz.tax_amount       infosumz_summarize_tax
      ,( sumz.subtotal_amount +
         sumz.delivery_charges + 
         sumz.promo_and_disc +
         sumz.tax_amount
       )                    infosumz_summarize_total ,
	   XX_AR_EBL_COMMON_UTIL_PKG.get_softhdr_amount_fis(sumz.inv_type,sumz.inv_source_name,sumz.cons_inv_id,sumz.request_id,sumz.CUSTOMER_TRX_ID) infosumz_summarize_fee
FROM  xx_ar_cbi_trx sumz
WHERE request_id      =:p_thread_id
  AND cons_inv_id     =:info_cbi_id99
  AND customer_trx_id =:infosumz_trx_id1
  AND attribute1      !='PAYDOC'  
  AND inv_type ='SOFTHDR_TOTALS'
UNION ALL
SELECT sumz.insert_seq
      ,'TOTAL FOR '||sumz.inv_source_name
      ,DECODE( sumz.order_header_id 
              ,1 
              ,TO_CHAR(sumz.order_header_id)||' ORDER' 
              ,TO_CHAR(sumz.order_header_id)||' ORDERS'
             )                           
      ,NVL(sumz.tax_code ,'N')           
      ,sumz.subtotal_amount -NVL(XX_AR_EBL_COMMON_UTIL_PKG.get_softhdr_amount_fis(sumz.inv_type,sumz.inv_source_name,sumz.cons_inv_id,sumz.request_id,sumz.CUSTOMER_TRX_ID),0)
      ,sumz.delivery_charges
      ,sumz.promo_and_disc  
      ,sumz.tax_amount      
      ,( sumz.subtotal_amount +
         sumz.delivery_charges + 
         sumz.promo_and_disc +
         sumz.tax_amount
       ),
       XX_AR_EBL_COMMON_UTIL_PKG.get_softhdr_amount_fis(sumz.inv_type,sumz.inv_source_name,sumz.cons_inv_id,sumz.request_id,sumz.CUSTOMER_TRX_ID) infosumz_summarize_fee	   
FROM  xx_ar_cbi_trx sumz
WHERE request_id      =:p_thread_id
  AND cons_inv_id     =:info_cbi_id99
  AND customer_trx_id =:infosumz_trx_id1
  AND attribute1      !='PAYDOC'  
  AND inv_type ='BILLTO_TOTALS'    
UNION ALL
SELECT sumz.insert_seq
      ,'GRAND TOTAL:' 
      ,DECODE( sumz.order_header_id 
              ,1 
              ,TO_CHAR(sumz.order_header_id)||' ORDER' 
              ,TO_CHAR(sumz.order_header_id)||' ORDERS'
             )        
      ,NVL(sumz.tax_code ,'N') 
      ,TO_NUMBER(NULL)         
      ,TO_NUMBER(NULL)         
      ,TO_NUMBER(NULL)         
      ,TO_NUMBER(NULL)         
      ,sumz.subtotal_amount    
	  ,TO_NUMBER(NULL)
FROM  xx_ar_cbi_trx sumz
WHERE request_id      =:p_thread_id
  AND cons_inv_id     =:info_cbi_id99
  AND customer_trx_id =:infosumz_trx_id1
  AND attribute1      !='PAYDOC'  
  AND inv_type ='GRAND_TOTAL'
  )
ORDER BY infosumz_insert_seq
]]>
</sqlStatement>
<sqlStatement name="Q_PAYDOC_ONE_TOTALS">
<![CDATA[
SELECT sumz.insert_seq
      ,'TOTAL FOR '||sumz.inv_source_name             summarize_text
      ,DECODE( sumz.order_header_id 
              ,1 
              ,TO_CHAR(sumz.order_header_id)||' ORDER' 
              ,TO_CHAR(sumz.order_header_id)||' ORDERS'
             )                                         total_orders      
      ,NVL(sumz.tax_code ,'N')                         pg_break
      ,sumz.subtotal_amount-NVL(XX_AR_EBL_COMMON_UTIL_PKG.get_softhdr_amount_fis(sumz.inv_type,sumz.inv_source_name,sumz.cons_inv_id,sumz.request_id,sumz.CUSTOMER_TRX_ID,'ONE'),0)  summarize_subtotal
      ,sumz.delivery_charges summarize_delivery
      ,sumz.promo_and_disc   summarize_discounts
      ,sumz.tax_amount       summarize_tax
      ,( sumz.subtotal_amount +
         sumz.delivery_charges + 
         sumz.promo_and_disc +
         sumz.tax_amount
       )                    summarize_total ,
       XX_AR_EBL_COMMON_UTIL_PKG.get_softhdr_amount_fis(sumz.inv_type,sumz.inv_source_name,sumz.cons_inv_id,sumz.request_id,sumz.CUSTOMER_TRX_ID,'ONE') summarize_fee
	   
FROM  xx_ar_cbi_trx sumz
WHERE request_id      =:p_thread_id
  AND cons_inv_id     =:cons_inv_id2
  AND attribute1      ='PAYDOC'  
  AND inv_type ='SOFTHDR_TOTALS'
UNION ALL
SELECT sumz.insert_seq
      ,'TOTAL FOR '||sumz.inv_source_name             summarize_text
      ,DECODE( sumz.order_header_id 
              ,1 
              ,TO_CHAR(sumz.order_header_id)||' ORDER' 
              ,TO_CHAR(sumz.order_header_id)||' ORDERS'
             )                                         total_orders      
      ,NVL(sumz.tax_code ,'N')                         pg_break
      ,sumz.subtotal_amount-NVL(XX_AR_EBL_COMMON_UTIL_PKG.get_softhdr_amount_fis(sumz.inv_type,sumz.inv_source_name,sumz.cons_inv_id,sumz.request_id,sumz.CUSTOMER_TRX_ID,'ONE'),0)  summarize_subtotal
      ,sumz.delivery_charges summarize_delivery
      ,sumz.promo_and_disc   summarize_discounts
      ,sumz.tax_amount       summarize_tax
      ,( sumz.subtotal_amount +
         sumz.delivery_charges + 
         sumz.promo_and_disc +
         sumz.tax_amount
       )                    summarize_total ,
       XX_AR_EBL_COMMON_UTIL_PKG.get_softhdr_amount_fis(sumz.inv_type,sumz.inv_source_name,sumz.cons_inv_id,sumz.request_id,sumz.CUSTOMER_TRX_ID,'ONE') summarize_fee
FROM  xx_ar_cbi_trx sumz
WHERE request_id      =:p_thread_id
  AND cons_inv_id     =:cons_inv_id2
  AND attribute1      ='PAYDOC'  
  AND inv_type ='BILLTO_TOTALS'    
UNION ALL
SELECT sumz.insert_seq                                  insert_seq
      ,'GRAND TOTAL:'                                   summarize_text
      ,DECODE( sumz.order_header_id 
              ,1 
              ,TO_CHAR(sumz.order_header_id)||' ORDER' 
              ,TO_CHAR(sumz.order_header_id)||' ORDERS'
             )                                          total_orders      
      ,NVL(sumz.tax_code ,'N')                          pg_break
      ,TO_NUMBER(NULL)                                  summarize_subtotal
      ,TO_NUMBER(NULL)                                  summarize_delivery
      ,TO_NUMBER(NULL)                                  summarize_discounts
      ,TO_NUMBER(NULL)                                  summarize_tax
      ,sumz.subtotal_amount                             summarize_total 
      ,TO_NUMBER(NULL)                                
FROM  xx_ar_cbi_trx sumz
WHERE request_id      =:p_thread_id
  AND cons_inv_id     =:cons_inv_id2
  AND attribute1      ='PAYDOC'  
  AND inv_type ='GRAND_TOTAL'  
ORDER BY insert_seq
]]>
</sqlStatement>
<sqlStatement name="Q_INFODOC_ONE_TOTALS">
<![CDATA[
SELECT * FROM (
SELECT sumz.insert_seq                                infoone_insert_seq
      ,'TOTAL FOR '||sumz.inv_source_name             infoone_summarize_text
      ,DECODE( sumz.order_header_id 
              ,1 
              ,TO_CHAR(sumz.order_header_id)||' ORDER' 
              ,TO_CHAR(sumz.order_header_id)||' ORDERS'
             )                                         infoone_total_orders      
      ,NVL(sumz.tax_code ,'N')                         infoone_pg_break
      ,sumz.subtotal_amount-NVL(XX_AR_EBL_COMMON_UTIL_PKG.get_softhdr_amount_fis(sumz.inv_type,sumz.inv_source_name,sumz.cons_inv_id,sumz.request_id,sumz.CUSTOMER_TRX_ID,'ONE'),0)  infoone_summarize_subtotal
      ,sumz.delivery_charges infoone_summarize_delivery
      ,sumz.promo_and_disc   infoone_summarize_discounts
      ,sumz.tax_amount       infoone_summarize_tax
      ,( sumz.subtotal_amount +
         sumz.delivery_charges + 
         sumz.promo_and_disc +
         sumz.tax_amount
       )                    infoone_summarize_total ,
       XX_AR_EBL_COMMON_UTIL_PKG.get_softhdr_amount_fis(sumz.inv_type,sumz.inv_source_name,sumz.cons_inv_id,sumz.request_id,sumz.CUSTOMER_TRX_ID,'ONE') infoone_summarize_fee
FROM  xx_ar_cbi_trx sumz
WHERE request_id      =:p_thread_id
  AND cons_inv_id     =:info_cbi_id77
  AND attribute1      !='PAYDOC'  
  AND inv_type ='SOFTHDR_TOTALS'
UNION ALL
SELECT sumz.insert_seq
      ,'TOTAL FOR '||sumz.inv_source_name 
      ,DECODE( sumz.order_header_id 
              ,1 
              ,TO_CHAR(sumz.order_header_id)||' ORDER' 
              ,TO_CHAR(sumz.order_header_id)||' ORDERS'
             )             
      ,NVL(sumz.tax_code ,'N')  
      ,sumz.subtotal_amount-NVL(XX_AR_EBL_COMMON_UTIL_PKG.get_softhdr_amount_fis(sumz.inv_type,sumz.inv_source_name,sumz.cons_inv_id,sumz.request_id,sumz.CUSTOMER_TRX_ID,'ONE'),0)
      ,sumz.delivery_charges
      ,sumz.promo_and_disc 
      ,sumz.tax_amount 
      ,( sumz.subtotal_amount +
         sumz.delivery_charges + 
         sumz.promo_and_disc +
         sumz.tax_amount
       )       ,
       XX_AR_EBL_COMMON_UTIL_PKG.get_softhdr_amount_fis(sumz.inv_type,sumz.inv_source_name,sumz.cons_inv_id,sumz.request_id,sumz.CUSTOMER_TRX_ID,'ONE') infoone_summarize_fee
FROM  xx_ar_cbi_trx sumz
WHERE request_id      =:p_thread_id
  AND cons_inv_id     =:info_cbi_id77
  AND attribute1      !='PAYDOC'  
  AND inv_type ='BILLTO_TOTALS'    
UNION ALL
SELECT sumz.insert_seq 
      ,'GRAND TOTAL:'  
      ,DECODE( sumz.order_header_id 
              ,1 
              ,TO_CHAR(sumz.order_header_id)||' ORDER' 
              ,TO_CHAR(sumz.order_header_id)||' ORDERS'
             )               
      ,NVL(sumz.tax_code ,'N')  
      ,TO_NUMBER(NULL) 
      ,TO_NUMBER(NULL) 
      ,TO_NUMBER(NULL) 
      ,TO_NUMBER(NULL) 
      ,sumz.subtotal_amount 
      ,TO_NUMBER(NULL) 
FROM  xx_ar_cbi_trx sumz
WHERE request_id      =:p_thread_id
  AND cons_inv_id     =:info_cbi_id77
  AND attribute1      !='PAYDOC'  
  AND inv_type ='GRAND_TOTAL'  
  )
ORDER BY infoone_insert_seq
]]>
</sqlStatement>
<sqlStatement name="Q_PAYDOC_DETAIL_TRX">
<![CDATA[
SELECT 
      xact.customer_trx_id trx_id 
     ,xact.inv_number      invoice_num
     ,xact.inv_type        type
     ,xact.inv_source_id   inv_source_id
     ,xact.inv_source_name inv_source
     ,TO_CHAR(xact.order_date ,'DD-MON-YY') order_date
     ,TO_CHAR(xact.ship_date ,'DD-MON-YY') ship_date 
     ,xact.sfhdr1 ,xact.sfhdr2 ,xact.sfhdr3 ,xact.sfhdr4 ,xact.sfhdr5
     ,xact.sfdata1 ,xact.sfdata2 ,xact.sfdata3 ,xact.sfdata4 ,xact.sfdata5
     ,'ORDERED BY:'                           sfhdr6
	 -- Added for the defect#19985 Including new elements Ship To and Ordered by 6-DEC-2012
      ,TRIM(xohaa.cust_contact_name)                    sfdata6
      ,'SHIP TO:'                                 sfhdr7
	,trim(xohaa.ship_to_address1||DECODE(trim(xohaa.ship_to_address2),'','',', '||trim(xohaa.ship_to_address2))||DECODE(trim(xohaa.ship_to_city),'','',', '||
  trim(xohaa.ship_to_city))||DECODE(trim(xohaa.ship_to_state),'','',', '||trim(xohaa.ship_to_state))||DECODE(trim(xohaa.ship_to_zip),'','',' '||trim((CASE WHEN ((LENGTH(xohaa.ship_to_zip) > 5) and xohaa.ship_to_country IN('US','USA'))
                        THEN (SUBSTR(xohaa.ship_to_zip,1,5)||'-'||SUBSTR(xohaa.ship_to_zip,6))
                        ELSE (xohaa.ship_to_zip)
                        END)))	
              ) sfdata7
     ,DECODE(xact.inv_type,'CM',DECODE((SELECT '1' 
                                            FROM xx_om_line_attributes_all a,
                                                 oe_order_lines_all b
                                           WHERE a.line_id = b.line_id
                                             AND b.header_id = xact.order_header_id
                                             AND a.return_act_cat_code IN (SELECT  source_value1
                                                                            FROM  xx_fin_translatevalues xftv
                                                                                 ,xx_fin_translatedefinition xftd
                                                                           WHERE xftv.translate_id = xftd.translate_id
                                                                             AND xftd.translation_name = 'XX_AR_REBATE_CODE'
                                                                             AND SYSDATE BETWEEN xftv.start_date_active AND NVL (xftv.end_date_active, SYSDATE + 1)
                                                                             AND SYSDATE BETWEEN xftd.start_date_active AND NVL (xftd.end_date_active, SYSDATE + 1)
                                                                             AND xftv.enabled_flag = 'Y'
                                                                             AND xftd.enabled_flag = 'Y')
                                             AND ROWNUM < 2),'1',xohaa.COMMENTS,NULL),NULL)  REBATE_INFO
FROM  xx_ar_cbi_trx xact,
xx_om_header_attributes_all xohaa   -- Added for the defect#19985 Including new elements Ship To and Ordered by 6-DEC-2012
WHERE xact.request_id  =:p_thread_id
  AND xact.cons_inv_id =:cons_inv_id
  AND xact.attribute1  ='PAYDOC'  
  AND xact.inv_type NOT IN ('SOFTHDR_TOTALS' ,'BILLTO_TOTALS' ,'GRAND_TOTAL')  
  AND xact.order_header_id=xohaa.header_id
ORDER BY xact.insert_seq
]]>
</sqlStatement>
<sqlStatement name="Q_PAYDOC_DETAIL_TRX_LINES">
<![CDATA[
SELECT * FROM (
SELECT 
      item_code
     ,customer_product_code cust_prod_code
     ,item_description
     ,manuf_code
     ,qty
     ,uom
     ,unit_price
     ,extended_price
     ,line_comments                            -- Added for R1.2 Defect 1744 (CR 743)
     ,NVL2(ltrim(rtrim(cost_center_dept||cust_dept_description)),NVL((SELECT c_ext_attr1 FROM XX_CDH_CUST_ACCT_EXT_B 
           WHERE attr_group_id=(SELECT attr_group_id
           FROM   ego_attr_groups_v 
           WHERE  attr_group_type = 'XX_CDH_CUST_ACCOUNT' 
           AND attr_group_name = 'REPORTING_SOFTH') AND n_ext_attr2 = :cust_doc_id),'Department')||' : '||rtrim(ltrim(cost_center_dept))||nvl2(rtrim(ltrim(cust_dept_description)),' - '||rtrim(ltrim(cust_dept_description)),null),null) DEPT_DESCRIPTION  -- Modified as per Defect 37510
	 ,kit_sku  KIT_ITEM_DESCRIPTION -- Added for Kitting, Defect# 37670	   
			,fee_type Fee_code
            ,fee_line_seq
            ,customer_trx_id
FROM  xx_ar_cbi_trx_lines a
WHERE request_id      =:p_thread_id
  AND cons_inv_id     =:cons_inv_id
  AND customer_trx_id =:trx_id
  AND (item_code IS NULL OR item_code NOT IN ('SPC_CARD_INFO' ,'TD','ACM','GIFT_CARD_INV','GIFT_CARD_CM'))--Added 'GIFT_CARD_CM' and 'GIFT_CARD_INV' for Defect# 1451 CR(626)
)
ORDER BY customer_trx_id,fee_line_seq
]]>
</sqlStatement>
<sqlStatement name="Q_INFODOC_DETAIL_TRX_LINES">
<![CDATA[
SELECT 
      item_code infodtl_item_code
     ,customer_product_code infodtl_cust_prod_code
     ,item_description infodtl_item_description
     ,manuf_code infodtl_manuf_code
     ,qty infodtl_qty
     ,uom infodtl_uom
     ,unit_price infodtl_unit_price
     ,extended_price infodtl_extended_price
     ,line_comments infodtl_line_comments                            -- Added for R1.2 Defect 1744 (CR 743)
     ,NVL2(ltrim(rtrim(cost_center_dept||cust_dept_description)),NVL((SELECT c_ext_attr1 FROM XX_CDH_CUST_ACCT_EXT_B 
           WHERE attr_group_id=(SELECT attr_group_id
           FROM   ego_attr_groups_v 
           WHERE  attr_group_type = 'XX_CDH_CUST_ACCOUNT' 
           AND attr_group_name = 'REPORTING_SOFTH') AND n_ext_attr2 = :cust_doc_id),'Department')||' : '||rtrim(ltrim(cost_center_dept))||nvl2(rtrim(ltrim(cust_dept_description)),' - '||rtrim(ltrim(cust_dept_description)),null),null) DEPT_DESCRIPTION -- Modified as per Defect 37510
	 ,kit_sku  KIT_ITEM_DESCRIPTION -- Added for Kitting, Defect# 37670	
     ,fee_type	  Fee_code
     ,fee_line_seq
FROM  xx_ar_cbi_trx_lines
WHERE request_id      =:p_thread_id
  AND cons_inv_id     =:info_cbi_id99
  AND customer_trx_id =:infodtl_trx_id
  AND (item_code IS NULL OR item_code NOT IN ('SPC_CARD_INFO' ,'TD','ACM','GIFT_CARD_INV','GIFT_CARD_CM'))--Added 'GIFT_CARD_CM' and 'GIFT_CARD_INV' for Defect# 1451 CR(626)
ORDER BY customer_trx_id,fee_line_seq  
]]>
</sqlStatement>
<sqlStatement name="Q_PAYDOC_TRX_MINISTMNT">
<![CDATA[
SELECT inv_number order_number_dup
      ,nvl(subtotal_amount ,0) subtotal
      ,nvl(promo_and_disc ,0)      promo_and_disc  --Added column alias for Defect 13406
      ,nvl(tax_amount ,0) sales_tax
      ,TO_NUMBER(NULL)    ca_prov_tax
      ,TO_NUMBER(NULL)    ca_state_tax    
      ,(nvl(subtotal_amount ,0) + nvl(promo_and_disc ,0) + nvl(tax_amount ,0)) total
	  ,NVL(XX_AR_EBL_COMMON_UTIL_PKG.get_line_fee_amount(:trx_id),0) TOTAL_LINE_FEE
	  ,NVL(XX_AR_EBL_COMMON_UTIL_PKG.get_hea_fee_amount(:trx_id),0) TOTAL_HEADER_FEE
	  ,NVL(XX_AR_EBL_COMMON_UTIL_PKG.get_line_fee_amount(:trx_id),0) + NVL(XX_AR_EBL_COMMON_UTIL_PKG.get_hea_fee_amount(:trx_id),0) TOTAL_FEE
FROM   xx_ar_cbi_trx
WHERE request_id      =:p_thread_id
  AND cons_inv_id     =:cons_inv_id
  AND customer_trx_id =:trx_id  
  AND attribute1  ='PAYDOC'
  AND xx_fin_country_defaults_pkg.f_org_id('US') =FND_PROFILE.VALUE('ORG_ID')    
  AND inv_type NOT IN ('SOFTHDR_TOTALS' ,'BILLTO_TOTALS' ,'GRAND_TOTAL') 
UNION 
SELECT inv_number                    order_number_dup
      ,nvl(subtotal_amount ,0)       subtotal
      ,nvl(promo_and_disc ,0)      promo_and_disc   --Added column alias for Defect 13406
      ,TO_NUMBER(NULL)               sales_tax
      ,nvl(cad_county_tax_amount ,0) ca_prov_tax
      ,nvl(cad_state_tax_amount ,0)  ca_state_tax    
      ,(nvl(subtotal_amount ,0) + nvl(promo_and_disc ,0) + 
        nvl(cad_county_tax_amount ,0) + nvl(cad_state_tax_amount ,0)) total
	  ,NVL(XX_AR_EBL_COMMON_UTIL_PKG.get_line_fee_amount(:trx_id),0) TOTAL_LINE_FEE
	  ,NVL(XX_AR_EBL_COMMON_UTIL_PKG.get_hea_fee_amount(:trx_id),0) TOTAL_HEADER_FEE
	  ,NVL(XX_AR_EBL_COMMON_UTIL_PKG.get_line_fee_amount(:trx_id),0) + NVL(XX_AR_EBL_COMMON_UTIL_PKG.get_hea_fee_amount(:trx_id),0) TOTAL_FEE
FROM   xx_ar_cbi_trx
WHERE request_id      =:p_thread_id
  AND cons_inv_id     =:cons_inv_id
  AND customer_trx_id =:trx_id  
  AND attribute1  ='PAYDOC'
  AND xx_fin_country_defaults_pkg.f_org_id('CA') =FND_PROFILE.VALUE('ORG_ID')    
  AND inv_type NOT IN ('SOFTHDR_TOTALS' ,'BILLTO_TOTALS' ,'GRAND_TOTAL')  
]]>
</sqlStatement>
<sqlStatement name="Q_INFODOC_TRX_MINISTMNT">
<![CDATA[
SELECT inv_number              infodtl_order_number_dup
      ,nvl(subtotal_amount ,0) infodtl_subtotal
      ,nvl(promo_and_disc ,0)  infodtl_promo_and_disc
      ,nvl(tax_amount ,0)      infodtl_sales_tax
      ,TO_NUMBER(NULL)         infodtl_ca_prov_tax
      ,TO_NUMBER(NULL)         infodtl_ca_state_tax      
      ,(nvl(subtotal_amount ,0) + nvl(promo_and_disc ,0) + nvl(tax_amount ,0)) infodtl_total
      ,NVL(XX_AR_EBL_COMMON_UTIL_PKG.get_line_fee_amount(:infodtl_trx_id),0) TOTAL_LINE_FEE
	  ,NVL(XX_AR_EBL_COMMON_UTIL_PKG.get_hea_fee_amount(:infodtl_trx_id),0) TOTAL_HEADER_FEE
	  ,NVL(XX_AR_EBL_COMMON_UTIL_PKG.get_line_fee_amount(:infodtl_trx_id),0) + NVL(XX_AR_EBL_COMMON_UTIL_PKG.get_hea_fee_amount(:infodtl_trx_id),0) TOTAL_FEE
FROM   xx_ar_cbi_trx
WHERE 1 =1
  AND request_id      =:p_thread_id
  AND cons_inv_id     =:info_cbi_id99
  AND customer_trx_id =:infodtl_trx_id 
  AND attribute1  !='PAYDOC'  
  AND xx_fin_country_defaults_pkg.f_org_id('US') =FND_PROFILE.VALUE('ORG_ID')   
  AND inv_type NOT IN ('SOFTHDR_TOTALS' ,'BILLTO_TOTALS' ,'GRAND_TOTAL')
UNION
SELECT inv_number                    infodtl_order_number_dup
      ,nvl(subtotal_amount ,0)       infodtl_subtotal
      ,nvl(promo_and_disc ,0)        infodtl_promo_and_disc
      ,TO_NUMBER(NULL)               infodtl_sales_tax
      ,nvl(cad_county_tax_amount ,0) infodtl_ca_prov_tax
      ,nvl(cad_state_tax_amount ,0)  infodtl_ca_state_tax
      ,(nvl(subtotal_amount ,0) + nvl(promo_and_disc ,0) + 
        nvl(cad_county_tax_amount ,0) + nvl(cad_state_tax_amount ,0)) infodtl_total
    ,NVL(XX_AR_EBL_COMMON_UTIL_PKG.get_line_fee_amount(:infodtl_trx_id),0) TOTAL_LINE_FEE
	  ,NVL(XX_AR_EBL_COMMON_UTIL_PKG.get_hea_fee_amount(:infodtl_trx_id),0) TOTAL_HEADER_FEE
	  ,NVL(XX_AR_EBL_COMMON_UTIL_PKG.get_line_fee_amount(:infodtl_trx_id),0) + NVL(XX_AR_EBL_COMMON_UTIL_PKG.get_hea_fee_amount(:infodtl_trx_id),0) TOTAL_FEE
FROM   xx_ar_cbi_trx
WHERE 1 =1
  AND request_id      =:p_thread_id
  AND cons_inv_id     =:info_cbi_id99
  AND customer_trx_id =:infodtl_trx_id 
  AND attribute1  !='PAYDOC'  
  AND xx_fin_country_defaults_pkg.f_org_id('CA') =FND_PROFILE.VALUE('ORG_ID')   
  AND inv_type NOT IN ('SOFTHDR_TOTALS' ,'BILLTO_TOTALS' ,'GRAND_TOTAL')  
]]>
</sqlStatement>
<sqlStatement name="Q_TRX_SOFTHEADERS">
<![CDATA[
SELECT line_type
      ,line_seq
      ,sf_text
      ,sf_amount
      ,NVL(page_break ,'N') page_break
FROM   xx_ar_cbi_trx_totals
WHERE request_id      =:p_thread_id
  AND cons_inv_id     =:cons_inv_id
  AND customer_trx_id =:trx_id
ORDER BY line_seq  
]]>
</sqlStatement>
<sqlStatement name="Q_INFODOC_TRX_SOFTHEADERS">
<![CDATA[
SELECT line_type infodtl_line_type
      ,line_seq  infodtl_line_seq
      ,sf_text   infodtl_sf_text
      ,sf_amount infodtl_sf_amount
      ,NVL(page_break ,'N') infodtl_page_break
FROM   xx_ar_cbi_trx_totals
WHERE request_id      =:p_thread_id
  AND cons_inv_id     =:info_cbi_id99
  AND customer_trx_id =:infodtl_trx_id
ORDER BY line_seq  
]]>
</sqlStatement>
<sqlStatement name="Q_TRX_SPC_INFO">
<![CDATA[
SELECT item_description spc_card_details
FROM   xx_ar_cbi_trx_lines a
WHERE a.request_id      =:p_thread_id
  AND a.cons_inv_id     =:cons_inv_id
  AND a.customer_trx_id =:trx_id
  AND a.item_code       ='SPC_CARD_INFO'
]]>
</sqlStatement>
<sqlStatement name="Q_INFODOC_TRX_SPC_INFO">
<![CDATA[
SELECT item_description infodoc_spc_card_details
FROM   xx_ar_cbi_trx_lines a
WHERE a.request_id      =:p_thread_id
  AND a.cons_inv_id     =:info_cbi_id99
  AND a.customer_trx_id =:infodtl_trx_id
  AND a.item_code       ='SPC_CARD_INFO'
]]>
</sqlStatement>
<sqlStatement name="Q_INFOSUMZ_TRX_SPC_INFO">
<![CDATA[
SELECT item_description infosumz_spc_card_details
FROM   xx_ar_cbi_trx_lines a
WHERE a.request_id      =:p_thread_id
  AND a.cons_inv_id     =:info_cbi_id99
  AND a.customer_trx_id =:infosumz_trx_id1
  AND a.item_code       ='SPC_CARD_INFO'
]]>
</sqlStatement>
<sqlStatement name="Q_TRX_TIERED_DISC">
<![CDATA[
SELECT extended_price tiered_discount 
FROM   xx_ar_cbi_trx_lines
WHERE request_id      =:p_thread_id
  AND cons_inv_id     =:cons_inv_id
  AND customer_trx_id =:trx_id
  AND item_code       ='TD'
]]>
</sqlStatement>
<sqlStatement name="Q_INFODOC_TRX_TIERED_DISC">
<![CDATA[
SELECT extended_price infodoc_tiered_discount 
FROM   xx_ar_cbi_trx_lines
WHERE request_id      =:p_thread_id
  AND cons_inv_id     =:info_cbi_id99
  AND customer_trx_id =:infodtl_trx_id
  AND item_code       ='TD'
]]>
</sqlStatement>
<sqlStatement name="Q_INFOSUMZ_TRX_TIERED_DISC">
<![CDATA[
SELECT extended_price infosumz_tiered_discount 
FROM   xx_ar_cbi_trx_lines
WHERE request_id      =:p_thread_id
  AND cons_inv_id     =:info_cbi_id99
  AND customer_trx_id =:infosumz_trx_id1
  AND item_code       ='TD'
]]>
</sqlStatement>
<sqlStatement name="Q_TRX_ACM">
<![CDATA[
-- SELECT :P_CM_TEXT1||' '||TRIM(TO_CHAR(extended_price ,'$9G999G999D99PR'))||' '||:P_CM_TEXT2||' '||customer_product_code||'.' acm_text -- Commented for R1.2 CR 621 (1143)
SELECT :P_CM_TEXT1||' '||TRIM(TO_CHAR(extended_price ,'$9G999G999D99'))||' '||:P_CM_TEXT2||' '||customer_product_code||'.' acm_text    -- Added for R1.2 CR 621 (1143)
FROM   xx_ar_cbi_trx_lines
WHERE request_id      =:p_thread_id
  AND cons_inv_id     =:cons_inv_id
  AND customer_trx_id =:trx_id
  AND item_code       ='ACM'
]]>
</sqlStatement>
<!--Added the below group for R1.1 Defect # 1451 (CR 626)-->
<sqlStatement name="Q_TRX_GIFT_CARD">
<![CDATA[
-- SELECT :P_GIFT_CARD_TEXT1||extended_price||:P_GIFT_CARD_TEXT2 GIFT_CARD_TEXT   -- Commented for R1.2 CR 621 (1143)
SELECT :P_GIFT_CARD_TEXT1||TRIM(TO_CHAR(extended_price*-1,'9G999G999D99'))||:P_GIFT_CARD_TEXT2 GIFT_CARD_TEXT      -- Added for R1.2 CR 621 (1143)
FROM   xx_ar_cbi_trx_lines
WHERE request_id      =:p_thread_id
  AND cons_inv_id     =:cons_inv_id
  AND customer_trx_id =:trx_id
  AND item_code       ='GIFT_CARD_INV'
  UNION ALL
--  SELECT :P_GIFT_CARD_TEXT3||' '||TRIM(TO_CHAR(extended_price ,'9G999G999D99PR')) GIFT_CARD_TEXT  -- Commented for R1.2 CR 621 (1143)
  SELECT :P_GIFT_CARD_TEXT3||' '||TRIM(TO_CHAR(extended_price ,'9G999G999D99')) GIFT_CARD_TEXT    -- Added for R1.2 CR 621 (1143)
FROM   xx_ar_cbi_trx_lines
WHERE request_id      =:p_thread_id
  AND cons_inv_id     =:cons_inv_id
  AND customer_trx_id =:trx_id
  AND item_code       ='GIFT_CARD_CM'
]]>
</sqlStatement>
<sqlStatement name="Q_INFODOC_TRX_ACM">
<![CDATA[
-- SELECT :P_CM_TEXT1||' '||TRIM(TO_CHAR(extended_price ,'$9G999G999D99PR'))||' '||:P_CM_TEXT2||' '||customer_product_code||'.' infodoc_acm_text --Commented for R1.2 CR 621
SELECT :P_CM_TEXT1||' '||TRIM(TO_CHAR(extended_price ,'$9G999G999D99'))||' '||:P_CM_TEXT2||' '||customer_product_code||'.' infodoc_acm_text -- Added for R1.2 CR 621
FROM   xx_ar_cbi_trx_lines
WHERE request_id      =:p_thread_id
  AND cons_inv_id     =:info_cbi_id99
  AND customer_trx_id =:infodtl_trx_id
  AND item_code       ='ACM'
]]>
</sqlStatement>
<!--Added the below group for R1.1 Defect # 1451 (CR 626)-->
<sqlStatement name="Q_INFODOC_TRX_GIFT_CARD">
<![CDATA[
-- SELECT :P_GIFT_CARD_TEXT1||extended_price||:P_GIFT_CARD_TEXT2 INFODOC_GIFT_CARD_TEXT  -- Commented for R1.2 CR 621 (1143)
SELECT :P_GIFT_CARD_TEXT1||TRIM(TO_CHAR(extended_price*-1,'9G999G999D99'))||:P_GIFT_CARD_TEXT2 INFODOC_GIFT_CARD_TEXT   -- Added for R1.2 CR 621 (1143)
FROM   xx_ar_cbi_trx_lines
WHERE request_id      =:p_thread_id
  AND cons_inv_id     =:info_cbi_id99
  AND customer_trx_id =:infodtl_trx_id
  AND item_code       ='GIFT_CARD_INV'
  UNION ALL
-- SELECT :P_GIFT_CARD_TEXT3||' '||TRIM(TO_CHAR(extended_price ,'9G999G999D99PR'))  INFODOC_GIFT_CARD_TEXT   -- Commented for R1.2 CR 621 (1143)
SELECT :P_GIFT_CARD_TEXT3||' '||TRIM(TO_CHAR(extended_price ,'9G999G999D99'))  INFODOC_GIFT_CARD_TEXT    -- Added for R1.2 CR 621 (1143)
FROM   xx_ar_cbi_trx_lines
WHERE request_id      =:p_thread_id
  AND cons_inv_id     =:info_cbi_id99
  AND customer_trx_id =:infodtl_trx_id
  AND item_code       ='GIFT_CARD_CM'
]]>
</sqlStatement>
<sqlStatement name="Q_INFOSUMZ_TRX_ACM">
<![CDATA[
-- SELECT :P_CM_TEXT1||' '||TRIM(TO_CHAR(extended_price ,'$9G999G999D99PR'))||' '||:P_CM_TEXT2||' '||customer_product_code||'.' infosumz_acm_text --Commented for CR 621
SELECT :P_CM_TEXT1||' '||TRIM(TO_CHAR(extended_price ,'$9G999G999D99'))||' '||:P_CM_TEXT2||' '||customer_product_code||'.' infosumz_acm_text --Added for CR 621
FROM   xx_ar_cbi_trx_lines
WHERE request_id      =:p_thread_id
  AND cons_inv_id     =:info_cbi_id99
  AND customer_trx_id =:infosumz_trx_id1
  AND item_code       ='ACM'
]]>
</sqlStatement>
<!--Added the below group for R1.1 Defect # 1451 (CR 626)-->
<sqlStatement name="Q_INFOSUMZ_TRX_GIFT_CARD">
<![CDATA[
-- SELECT :P_GIFT_CARD_TEXT1||extended_price||:P_GIFT_CARD_TEXT2  INFOSUMZ_GIFT_CARD_TEXT  -- Commented for R1.2 CR 621 (1143)
SELECT :P_GIFT_CARD_TEXT1||TRIM(TO_CHAR(extended_price*-1,'9G999G999D99'))||:P_GIFT_CARD_TEXT2  INFOSUMZ_GIFT_CARD_TEXT     -- Added for R1.2 CR 621 (1143)
FROM   xx_ar_cbi_trx_lines
WHERE request_id      =:p_thread_id
  AND cons_inv_id     =:info_cbi_id99
  AND customer_trx_id =:infosumz_trx_id1
  AND item_code       ='GIFT_CARD_INV'
UNION ALL
-- SELECT :P_GIFT_CARD_TEXT3||' '||TRIM(TO_CHAR(extended_price ,'9G999G999D99PR'))  INFOSUMZ_GIFT_CARD_TEXT  -- Commented for R1.2 CR 621 (1143)
SELECT :P_GIFT_CARD_TEXT3||' '||TRIM(TO_CHAR(extended_price ,'9G999G999D99'))  INFOSUMZ_GIFT_CARD_TEXT       -- Added for R1.2 CR 621 (1143)
FROM   xx_ar_cbi_trx_lines
WHERE request_id      =:p_thread_id
  AND cons_inv_id     =:info_cbi_id99
  AND customer_trx_id =:infosumz_trx_id1
  AND item_code       ='GIFT_CARD_CM'
]]>
</sqlStatement>
<sqlStatement name="Q_SOX_CONTROL">
<![CDATA[
SELECT TO_CHAR(NVL(COUNT(DISTINCT customer_number) ,0) ,'fm0999999') TOTAL_CUSTOMERS
      ,TO_CHAR(NVL(COUNT(cbi_number) ,0) ,'fm09999999') TOTAL_INVOICES
      ,TO_CHAR(NVL(SUM(cbi_amount) ,0) ,'fm099999990.90') TOTAL_AMOUNT
FROM   XX_AR_CBI_TOTALS_V
WHERE request_id =:p_thread_id
]]>
</sqlStatement>
<sqlStatement name="Q_INFODOC_LAYOUT">
<![CDATA[
SELECT distinct document_id   doc_id99  --Added distinct for defect 27821
      ,document_id   doc_id88
      ,document_id   doc_id77
      ,UPPER(layout) layout99      
      ,sort_by       sort_by99
      ,attribute2    total_by99
      ,attribute3    page_break99
      ,cons_inv_id   info_cbi_id99
      ,cons_inv_id   info_cbi_id88
      ,cons_inv_id   info_cbi_id77      
FROM   xx_ar_cons_bills_history
WHERE  1 =1
  AND  print_date   <= fnd_conc_date.string_to_date(:p_as_of_date)
  AND  paydoc       !='Y'  
  AND  process_flag !='Y'
  AND  customer_id  =:info_customer_id
  AND  attribute7   =:info_billing_site_id
  AND  thread_id   =:p_thread_id
  AND  cust_doc_id =:cust_doc_id --Added for defect 30156 and 30173    -- Replaced ampersand with and in the before comment for defect 33969
ORDER BY cons_inv_id  
]]>
</sqlStatement>
<sqlStatement name="Q_INFODOC_CBI_DETAIL">
<![CDATA[
SELECT info_det.*,NVL((NVL(cbi_extamt_incl_delvy99,0)-cbi_fee_amt99),0)cbi_extamt_incl_delvy_n99 FROM (
SELECT  od_infocopies.cons_inv_id           cons_inv_id99
       ,od_infocopies.billing_number        billing_number99
       ,od_infocopies.currency              currency99
       ,od_infocopies.terms                 terms99       
       ,TO_CHAR( NVL(
                       xx_ar_print_summbill.get_bill_from_date(od_infocopies.cust_id
                                                                  ,od_infocopies.site_id
                          --,od_infocopies.cons_inv_id   --Commented for Defect 13403
                            ,od_infocopies.cons_inv_id1   --Added for Defect 13403
                                                                  ,sysdate --- dummy date 11993
                                                                  ,od_infocopies.infocopy_tag
                                                                  ,od_infocopies.cust_doc_id   --Added for Defect# 11993.
                                                                  )
                      ,fnd_conc_date.string_to_date(:p_as_of_date)
                    ) 
                ,'DD-MON-YY'
               )                                            bill_from_date99
        --,TO_CHAR(TRUNC(SYSDATE) ,'DD-MON-YY')               bill_to_date99   
        ,TO_CHAR(fnd_conc_date.string_to_date(:p_as_of_date) ,'DD-MON-YY')               bill_to_date99 --defect 9044
       ,TO_DATE(NULL)                                       payment_due99
       ,xx_ar_cbi_infocopy_ministmnt       
        ( od_infocopies.cons_inv_id
         ,od_infocopies.req_id 
         ,:doc_id99
         ,'EXTAMT_PLUS_DELVY'
        )     cbi_extamt_incl_delvy99
       ,xx_ar_cbi_infocopy_ministmnt        
        ( od_infocopies.cons_inv_id
         ,od_infocopies.req_id 
         ,:doc_id99
         ,'DISCOUNT'
        )              cbi_promo_and_disc99        
       ,xx_ar_cbi_infocopy_ministmnt        
        ( od_infocopies.cons_inv_id
         ,od_infocopies.req_id
         ,:doc_id99
          ,'TAX'
        )                   cbi_tax99
      ,NVL(( SELECT SUM(XX_AR_EBL_COMMON_UTIL_PKG.get_line_fee_amount(aci.customer_trx_id) +
                       XX_AR_EBL_COMMON_UTIL_PKG.get_hea_fee_amount(aci.customer_trx_id))
              FROM ar_cons_inv_trx aci
             WHERE cons_inv_id = od_infocopies.cons_inv_id),0)            cbi_fee_amt99
       ,xx_ar_cbi_infocopy_ministmnt        
        ( od_infocopies.cons_inv_id
         ,od_infocopies.req_id
         ,:doc_id99
          ,'TOTAL'
        )                                                   cbi_amount_due99        
      -- ,od_infocopies.cbi_amount_due                      cbi_amount_due99 
       ,TO_CHAR(NULL)                                       scanline99 
       ,od_infocopies.pd_layout                             pd_layout99
       ,'INFORMATIONAL COPY'                                doc_title99   
       ,(SELECT TARGET_VALUE1 
			FROM xx_cdh_cust_acct_ext_b b,
           XX_FIN_TRANSLATEDEFINITION xxft, 
           XX_FIN_TRANSLATEVALUES xxfv 
		   WHERE b.cust_account_id = od_infocopies.cust_id
			 AND b.ATTR_GROUP_ID = 166
             AND xxfv.SOURCE_VALUE1 = b.fee_option
             AND xxft.translate_id = xxfv.translate_id 
             AND xxft.TRANSLATION_NAME = 'OD_IREC_BILL_DOC_DEFAULTS'
			 AND b.N_EXT_ATTR1 = od_infocopies.doc_id
			 AND b.N_EXT_ATTR2 = od_infocopies.CUST_DOC_ID 
			 AND rownum =1	 
			 )	Fee_option
 FROM  (
       SELECT customer_id cust_id
             ,to_number(attribute7) site_id
             ,cons_inv_id 
             ,attribute6  billing_number
             ,attribute15 currency
             ,attribute4  terms
             ,attribute8  infocopy_tag
             ,thread_id req_id
             ,attribute14 cbi_amount_due
             ,layout      pd_layout
             ,document_id doc_id
             ,cust_doc_id   -- Added for Defect# 11993.
             ,to_number(attribute16) cons_inv_id1 --Added for Defect  13403
       FROM   xx_ar_cons_bills_history a
       WHERE  a.customer_id =:info_customer_id
         AND  a.document_id =:doc_id99
         AND  a.attribute8 ='INV_IC'
         AND  a.thread_id =:p_thread_id
         AND  a.print_date  <= fnd_conc_date.string_to_date(:p_as_of_date)
         AND  a.paydoc      !='Y'   
         AND  NVL(a.process_flag, 'N') !='Y'
         AND  a.layout ='DETAIL'
       GROUP BY customer_id
             ,to_number(attribute7)
             ,cons_inv_id
             ,attribute6
             ,attribute15
             ,attribute4
             ,attribute8
             ,thread_id 
             ,attribute14
             ,layout
             ,document_id 
             ,cust_doc_id   -- Added for Defect# 11993
             ,TO_NUMBER(attribute16)   -- --Added for Defect  13403
      ) od_infocopies
 WHERE 1 =1 
   AND od_infocopies.cust_id    =:info_customer_id
   AND od_infocopies.site_id    =:info_billing_site_id
   AND od_infocopies.doc_id     =:doc_id99
   AND od_infocopies.cons_inv_id =:info_cbi_id99
UNION ALL
 SELECT arci.cons_inv_id                            
       ,arci.cons_billing_number                    
       ,arci.currency_code                          
       ,SUBSTR(terms.description ,1 ,15)                
    ,TO_CHAR( NVL(
                       xx_ar_print_summbill.get_bill_from_date(arci.customer_id
                                                                  ,arci.site_use_id 
                                                                  ,arci.cons_inv_id 
                                                                  --,arci.cut_off_date -- added for defect 11993 -- Commented for Defect# 15063.
                                                                  ,TO_DATE(arci.attribute1) -- Added for Defect# 15063. The logic of the attribute1 column is handled in the procedure XX_AR_PRINT_NEW_CON_PKG.MAIN
                                                                  ,'PAYDOC'
                                                                  ,od_summbills.cust_doc_id  -- Added for Defect# 11993.
                                                                  )
                      ,fnd_conc_date.string_to_date(:p_as_of_date)
                    ) 
                ,'DD-MON-YY'
               ) 
      -- ,TO_CHAR(TRUNC(arci.cut_off_date) ,'DD-MON-YY')   
       --,TO_CHAR(TRUNC(arci.cut_off_date)-1 ,'DD-MON-YY') -- Commented for Defect# 15063.
       ,TO_CHAR(TO_DATE(arci.attribute1)-1,'DD-MON-YY') -- Added for Defect# 15063. The logic of the attribute1 column is handled in the procedure XX_AR_PRINT_NEW_CON_PKG.MAIN
       ,TO_DATE(NULL)                             
-- the following function used to get totals instead of xx_ar_cbi_paydoc_ministmnt defect #10750
       ,xx_ar_print_summbill.get_paydoc_ic_totals(od_summbills.cons_inv_id
                    ,od_summbills.attribute13
                    ,od_summbills.document_id
                    ,'EXTAMT_PLUS_DELVY')  
       ,xx_ar_print_summbill.get_paydoc_ic_totals(od_summbills.cons_inv_id
                    ,od_summbills.attribute13
                    ,od_summbills.document_id
                    ,'DISCOUNT')  
       ,xx_ar_print_summbill.get_paydoc_ic_totals(od_summbills.cons_inv_id
                    ,od_summbills.attribute13
                    ,od_summbills.document_id
                    ,'TAX')  
      ,NVL(( SELECT SUM(XX_AR_EBL_COMMON_UTIL_PKG.get_line_fee_amount(aci.customer_trx_id) +
                       XX_AR_EBL_COMMON_UTIL_PKG.get_hea_fee_amount(aci.customer_trx_id))
              FROM ar_cons_inv_trx aci
             WHERE cons_inv_id = arci.cons_inv_id),0)            cbi_fee_amt99
       ,xx_ar_print_summbill.get_paydoc_ic_totals(od_summbills.cons_inv_id
                    ,od_summbills.attribute13
                    ,od_summbills.document_id
                    ,'TOTAL')  
       ,TO_CHAR(NULL) 
       ,layout
       ,'INFORMATIONAL COPY'  
       ,(SELECT TARGET_VALUE1 
			FROM xx_cdh_cust_acct_ext_b b,
           XX_FIN_TRANSLATEDEFINITION xxft, 
           XX_FIN_TRANSLATEVALUES xxfv 
		   WHERE b.cust_account_id = od_summbills.customer_id
			 AND b.ATTR_GROUP_ID = 166
             AND xxfv.SOURCE_VALUE1 = b.fee_option
             AND xxft.translate_id = xxfv.translate_id 
             AND xxft.TRANSLATION_NAME = 'OD_IREC_BILL_DOC_DEFAULTS'
			 AND b.N_EXT_ATTR1 = od_summbills.DOCUMENT_ID
			 AND b.N_EXT_ATTR2 = od_summbills.CUST_DOC_ID 
			 AND rownum =1	 
			 )	Fee_option	   
 FROM   xx_ar_cons_bills_history od_summbills
       ,ar_cons_inv              arci
       ,ra_terms                 terms
 WHERE 1 =1
   AND arci.cons_inv_id = od_summbills.attribute16    --Added for Defect# 13403.
   --AND arci.cons_inv_id =SUBSTR(od_summbills.cons_inv_id ,1 ,LENGTH(arci.cons_inv_id))-- Added for defect 12283
                                                                  -- Commented for Defect# 13403
   --AND arci.cons_inv_id =SUBSTR(od_summbills.cons_inv_id ,1 ,LENGTH(od_summbills.cons_inv_id)-1) --Defect 12283
   AND od_summbills.customer_id =:info_customer_id
   AND od_summbills.thread_id =:p_thread_id
   AND od_summbills.cons_inv_id =:info_cbi_id99
   AND od_summbills.attribute7  =:info_billing_site_id
   AND od_summbills.document_id =:doc_id99   
   AND od_summbills.attribute8  ='PAYDOC_IC'   
   AND terms.term_id            =arci.term_id  
   AND od_summbills.print_date  <= fnd_conc_date.string_to_date(:p_as_of_date)
   AND od_summbills.paydoc      !='Y'   
   AND NVL(od_summbills.process_flag, 'N') !='Y' 
   AND od_summbills.layout ='DETAIL')info_det
]]>
</sqlStatement>
-- Added for Tariff project NAIT - 129167
<sqlStatement name="Q_INFODOC_CONS_FEE">
       <![CDATA[	
SELECT 
      flv.lookup_code FEE_CODE99
     ,upper(flv.meaning)  FEE_DESCRIPTION99
     ,flv.attribute7
     ,TO_CHAR(sum(RCTL.unit_selling_price*
	 CASE WHEN aps.class = 'CM' THEN
	  quantity_credited
	 ELSE 
	  NVL(quantity_ordered,quantity_invoiced)
	  END
	  ),'9999999999.999')       FEE_AMT99  
FROM
     ra_customer_trx_lines_All RCTL
	 ,ar_cons_inv_trx              arci
     ,fnd_lookup_values flv
     ,ar_payment_schedules_all aps
WHERE 1=1
  AND flv.lookup_type = 'OD_FEES_ITEMS'
  AND flv.LANGUAGE='US'
  AND flv.attribute6= rctl.INVENTORY_ITEM_ID
  AND FLV.enabled_flag = 'Y'                                   
  AND SYSDATE BETWEEN NVL(FLV.start_date_active,SYSDATE) AND NVL(FLV.end_date_active,SYSDATE+1)  
  AND FLV.attribute7 NOT IN ('DELIVERY','MISCELLANEOUS')  
  AND RCTL.customer_trx_id         = arci.customer_trx_id
  AND RCTL.customer_trx_id = aps.customer_trx_id
  AND arci.cons_inv_id           = :BILLING_NUMBER99 
GROUP BY flv.lookup_code,flv.meaning,flv.attribute7
order by flv.attribute7 desc,flv.lookup_code
       ]]>
    </sqlStatement>	
<sqlStatement name="Q_INFODOC_CBI_SUMMARIZE">
<![CDATA[
SELECT info_sum.*,NVL((NVL(cbi_extamt_incl_delvy88,0)-cbi_fee_amt88),0) CBI_EXTAMT_INCL_DELVY_EX_FEE88 FROM(
SELECT  od_infocopies.cons_inv_id           cons_inv_id88
       ,od_infocopies.billing_number        billing_number88
       ,od_infocopies.currency              currency88
       ,od_infocopies.terms                 terms88       
       ,TO_CHAR( NVL(
                       xx_ar_print_summbill.get_bill_from_date(od_infocopies.cust_id
                                                                  ,od_infocopies.site_id
                           -- ,od_infocopies.cons_inv_id --Commented for Defect 13403
                              ,od_infocopies.cons_inv_id1 --Added for Defect 13403
                                                                  ,sysdate                     -- dummy date added for 11993
                                                                  ,od_infocopies.infocopy_tag
                                                                  ,od_infocopies.cust_Doc_id   --Added for Defect# 11993.
                                                                  )
                      ,fnd_conc_date.string_to_date(:p_as_of_date)
                    ) 
                ,'DD-MON-YY'
               )                                            bill_from_date88
       -- ,TO_CHAR(TRUNC(SYSDATE) ,'DD-MON-YY')               bill_to_date88   
        ,TO_CHAR(fnd_conc_date.string_to_date(:p_as_of_date),'DD-MON-YY')               bill_to_date88 
       ,TO_DATE(NULL)                                       payment_due88
       ,xx_ar_cbi_infocopy_ministmnt       
        ( od_infocopies.cons_inv_id
         ,od_infocopies.req_id 
         ,:doc_id88
         ,'EXTAMT_PLUS_DELVY'
        )     cbi_extamt_incl_delvy88
       ,xx_ar_cbi_infocopy_ministmnt        
        ( od_infocopies.cons_inv_id
         ,od_infocopies.req_id           
         ,:doc_id88
         ,'DISCOUNT'
        )              cbi_promo_and_disc88        
       ,xx_ar_cbi_infocopy_ministmnt        
        ( od_infocopies.cons_inv_id
         ,od_infocopies.req_id
         ,:doc_id88
          ,'TAX'
        )                   cbi_tax88
      ,NVL(( SELECT SUM(XX_AR_EBL_COMMON_UTIL_PKG.get_line_fee_amount(aci.customer_trx_id) +
                       XX_AR_EBL_COMMON_UTIL_PKG.get_hea_fee_amount(aci.customer_trx_id))
              FROM ar_cons_inv_trx aci
             WHERE cons_inv_id = od_infocopies.cons_inv_id),0)  cbi_fee_amt88
       ,xx_ar_cbi_infocopy_ministmnt        
        ( od_infocopies.cons_inv_id
         ,od_infocopies.req_id
         ,:doc_id99
          ,'TOTAL'
        )                                                   cbi_amount_due88        
       --,od_infocopies.cbi_amount_due                      cbi_amount_due88 
       ,TO_CHAR(NULL)                                       scanline88 
       ,od_infocopies.pd_layout                             pd_layout88
       ,'INFORMATIONAL COPY'                                doc_title88       
        ,(SELECT TARGET_VALUE1 
			FROM xx_cdh_cust_acct_ext_b b,
           XX_FIN_TRANSLATEDEFINITION xxft, 
           XX_FIN_TRANSLATEVALUES xxfv 
		   WHERE b.cust_account_id = od_infocopies.cust_id
			 AND b.ATTR_GROUP_ID = 166
             AND xxfv.SOURCE_VALUE1 = b.fee_option
             AND xxft.translate_id = xxfv.translate_id 
             AND xxft.TRANSLATION_NAME = 'OD_IREC_BILL_DOC_DEFAULTS'
			 AND b.N_EXT_ATTR1 = od_infocopies.doc_id
			 AND b.N_EXT_ATTR2 = od_infocopies.CUST_DOC_ID 
			 AND rownum =1	 
			 )	Fee_option
 FROM  (
       SELECT customer_id cust_id
             ,to_number(attribute7) site_id
             ,cons_inv_id 
             ,attribute6  billing_number
             ,attribute15 currency
             ,attribute4  terms
             ,attribute8  infocopy_tag
             ,thread_id req_id
             ,attribute14 cbi_amount_due
             ,layout      pd_layout
             ,document_id doc_id
             ,cust_doc_id  -- Added for Defect# 11993.
             ,to_number(attribute16) cons_inv_id1 --Added for Defect  13403
       FROM   xx_ar_cons_bills_history a
       WHERE  a.customer_id =:sumz_customer_id
         AND  a.document_id =:doc_id88
         AND  a.attribute8 ='INV_IC'
         AND  a.thread_id =:p_thread_id
         AND  a.print_date  <= fnd_conc_date.string_to_date(:p_as_of_date)
         AND  a.paydoc      !='Y'   
         AND  NVL(a.process_flag, 'N') !='Y'
         AND  a.layout ='SUMMARIZE'
       GROUP BY customer_id
             ,to_number(attribute7)
             ,cons_inv_id
             ,attribute6
             ,attribute15
             ,attribute4
             ,attribute8
             ,thread_id 
             ,attribute14
             ,layout
             ,document_id
             ,cust_doc_id  -- Added for Defect# 11993
             ,TO_NUMBER(attribute16)  --Added for Defect  13403
      ) od_infocopies
 WHERE 1 =1 
   AND od_infocopies.cust_id    =:sumz_customer_id
   AND od_infocopies.site_id    =:sumz_billing_site_id
   AND od_infocopies.doc_id     =:doc_id88
   AND od_infocopies.cons_inv_id =:info_cbi_id88
UNION ALL
 SELECT arci.cons_inv_id                            
       ,arci.cons_billing_number                    
       ,arci.currency_code                          
       ,SUBSTR(terms.description ,1 ,15)                
       ,TO_CHAR( NVL(
                       xx_ar_print_summbill.get_bill_from_date(arci.customer_id
                                                                  ,arci.site_use_id 
                                                                  ,arci.cons_inv_id 
                                                                  --,arci.cut_off_date -- added for defect 11993 -- Commented for Defect# 15063.
                                                                  ,TO_DATE(arci.attribute1) -- Added for Defect# 15063. The logic of the attribute1 column is handled in the procedure XX_AR_PRINT_NEW_CON_PKG.MAIN
                                                                  ,'PAYDOC'
                                                                  ,od_summbills.cust_doc_id  --Added for Defect# 11993.
                                                                  )
                      ,fnd_conc_date.string_to_date(:p_as_of_date)
                    ) 
                ,'DD-MON-YY'
               ) 
       --,TO_CHAR(TRUNC(arci.cut_off_date) ,'DD-MON-YY') 
       --,TO_CHAR(TRUNC(arci.cut_off_date)-1 ,'DD-MON-YY') -- Commented for Defect# 15063.
       ,TO_CHAR(TO_DATE(arci.attribute1)-1,'DD-MON-YY') -- Added for Defect# 15063. The logic of the attribute1 column is handled in the procedure XX_AR_PRINT_NEW_CON_PKG.MAIN
       ,TO_DATE(NULL)                             
-- the following function used to get totals instead of xx_ar_cbi_paydoc_ministmnt defect #10750
       ,xx_ar_print_summbill.get_paydoc_ic_totals(od_summbills.cons_inv_id
                    ,od_summbills.attribute13
                    ,od_summbills.document_id
                    ,'EXTAMT_PLUS_DELVY')  
       ,xx_ar_print_summbill.get_paydoc_ic_totals(od_summbills.cons_inv_id
                    ,od_summbills.attribute13
                    ,od_summbills.document_id
                    ,'DISCOUNT')  
       ,xx_ar_print_summbill.get_paydoc_ic_totals(od_summbills.cons_inv_id
                    ,od_summbills.attribute13
                    ,od_summbills.document_id
                    ,'TAX')  
      ,NVL(( SELECT SUM(XX_AR_EBL_COMMON_UTIL_PKG.get_line_fee_amount(aci.customer_trx_id) +
                       XX_AR_EBL_COMMON_UTIL_PKG.get_hea_fee_amount(aci.customer_trx_id))
                   FROM ar_cons_inv_trx aci
                  WHERE cons_inv_id = arci.cons_inv_id),0)  cbi_fee_amt88
       ,xx_ar_print_summbill.get_paydoc_ic_totals(od_summbills.cons_inv_id
                    ,od_summbills.attribute13
                    ,od_summbills.document_id
                    ,'TOTAL')  
       ,TO_CHAR(NULL) 
       ,layout
       ,'INFORMATIONAL COPY'   
       ,(SELECT TARGET_VALUE1 
			FROM xx_cdh_cust_acct_ext_b b,
           XX_FIN_TRANSLATEDEFINITION xxft, 
           XX_FIN_TRANSLATEVALUES xxfv 
		   WHERE b.cust_account_id = od_summbills.customer_id
			 AND b.ATTR_GROUP_ID = 166
             AND xxfv.SOURCE_VALUE1 = b.fee_option
             AND xxft.translate_id = xxfv.translate_id 
             AND xxft.TRANSLATION_NAME = 'OD_IREC_BILL_DOC_DEFAULTS'
			 AND b.N_EXT_ATTR1 = od_summbills.DOCUMENT_ID
			 AND b.N_EXT_ATTR2 = od_summbills.CUST_DOC_ID 
			 AND rownum =1	 
			 )	Fee_option	   
 FROM   xx_ar_cons_bills_history od_summbills
       ,ar_cons_inv              arci
       ,ra_terms                 terms
 WHERE 1 =1
   AND arci.cons_inv_id = od_summbills.attribute16  -- Added for Defect# 13403.
   --AND arci.cons_inv_id =SUBSTR(od_summbills.cons_inv_id ,1 ,LENGTH(arci.cons_inv_id)) -- Added for defect 12283
                                                                     -- Commented for Defect# 13403.
   --AND arci.cons_inv_id =SUBSTR(od_summbills.cons_inv_id ,1 ,LENGTH(od_summbills.cons_inv_id)-1) --Defect 12283
   AND od_summbills.customer_id =:sumz_customer_id
   AND od_summbills.thread_id =:p_thread_id
   AND od_summbills.cons_inv_id =:info_cbi_id88
   AND od_summbills.attribute7  =:sumz_billing_site_id
   AND od_summbills.document_id =:doc_id88   
   AND od_summbills.attribute8  ='PAYDOC_IC'   
   AND terms.term_id            =arci.term_id  
   AND od_summbills.print_date  <= fnd_conc_date.string_to_date(:p_as_of_date)
   AND od_summbills.paydoc      !='Y'   
   AND NVL(od_summbills.process_flag, 'N') !='Y'  
   AND od_summbills.layout ='SUMMARIZE')info_sum
]]>
</sqlStatement>
<sqlStatement name="Q_INFODOC_CBI_ONE">
<![CDATA[
SELECT info_one.*,NVL((NVL(cbi_extamt_incl_delvy77,0)-CBI_FEE_AMT77),0) CBI_EXTAMT_INCL_DELVY_EX_FEE77 FROM(
SELECT  od_infocopies.cons_inv_id           cons_inv_id77
       ,od_infocopies.billing_number        billing_number77
       ,od_infocopies.currency              currency77
       ,od_infocopies.terms                 terms77       
        ,TO_CHAR( NVL(
                       xx_ar_print_summbill.get_bill_from_date(od_infocopies.cust_id
                                                                  ,od_infocopies.site_id
                          --  ,od_infocopies.cons_inv_id  --Commented for Defect 13403
                              ,od_infocopies.cons_inv_id1  --Added for Defect 13403
                                                                  ,sysdate                  -- dummy date for 11993
                                                                  ,od_infocopies.infocopy_tag
                                                                  ,od_infocopies.cust_doc_id   --Added for Defect# 11993.
                                                                  )
                      ,fnd_conc_date.string_to_date(:p_as_of_date)
                    ) 
                ,'DD-MON-YY'
               )                                               bill_from_date77
        --,TO_CHAR(TRUNC(SYSDATE) ,'DD-MON-YY')               bill_to_date77  
        ,TO_CHAR(fnd_conc_date.string_to_date(:p_as_of_date),'DD-MON-YY')               bill_to_date77 
       ,TO_DATE(NULL)                                       payment_due77
       ,xx_ar_cbi_infocopy_ministmnt       
        ( od_infocopies.cons_inv_id
         ,od_infocopies.req_id 
         ,:doc_id77
         ,'EXTAMT_PLUS_DELVY'
        )     cbi_extamt_incl_delvy77
       ,xx_ar_cbi_infocopy_ministmnt        
        ( od_infocopies.cons_inv_id
         ,od_infocopies.req_id   
         ,:doc_id77
         ,'DISCOUNT'
        )              cbi_promo_and_disc77        
       ,xx_ar_cbi_infocopy_ministmnt        
        ( od_infocopies.cons_inv_id
         ,od_infocopies.req_id
          ,:doc_id77         
          ,'TAX'
        )                   cbi_tax77
      ,NVL(( SELECT SUM(XX_AR_EBL_COMMON_UTIL_PKG.get_line_fee_amount(aci.customer_trx_id) +
                       XX_AR_EBL_COMMON_UTIL_PKG.get_hea_fee_amount(aci.customer_trx_id))
              FROM ar_cons_inv_trx aci
             WHERE cons_inv_id = od_infocopies.cons_inv_id),0)  CBI_FEE_AMT77
       ,xx_ar_cbi_infocopy_ministmnt        
        ( od_infocopies.cons_inv_id
         ,od_infocopies.req_id
          ,:doc_id77         
          ,'TOTAL'
        )                   cbi_amount_due77 
       --,od_infocopies.cbi_amount_due                      cbi_amount_due77 
       ,TO_CHAR(NULL)                                       scanline77 
       ,od_infocopies.pd_layout                             pd_layout77
       ,'INFORMATIONAL COPY'                                doc_title77 
       ,(SELECT TARGET_VALUE1 
			FROM xx_cdh_cust_acct_ext_b b,
           XX_FIN_TRANSLATEDEFINITION xxft, 
           XX_FIN_TRANSLATEVALUES xxfv 
		   WHERE b.cust_account_id = od_infocopies.cust_id
			 AND b.ATTR_GROUP_ID = 166
             AND xxfv.SOURCE_VALUE1 = b.fee_option
             AND xxft.translate_id = xxfv.translate_id 
             AND xxft.TRANSLATION_NAME = 'OD_IREC_BILL_DOC_DEFAULTS'
			 AND b.N_EXT_ATTR1 = od_infocopies.doc_id
			 AND b.N_EXT_ATTR2 = od_infocopies.CUST_DOC_ID 
			 AND rownum =1	 
			 )	Fee_option	   
 FROM  (
       SELECT customer_id cust_id
             ,to_number(attribute7) site_id
             ,cons_inv_id 
             ,attribute6  billing_number
             ,attribute15 currency
             ,attribute4  terms
             ,attribute8  infocopy_tag
             ,thread_id req_id
             ,attribute14 cbi_amount_due
             ,layout      pd_layout
             ,document_id doc_id
             ,cust_doc_id  -- Added for Defect# 11993.
             ,to_number(attribute16) cons_inv_id1 --Added for Defect  13403
       FROM   xx_ar_cons_bills_history a
       WHERE  a.customer_id =:one_customer_id
         AND  a.document_id =:doc_id77
         AND  a.attribute8 ='INV_IC'
         AND  a.thread_id =:p_thread_id
         AND  a.print_date  <= fnd_conc_date.string_to_date(:p_as_of_date)
         AND  a.paydoc      !='Y'   
         AND  NVL(a.process_flag, 'N') !='Y'
         AND  a.layout ='ONE'
       GROUP BY customer_id
             ,to_number(attribute7)
             ,cons_inv_id
             ,attribute6
             ,attribute15
             ,attribute4
             ,attribute8
             ,thread_id 
             ,attribute14
             ,layout
             ,document_id
             ,cust_doc_id  -- Added for Defect# 11993
             ,TO_NUMBER(attribute16)  --Added for Defect  13403
      ) od_infocopies
 WHERE 1 =1 
   AND od_infocopies.cust_id    =:one_customer_id
   AND od_infocopies.site_id    =:one_billing_site_id
   AND od_infocopies.doc_id     =:doc_id77
   AND od_infocopies.cons_inv_id =:info_cbi_id77
UNION ALL
 SELECT arci.cons_inv_id                            
       ,arci.cons_billing_number                    
       ,arci.currency_code                          
       ,SUBSTR(terms.description ,1 ,15)                
       ,TO_CHAR( NVL(
                       xx_ar_print_summbill.get_bill_from_date(arci.customer_id
                                                                  ,arci.site_use_id 
                                                                  ,arci.cons_inv_id 
                                                                  --,arci.cut_off_date   -- added for defect 11993 -- Commented for Defect# 15063.
                                                                  ,TO_DATE(arci.attribute1) -- Added for Defect# 15063. The logic of the attribute1 column is handled in the procedure XX_AR_PRINT_NEW_CON_PKG.MAIN
                                                                  ,'PAYDOC'
                                                                  ,od_summbills.cust_doc_id  --Added for Defect# 11993.
                                                                  )
                      ,fnd_conc_date.string_to_date(:p_as_of_date)
                    ) 
                ,'DD-MON-YY'
               ) 
      -- ,TO_CHAR(TRUNC(arci.cut_off_date) ,'DD-MON-YY')    
       --,TO_CHAR(TRUNC(arci.cut_off_date)-1 ,'DD-MON-YY')  -- Commented for Defect# 15063.
       ,TO_CHAR(TO_DATE(arci.attribute1)-1,'DD-MON-YY')  -- Added for Defect# 15063. The logic of the attribute1 column is handled in the procedure XX_AR_PRINT_NEW_CON_PKG.MAIN
       ,TO_DATE(NULL)                             
-- the following function used to get totals instead of xx_ar_cbi_paydoc_ministmnt defect #10750
       ,xx_ar_print_summbill.get_paydoc_ic_totals(od_summbills.cons_inv_id
                    ,od_summbills.attribute13
                    ,od_summbills.document_id
                    ,'EXTAMT_PLUS_DELVY')  
       ,xx_ar_print_summbill.get_paydoc_ic_totals(od_summbills.cons_inv_id
                    ,od_summbills.attribute13
                    ,od_summbills.document_id
                    ,'DISCOUNT')  
       ,xx_ar_print_summbill.get_paydoc_ic_totals(od_summbills.cons_inv_id
                    ,od_summbills.attribute13
                    ,od_summbills.document_id
                    ,'TAX') 
      ,NVL(( SELECT SUM(XX_AR_EBL_COMMON_UTIL_PKG.get_line_fee_amount(aci.customer_trx_id) +
                       XX_AR_EBL_COMMON_UTIL_PKG.get_hea_fee_amount(aci.customer_trx_id))
              FROM ar_cons_inv_trx aci
             WHERE cons_inv_id = arci.cons_inv_id),0)  cbi_fee_amt77                    
       ,xx_ar_print_summbill.get_paydoc_ic_totals(od_summbills.cons_inv_id
                    ,od_summbills.attribute13
                    ,od_summbills.document_id
                    ,'TOTAL')  
       ,TO_CHAR(NULL) 
       ,layout
       ,'INFORMATIONAL COPY'   
       ,(SELECT TARGET_VALUE1 
			FROM xx_cdh_cust_acct_ext_b b,
           XX_FIN_TRANSLATEDEFINITION xxft, 
           XX_FIN_TRANSLATEVALUES xxfv 
		   WHERE b.cust_account_id = od_summbills.customer_id
			 AND b.ATTR_GROUP_ID = 166
             AND xxfv.SOURCE_VALUE1 = b.fee_option
             AND xxft.translate_id = xxfv.translate_id 
             AND xxft.TRANSLATION_NAME = 'OD_IREC_BILL_DOC_DEFAULTS'
			 AND b.N_EXT_ATTR1 = od_summbills.DOCUMENT_ID
			 AND b.N_EXT_ATTR2 = od_summbills.CUST_DOC_ID 
			 AND rownum =1	 
			 )	Fee_option		   
 FROM   xx_ar_cons_bills_history od_summbills
       ,ar_cons_inv              arci
       ,ra_terms                 terms
 WHERE 1 =1
   AND arci.cons_inv_id = od_summbills.attribute16  --Added for Defect# 13403.
   --AND arci.cons_inv_id =SUBSTR(od_summbills.cons_inv_id ,1 ,LENGTH(arci.cons_inv_id)) --Added for defect 12283
                                                   --Commented for Defect# 13403.
   --AND arci.cons_inv_id =SUBSTR(od_summbills.cons_inv_id ,1 ,LENGTH(od_summbills.cons_inv_id)-1) --Defect 12283
   AND od_summbills.customer_id =:one_customer_id
   AND od_summbills.thread_id =:p_thread_id
   AND od_summbills.cons_inv_id =:info_cbi_id77
   AND od_summbills.attribute7  =:one_billing_site_id
   AND od_summbills.document_id =:doc_id77   
   AND od_summbills.attribute8  ='PAYDOC_IC'   
   AND terms.term_id            =arci.term_id  
   AND od_summbills.print_date  <= fnd_conc_date.string_to_date(:p_as_of_date)
   AND od_summbills.paydoc      !='Y'   
   AND NVL(od_summbills.process_flag, 'N') !='Y'  
   AND od_summbills.layout ='ONE') info_one
]]>
</sqlStatement>
<sqlStatement name="Q_INFODOC_DETAIL_TRX">
<![CDATA[
SELECT 
      xact.customer_trx_id infodtl_trx_id
     ,xact.inv_number      infodtl_invoice_num
     ,xact.inv_type        infodtl_type
     ,xact.inv_source_id   infodtl_inv_source_id
     ,xact.inv_source_name infodtl_inv_source
     ,TO_CHAR(xact.order_date ,'DD-MON-YY') infodtl_order_date
     ,TO_CHAR(xact.ship_date ,'DD-MON-YY') infodtl_ship_date 
     ,xact.sfhdr1 infodtl_sfhdr1
     ,xact.sfhdr2 infodtl_sfhdr2
     ,xact.sfhdr3 infodtl_sfhdr3
     ,xact.sfhdr4 infodtl_sfhdr4
     ,xact.sfhdr5 infodtl_sfhdr5
     ,xact.sfdata1 infodtl_sfdata1 
     ,xact.sfdata2 infodtl_sfdata2 
     ,xact.sfdata3 infodtl_sfdata3 
     ,xact.sfdata4 infodtl_sfdata4 
     ,xact.sfdata5 infodtl_sfdata5
	 -- Added for the defect#19985 Including new elements Ship To and Ordered by 6-DEC-2012
     ,'ORDERED BY:'                           infodtl_sfhdr6 -- Added 03-Jan-2012 for coding standard followed by adding infodtl_ prefix to sfhdr6
     , TRIM(xohaa.cust_contact_name)                    infodtl_sfdata6
      ,'SHIP TO:'                                 infodtl_sfhdr7
	,trim(xohaa.ship_to_address1||DECODE(trim(xohaa.ship_to_address2),'','',', '||trim(xohaa.ship_to_address2))||DECODE(trim(xohaa.ship_to_city),'','',', '||
  trim(xohaa.ship_to_city))||DECODE(trim(xohaa.ship_to_state),'','',', '||trim(xohaa.ship_to_state))||DECODE(trim(xohaa.ship_to_zip),'','',' '||trim((CASE WHEN ((LENGTH(xohaa.ship_to_zip) > 5) and xohaa.ship_to_country IN('US','USA'))
                        THEN (SUBSTR(xohaa.ship_to_zip,1,5)||'-'||SUBSTR(xohaa.ship_to_zip,6))
                        ELSE (xohaa.ship_to_zip)
                        END)))	
              ) infodtl_sfdata7
FROM  xx_ar_cbi_trx xact,  -- Added for the defect#19985 Including new elements Ship To and Ordered by 6-DEC-2012
xx_om_header_attributes_all xohaa
WHERE xact.request_id  =:p_thread_id
  AND xact.cons_inv_id =:info_cbi_id99
  AND  xact.attribute1  IN ('PAYDOC_IC' ,'INV_IC')  
  AND xact.inv_type NOT IN ('SOFTHDR_TOTALS' ,'BILLTO_TOTALS' ,'GRAND_TOTAL') 
  AND xact.order_header_id=xohaa.header_id
ORDER BY xact.insert_seq
]]>
</sqlStatement>
</dataQuery>
<dataTrigger name="beforeReportTrigger" source="xx_ar_print_summbill.beforereport"/>
<dataStructure>
<group name="G_TAX_INFO" source="Q_TAX_INFO">
<element name="TAX_ID" value="TAX_ID" />
<element name="TAX_ID_DESC" value="TAX_ID_DESC" />
<element name="RETURN_ADDRESS_LINE1" value="RETURN_ADDRESS_LINE1" />
<element name="RETURN_ADDRESS_LINE2" value="RETURN_ADDRESS_LINE2" />
<element name="RETURN_CITY" value="RETURN_CITY" />
<element name="RETURN_STATE" value="RETURN_STATE" />
<element name="RETURN_POSTAL_CODE" value="RETURN_POSTAL_CODE" />
</group>
<group name="G_ALL_CUSTOMERS" source="Q_CUSTOMERS">
<element name="BILLING_ID"  value="BILLING_ID" />
<element name="ACCOUNT_NAME_ORIG" value="ACCOUNT_NAME_ORIG" />
<element name="ACCOUNT_NUMBER" value="ACCOUNT_NUMBER" />
<element name="SALES_CHANNEL" value="SALES_CHANNEL" />
<group name="G_BILLING_SITES" source="Q_BILLING_SITES">
<element name="BILLING_SITE_ID"        value="BILLING_SITE_ID" />
<element name="ACCOUNT_NAME"           value="ACCOUNT_NAME" />
<element name="BILL_TO_ADDRESS_LINE1"  value="BILL_TO_ADDRESS_LINE1" />
<element name="BILL_TO_ADDRESS_LINE2"  value="BILL_TO_ADDRESS_LINE2" />
<element name="BILL_TO_ADDRESS_LINE3"  value="BILL_TO_ADDRESS_LINE3" />
<element name="BILL_TO_ADDRESS_LINE4"  value="BILL_TO_ADDRESS_LINE4" />
<element name="BILL_TO_CITY"           value="BILL_TO_CITY" />
<element name="BILL_TO_STATE"          value="BILL_TO_STATE" />
<element name="BILL_TO_PROVINCE"       value="BILL_TO_PROVINCE" />
<element name="BILL_TO_POSTAL_CODE"    value="BILL_TO_POSTAL_CODE" />
<element name="BILL_TO_COUNTRY"        value="BILL_TO_COUNTRY" />
<element name="MAIL_TO_ATTN"           value="MAIL_TO_ATTN" />       <!--Added for R1.4 Defect # 2424 (CR 547)-->
<element name="REMIT_TO_ADDRESS_LINE1" value="REMIT_TO_ADDRESS_LINE1" />
<element name="REMIT_TO_ADDRESS_LINE2" value="REMIT_TO_ADDRESS_LINE2" />
<element name="REMIT_TO_ADDRESS_LINE3" value="REMIT_TO_ADDRESS_LINE3" />
<element name="REMIT_TO_ADDRESS_LINE4" value="REMIT_TO_ADDRESS_LINE4" />
<element name="REMIT_TO_CITY"          value="REMIT_TO_CITY" />
<element name="REMIT_TO_STATE"         value="REMIT_TO_STATE" />
<element name="REMIT_TO_POSTAL_CODE"   value="REMIT_TO_POSTAL_CODE" />
<element name="REMIT_TO_COUNTRY"       value="REMIT_TO_COUNTRY" />
<element name="ORDER_CONTACT"          value="ORDER_CONTACT" />
<element name="ACCOUNT_CONTACT"        value="ACCOUNT_CONTACT" />
<group name="G_PAYDOC_LAYOUT" source="Q_PAYDOC_LAYOUT">
<element name="PAYDOC_CONS_INV_ID" value="CBI_ID1" />
<element name="LAYOUT" value="LAYOUT" />
<element name="DOCUMENT_ID" value="DOC_ID" />
<element name="SORT_BY" value="SORT_BY" />
<element name="TOTAL_BY" value="TOTAL_BY" />
<element name="PAGE_BREAK" value="PAGE_BREAK" />
<group name="G_PAYDOC_ONE" source="Q_PAYDOC_CBI_ONE">
<element name="BILLING_NUMBER" value="BILLING_NUMBER" />
<element name="CURRENCY" value="CURRENCY" />
<element name="TERMS" value="TERMS" />
<element name="BILL_FROM_DATE" value="BILL_FROM_DATE" />
<element name="BILL_TO_DATE" value="BILL_TO_DATE" />
<element name="PAYMENT_DUE" value="PAYMENT_DUE" />
<element name="DISCOUNT_INFO" value="DISCOUNT_INFO" />
<element name="CBI_EXTAMT_INCL_DELVY" value="CBI_EXTAMT_INCL_DELVY" />
<element name="CBI_EXTAMT_INCL_DELVY_EX_FEE" value="CBI_EXTAMT_INCL_DELVY_EX_FEE" />
<element name="CBI_PROMO_AND_DISC" value="CBI_PROMO_AND_DISC" />
<element name="CBI_TAX" value="CBI_TAX" />
<element name="CBI_FEE_AMT" value="CBI_FEE_AMT" />
<element name="CBI_AMOUNT_DUE" value="CBI_AMOUNT_DUE" />
<element name="FLO_CODE" value="SCANLINE" />
<element name="PDOC_LAYOUT3" value="PD_LAYOUT3" />
<element name="DOC_TITLE" value="DOC_TITLE" />
<element name="FEE_OPTION" value="FEE_OPTION" />
<group name="G_PAYDOC_ONE_SOFTHEADERS" source="Q_PAYDOC_ONE_SOFTHEADERS">
<element name="SFHDR1" value="SFHDR1" />
<element name="SFHDR2" value="SFHDR2" />
<element name="SFHDR3" value="SFHDR3" />
<element name="SFHDR4" value="SFHDR4" />
<element name="SFHDR5" value="SFHDR5" />
</group>
<group name="G_PAYDOC_ONE_TOTALS" source="Q_PAYDOC_ONE_TOTALS">
<element name="SUMMARIZE_TEXT" value="SUMMARIZE_TEXT" />
<element name="TOTAL_ORDERS" value="TOTAL_ORDERS" />
<element name="PG_BREAK" value="PG_BREAK" />
<element name="SUMMARIZE_SUBTOTAL" value="SUMMARIZE_SUBTOTAL" />
<element name="SUMMARIZE_DELIVERY" value="SUMMARIZE_DELIVERY" />
<element name="SUMMARIZE_DISCOUNTS" value="SUMMARIZE_DISCOUNTS" />
<element name="SUMMARIZE_TAX" value="SUMMARIZE_TAX" />
<element name="SUMMARIZE_TOTAL" value="SUMMARIZE_TOTAL" />
<element name="SUMMARIZE_FEE" value="SUMMARIZE_FEE" />
</group>
</group>
<group name="G_PAYDOC_SUMMARIZE" source="Q_PAYDOC_CBI_SUMMARIZE">
<element name="BILLING_NUMBER" value="BILLING_NUMBER" />
<element name="CURRENCY" value="CURRENCY" />
<element name="TERMS" value="TERMS" />
<element name="BILL_FROM_DATE" value="BILL_FROM_DATE" />
<element name="BILL_TO_DATE" value="BILL_TO_DATE" />
<element name="PAYMENT_DUE" value="PAYMENT_DUE" />
<element name="DISCOUNT_INFO" value="DISCOUNT_INFO" />
<element name="CBI_EXTAMT_INCL_DELVY" value="CBI_EXTAMT_INCL_DELVY" />
<element name="CBI_EXTAMT_INCL_DELVY_EX_FEE" value="CBI_EXTAMT_INCL_DELVY_EX_FEE" />
<element name="CBI_PROMO_AND_DISC" value="CBI_PROMO_AND_DISC" />
<element name="CBI_TAX" value="CBI_TAX" />
<element name="CBI_FEE_AMT" value="CBI_FEE_AMT" />
<element name="CBI_AMOUNT_DUE" value="CBI_AMOUNT_DUE" />
<element name="FLO_CODE" value="SCANLINE" />
<element name="PDOC_LAYOUT2" value="PD_LAYOUT2" />
<element name="DOC_TITLE" value="DOC_TITLE" />
<element name="FEE_OPTION" value="FEE_OPTION" />
<group name="G_PAYDOC_SUMM_SOFTHEADERS" source="Q_PAYDOC_SUMM_SOFTHEADERS">
<element name="SFHDR1" value="SFHDR1" />
<element name="SFHDR2" value="SFHDR2" />
<element name="SFHDR3" value="SFHDR3" />
<element name="SFHDR4" value="SFHDR4" />
<element name="SFHDR5" value="SFHDR5" />
<element name="SFHDR6" value="SFHDR6" />
<element name="SFHDR7" value="SFHDR7" />
<group name="G_PAYDOC_SUMM_TRX" source="Q_PAYDOC_SUMM_TRX">
<element name="TRX_ID1" value="TRX_ID22" />
<group name="G_PAYDOC_SUMM_TRX_INFO" source="Q_PAYDOC_SUMM_TRX">
<element name="SFDATA1" value="SFDATA1" />
<element name="SFDATA2" value="SFDATA2" />
<element name="SFDATA3" value="SFDATA3" />
<element name="SFDATA4" value="SFDATA4" />
<element name="SFDATA5" value="SFDATA5" />
<element name="SFDATA6" value="SFDATA6" />
<element name="SFDATA7" value="SFDATA7" />
<element name="ORDER_NUM" value="ORDER_NUM" />
<element name="ORDER_DATE" value="ORDER_DATE" />
<element name="SUBTOTAL_AMOUNT" value="SUBTOTAL" />
<element name="DELIVERY" value="DELIVERY" />
<element name="DISCOUNTS" value="DISCOUNTS" />
<element name="TAX_AMOUNT" value="TAX_AMOUNT" />
<element name="FEE_AMT" value="FEE_AMT" />
<element name="TOTAL_AMOUNT" value="ORDER_TOTAL" />
</group>
<group name="G_PAYDOC_TRX_ACM" source="Q_SUMM_TRX_ACM">
<element name="ACM_TEXT" value="ACM_TEXT" />
</group>
<group name="G_PAYDOC_TRX_GIFT_CARD" source="Q_SUMM_TRX_GIFT_CARD">
<element name="GIFT_CARD_TEXT" value="GIFT_CARD_TEXT" />
</group>
<group name="G_PAYDOC_SUMM_TOTALS" source="Q_PAYDOC_SUMM_TOTALS">
<element name="SUMMARIZE_TEXT" value="SUMM_TEXT" />
<element name="TOTAL_ORDERS" value="TOT_ORDERS" />
<element name="PG_BREAK" value="PG_BRK" />
<element name="SUMMARIZE_SUBTOTAL" value="SUMM_SUBTOTAL" />
<element name="SUMMARIZE_DELIVERY" value="SUMM_DELIVERY" />
<element name="SUMMARIZE_DISCOUNTS" value="SUMM_DISCOUNTS" />
<element name="SUMMARIZE_TAX" value="SUMM_TAX" />
<element name="SUMMARIZE_TOTAL" value="SUMM_TOTAL" />
<element name="SUMM_FEE" value="SUMM_FEE" />
</group>
</group>
</group>
</group>
<group name="G_PAYDOC_DETAIL" source="Q_PAYDOC_CBI_DETAIL">
<element name="BILLING_NUMBER" value="BILLING_NUMBER" />
<element name="CURRENCY" value="CURRENCY" />
<element name="TERMS" value="TERMS" />
<element name="BILL_FROM_DATE" value="BILL_FROM_DATE" />
<element name="BILL_TO_DATE" value="BILL_TO_DATE" />
<element name="PAYMENT_DUE" value="PAYMENT_DUE" />
<element name="DISCOUNT_INFO" value="DISCOUNT_INFO" />
<element name="CBI_EXTAMT_INCL_DELVY" value="CBI_EXTAMT_INCL_DELVY_N" />
<element name="CBI_PROMO_AND_DISC" value="CBI_PROMO_AND_DISC" />
<element name="CBI_TAX" value="CBI_TAX" />
<element name="CBI_FEE_AMT" value="CBI_FEE_AMT" />
<element name="CBI_AMOUNT_DUE" value="CBI_AMOUNT_DUE" />
<element name="FLO_CODE" value="SCANLINE" />
<element name="DOC_TITLE" value="DOC_TITLE" />
<element name="PDOC_LAYOUT1" value="PD_LAYOUT1" />
<element name="FEE_OPTION" value="FEE_OPTION" />
<group name="G_PAYDOC_CONS_FEE" source="Q_PAYDOC_CONS_FEE">
<element name="CBI_FEE_CODE"        value="FEE_CODE" />
<element name="CBI_FEE_NAME" value="FEE_DESCRIPTION" />
<element name="CBI_FEE_AMOUNT"         value="FEE_AMT" />
</group>
<group name="G_PAYDOC_DETAIL_TRX" source="Q_PAYDOC_DETAIL_TRX">
<element name="ORDER_NUMBER" value="INVOICE_NUM" />
<element name="ORDER_DATE" value="ORDER_DATE" />
<element name="SHIP_DATE" value="SHIP_DATE" />
<element name="SFHDR1" value="SFHDR1" />
<element name="SFDATA1" value="SFDATA1" />
<element name="SFHDR2" value="SFHDR2" />
<element name="SFDATA2" value="SFDATA2" />
<element name="SFHDR3" value="SFHDR3" />
<element name="SFDATA3" value="SFDATA3" />
<element name="SFHDR4" value="SFHDR4" />
<element name="SFDATA4" value="SFDATA4" />
<element name="SFHDR5" value="SFHDR5" />
<element name="SFDATA5" value="SFDATA5" />
<element name="SFHDR6" value="SFHDR6" />
<element name="SFDATA6" value="SFDATA6" />
<element name="SFHDR7" value="SFHDR7" />
<element name="SFDATA7" value="SFDATA7" />
<element name="REBATE_INFO" value="REBATE_INFO" />
<group name="G_TRX_SPC_INFO" source="Q_TRX_SPC_INFO">
<element name="SPC_CARD_DETAILS" value="SPC_CARD_DETAILS" />
</group>
<group name="G_PAYDOC_DETAIL_TRX_LINES" source="Q_PAYDOC_DETAIL_TRX_LINES">
<element name="ITEM_CODE" value="ITEM_CODE" />
<element name="CUST_PROD_CODE" value="CUST_PROD_CODE" />
<element name="ITEM_DESCRIPTION" value="ITEM_DESCRIPTION" />
<element name="MANUF_CODE" value="MANUF_CODE" />
<element name="QTY" value="QTY" />
<element name="UOM" value="UOM" />
<element name="UNIT_PRICE" value="UNIT_PRICE" />
<element name="EXTENDED_PRICE" value="EXTENDED_PRICE" />
<element name="LINE_COMMENTS" value="LINE_COMMENTS" />                    <!--Added for R1.1 Defect # 1744 (CR 743)-->
<element name="DEPT_DESCRIPTION" value="DEPT_DESCRIPTION" />
<element name="KIT_ITEM_DESCRIPTION" value="KIT_ITEM_DESCRIPTION" />      <!--Added for Kitting Defect# 37670-->    
<element name="FEE_CODE" value="FEE_CODE" />     
</group>
<group name="G_PAYDOC_TRX_TIERED_DISC" source="Q_TRX_TIERED_DISC">
<element name="TIERED_DISCOUNT" value="TIERED_DISCOUNT" />
</group>
<group name="G_PAYDOC_TRX_ACM" source="Q_TRX_ACM">
<element name="ACM_TEXT" value="ACM_TEXT" />
</group>
<group name="G_PAYDOC_TRX_GIFT_CARD" source="Q_TRX_GIFT_CARD">
<element name="GIFT_CARD_TEXT" value="GIFT_CARD_TEXT" />
</group>
<group name="G_PAYDOC_TRX_MINISTMNT" source="Q_PAYDOC_TRX_MINISTMNT">
<element name="ORDER_NUMBER_DUP" value="ORDER_NUMBER_DUP" />
<element name="ORDER_SUBTOTAL" value="SUBTOTAL" />
<element name="PROMO_AND_DISC" value="PROMO_AND_DISC" />
<element name="SALES_TAX" value="SALES_TAX" />
<element name="CA_PROV_TAX" value="CA_PROV_TAX" />
<element name="CA_STATE_TAX" value="CA_STATE_TAX" />
<element name="ORDER_TOTAL" value="TOTAL" />
<element name="TOTAL_LINE_FEE" value="TOTAL_LINE_FEE" />
<element name="TOTAL_HEADER_FEE" value="TOTAL_HEADER_FEE" />
<element name="TOTAL_FEE" value="TOTAL_FEE" />
</group>
<group name="G_PAYDOC_TRX_SOFTHEADERS" source="Q_TRX_SOFTHEADERS">
<element name="LINE_TYPE" value="LINE_TYPE" />
<element name="LINE_SEQ" value="LINE_SEQ" />
<element name="SF_TEXT" value="SF_TEXT" />
<element name="SF_AMOUNT" value="SF_AMOUNT" />
<element name="PAGE_BREAK" value="PAGE_BREAK" />
</group>
</group>
</group>
</group>
<group name="G_INFODOC_LAYOUT" source="Q_INFODOC_LAYOUT">
<element name="INFOCOPY_CONS_INV_ID" value="INFO_CBI_ID99" />
<element name="LAYOUT" value="LAYOUT99" />
<element name="DOCUMENT_ID" value="DOC_ID99" />
<element name="SORT_BY" value="SORT_BY99" />
<element name="TOTAL_BY" value="TOTAL_BY99" />
<element name="PAGE_BREAK" value="PAGE_BREAK99" />
<group name="G_INFODOC_DETAIL" source="Q_INFODOC_CBI_DETAIL">
<element name="BILLING_NUMBER" value="BILLING_NUMBER99" />
<element name="CURRENCY" value="CURRENCY99" />
<element name="TERMS" value="TERMS99" />
<element name="BILL_FROM_DATE" value="BILL_FROM_DATE99" />
<element name="BILL_TO_DATE" value="BILL_TO_DATE99" />
<element name="PAYMENT_DUE" value="PAYMENT_DUE99" />
<element name="CBI_EXTAMT_INCL_DELVY" value="CBI_EXTAMT_INCL_DELVY_N99" />
<element name="CBI_PROMO_AND_DISC" value="CBI_PROMO_AND_DISC99" />
<element name="CBI_TAX" value="CBI_TAX99" />
<element name="CBI_FEE_AMT" value="CBI_FEE_AMT99" />
<element name="CBI_AMOUNT_DUE" value="CBI_AMOUNT_DUE99" />
<element name="FLO_CODE" value="SCANLINE99" />
<element name="DOC_TITLE" value="DOC_TITLE99" />
<element name="PDOC_LAYOUT1" value="PD_LAYOUT99" />
<element name="FEE_OPTION" value="FEE_OPTION" />
<group name="G_INFODOC_CONS_FEE" source="Q_INFODOC_CONS_FEE">
<element name="CBI_FEE_CODE"        value="FEE_CODE99" />
<element name="CBI_FEE_NAME" value="FEE_DESCRIPTION99" />
<element name="CBI_FEE_AMOUNT"         value="FEE_AMT99" />
</group>
<group name="G_INFODOC_DETAIL_TRX" source="Q_INFODOC_DETAIL_TRX">
<element name="ORDER_NUMBER" value="INFODTL_INVOICE_NUM" />
<element name="ORDER_DATE" value="INFODTL_ORDER_DATE" />
<element name="SHIP_DATE" value="INFODTL_SHIP_DATE" />
<element name="SFHDR1" value="INFODTL_SFHDR1" />
<element name="SFDATA1" value="INFODTL_SFDATA1" />
<element name="SFHDR2" value="INFODTL_SFHDR2" />
<element name="SFDATA2" value="INFODTL_SFDATA2" />
<element name="SFHDR3" value="INFODTL_SFHDR3" />
<element name="SFDATA3" value="INFODTL_SFDATA3" />
<element name="SFHDR4" value="INFODTL_SFHDR4" />
<element name="SFDATA4" value="INFODTL_SFDATA4" />
<element name="SFHDR5" value="INFODTL_SFHDR5" />
-- Modified by NBapuji for Defect# 19985 The label and data should be next to each one in this case 2 labels
-- i.e.SFHDR5,SFHDR6 and then data was being displayed in xml
<element name="SFDATA5" value="INFODTL_SFDATA5" /> 
<element name="SFHDR6" value="INFODTL_SFHDR6" />
<element name="SFDATA6" value="INFODTL_SFDATA6" />
<element name="SFHDR7" value="INFODTL_SFHDR7" />
<element name="SFDATA7" value="INFODTL_SFDATA7" />
<group name="G_INFODOC_TRX_SPC_INFO" source="Q_INFODOC_TRX_SPC_INFO">
<element name="SPC_CARD_DETAILS" value="INFODOC_SPC_CARD_DETAILS" />
</group>
<group name="G_INFODOC_DETAIL_TRX_LINES" source="Q_INFODOC_DETAIL_TRX_LINES">
<element name="ITEM_CODE" value="INFODTL_ITEM_CODE" />
<element name="CUST_PROD_CODE" value="INFODTL_CUST_PROD_CODE" />
<element name="ITEM_DESCRIPTION" value="INFODTL_ITEM_DESCRIPTION" />
<element name="MANUF_CODE" value="INFODTL_MANUF_CODE" />
<element name="QTY" value="INFODTL_QTY" />
<element name="UOM" value="INFODTL_UOM" />
<element name="UNIT_PRICE" value="INFODTL_UNIT_PRICE" />
<element name="EXTENDED_PRICE" value="INFODTL_EXTENDED_PRICE" />
<element name="LINE_COMMENTS" value="INFODTL_LINE_COMMENTS" />                       <!--Added for R1.1 Defect # 1744 (CR 743)-->
<element name="DEPT_DESCRIPTION" value="DEPT_DESCRIPTION" />
<element name="KIT_ITEM_DESCRIPTION" value="KIT_ITEM_DESCRIPTION" />      <!--Added for Kitting Defect# 37670-->
<element name="FEE_CODE" value="FEE_CODE" />     
</group>
<group name="G_INFODOC_TRX_TIERED_DISC" source="Q_INFODOC_TRX_TIERED_DISC">
<element name="TIERED_DISCOUNT" value="INFODOC_TIERED_DISCOUNT" />
</group>
<group name="G_INFODOC_TRX_ACM" source="Q_INFODOC_TRX_ACM">
<element name="ACM_TEXT" value="INFODOC_ACM_TEXT" />
</group>
<group name="G_INFODOC_TRX_GIFT_CARD" source="Q_INFODOC_TRX_GIFT_CARD">
<element name="GIFT_CARD_TEXT" value="INFODOC_GIFT_CARD_TEXT" />
</group>
<group name="G_INFODOC_TRX_MINISTMNT" source="Q_INFODOC_TRX_MINISTMNT">
<element name="ORDER_NUMBER_DUP" value="INFODTL_ORDER_NUMBER_DUP" />
<element name="ORDER_SUBTOTAL" value="INFODTL_SUBTOTAL" />
<element name="PROMO_AND_DISC" value="INFODTL_PROMO_AND_DISC" />
<element name="SALES_TAX" value="INFODTL_SALES_TAX" />
<element name="INFODTL_CA_PROV_TAX" value="INFODTL_CA_PROV_TAX" />
<element name="INFODTL_CA_STATE_TAX" value="INFODTL_CA_STATE_TAX" />
<element name="ORDER_TOTAL" value="INFODTL_TOTAL" />
<element name="TOTAL_LINE_FEE" value="TOTAL_LINE_FEE" />
<element name="TOTAL_HEADER_FEE" value="TOTAL_HEADER_FEE" />
<element name="TOTAL_FEE" value="TOTAL_FEE" />
</group>
<group name="G_INFODOC_TRX_SOFTHEADERS" source="Q_INFODOC_TRX_SOFTHEADERS">
<element name="LINE_TYPE" value="INFODTL_LINE_TYPE" />
<element name="LINE_SEQ" value="INFODTL_LINE_SEQ" />
<element name="SF_TEXT" value="INFODTL_SF_TEXT" />
<element name="SF_AMOUNT" value="INFODTL_SF_AMOUNT" />
<element name="PAGE_BREAK" value="INFODTL_PAGE_BREAK" />
</group>
</group>
</group>
<group name="G_INFODOC_SUMMARIZE" source="Q_INFODOC_CBI_SUMMARIZE">
<element name="BILLING_NUMBER" value="BILLING_NUMBER88" />
<element name="CURRENCY" value="CURRENCY88" />
<element name="TERMS" value="TERMS88" />
<element name="BILL_FROM_DATE" value="BILL_FROM_DATE88" />
<element name="BILL_TO_DATE" value="BILL_TO_DATE88" />
<element name="PAYMENT_DUE" value="PAYMENT_DUE88" />
<element name="CBI_EXTAMT_INCL_DELVY" value="CBI_EXTAMT_INCL_DELVY88" />
<element name="CBI_EXTAMT_INCL_DELVY_EX_FEE" value="CBI_EXTAMT_INCL_DELVY_EX_FEE88" />
<element name="CBI_PROMO_AND_DISC" value="CBI_PROMO_AND_DISC88" />
<element name="CBI_TAX" value="CBI_TAX88" />
<element name="CBI_FEE_AMT" value="CBI_FEE_AMT88" />
<element name="CBI_AMOUNT_DUE" value="CBI_AMOUNT_DUE88" />
<element name="FLO_CODE" value="SCANLINE88" />
<element name="PDOC_LAYOUT2" value="PD_LAYOUT288" />
<element name="DOC_TITLE" value="DOC_TITLE88" />
<element name="FEE_OPTION" value="FEE_OPTION" />
<group name="G_INFODOC_SUMM_SOFTHEADERS" source="Q_INFODOC_SUMM_SOFTHEADERS">
<element name="SFHDR1" value="INFOSUMZ_SFHDR1" />
<element name="SFHDR2" value="INFOSUMZ_SFHDR2" />
<element name="SFHDR3" value="INFOSUMZ_SFHDR3" />
<element name="SFHDR4" value="INFOSUMZ_SFHDR4" />
<element name="SFHDR5" value="INFOSUMZ_SFHDR5" />
<element name="SFHDR6" value="INFOSUMZ_SFHDR6" />
<element name="SFHDR7" value="INFOSUMZ_SFHDR7" />
<group name="G_INFODOC_SUMM_TRX" source="Q_INFODOC_SUMM_TRX">
<element name="TRX_ID1" value="INFOSUMZ_TRX_ID1" />
<group name="G_INFODOC_TRX_SPC_INFO" source="Q_INFOSUMZ_TRX_SPC_INFO">
<element name="SPC_CARD_DETAILS" value="INFOSUMZ_SPC_CARD_DETAILS" />
</group>
<group name="G_INFODOC_SUMM_TRX_INFO" source="Q_INFODOC_SUMM_TRX_INFO">
<element name="SFDATA1" value="INFOSUMZ_SFDATA1" />
<element name="SFDATA2" value="INFOSUMZ_SFDATA2" />
<element name="SFDATA3" value="INFOSUMZ_SFDATA3" />
<element name="SFDATA4" value="INFOSUMZ_SFDATA4" />
<element name="SFDATA5" value="INFOSUMZ_SFDATA5" />
<element name="SFDATA6" value="INFOSUMZ_SFDATA6" />
<element name="SFDATA7" value="INFOSUMZ_SFDATA7" />
<element name="ORDER_NUM" value="INFOSUMZ_ORDER_NUM" />
<element name="ORDER_DATE" value="INFOSUMZ_ORDER_DATE" />
<element name="SUBTOTAL_AMOUNT" value="INFOSUMZ_SUBTOTAL" />
<element name="DELIVERY" value="INFOSUMZ_DELIVERY" />
<element name="DISCOUNTS" value="INFOSUMZ_DISCOUNTS" />
<element name="TAX_AMOUNT" value="INFOSUMZ_TAX" />
<element name="FEE_AMOUNT" value="INFOSUMZ_FEE" />
<element name="TOTAL_AMOUNT" value="INFOSUMZ_TOTAL" />

</group>
<group name="G_INFODOC_TRX_TIERED_DISC" source="Q_INFOSUMZ_TRX_TIERED_DISC">
<element name="TIERED_DISCOUNT" value="INFOSUMZ_TIERED_DISCOUNT" />
</group>
<group name="G_INFODOC_TRX_ACM" source="Q_INFOSUMZ_TRX_ACM">
<element name="ACM_TEXT" value="INFOSUMZ_ACM_TEXT" />
</group>
<group name="G_INFODOC_TRX_GIFT_CARD" source="Q_INFOSUMZ_TRX_GIFT_CARD">
<element name="GIFT_CARD_TEXT" value="INFOSUMZ_GIFT_CARD_TEXT" />
</group>
<group name="G_INFODOC_SUMM_TOTALS" source="Q_INFODOC_SUMM_TOTALS">
<element name="SUMMARIZE_TEXT" value="INFOSUMZ_SUMMARIZE_TEXT" />
<element name="TOTAL_ORDERS" value="INFOSUMZ_TOTAL_ORDERS" />
<element name="PG_BREAK" value="INFOSUMZ_PG_BREAK" />
<element name="SUMMARIZE_SUBTOTAL" value="INFOSUMZ_SUMMARIZE_SUBTOTAL" />
<element name="SUMMARIZE_DELIVERY" value="INFOSUMZ_SUMMARIZE_DELIVERY" />
<element name="SUMMARIZE_DISCOUNTS" value="INFOSUMZ_SUMMARIZE_DISCOUNTS" />
<element name="SUMMARIZE_TAX" value="INFOSUMZ_SUMMARIZE_TAX" />
<element name="SUMMARIZE_TOTAL" value="INFOSUMZ_SUMMARIZE_TOTAL" />
<element name="INFOSUMZ_SUMMARIZE_FEE" value="INFOSUMZ_SUMMARIZE_FEE" />
</group>
</group>
</group>
</group>
<group name="G_INFODOC_ONE" source="Q_INFODOC_CBI_ONE">
<element name="BILLING_NUMBER" value="BILLING_NUMBER77" />
<element name="CURRENCY" value="CURRENCY77" />
<element name="TERMS" value="TERMS77" />
<element name="BILL_FROM_DATE" value="BILL_FROM_DATE77" />
<element name="BILL_TO_DATE" value="BILL_TO_DATE77" />
<element name="PAYMENT_DUE" value="PAYMENT_DUE77" />
<element name="CBI_EXTAMT_INCL_DELVY" value="CBI_EXTAMT_INCL_DELVY77" />
<element name="CBI_EXTAMT_INCL_DELVY_EX_FEE" value="CBI_EXTAMT_INCL_DELVY_EX_FEE77" />
<element name="CBI_PROMO_AND_DISC" value="CBI_PROMO_AND_DISC77" />
<element name="CBI_TAX" value="CBI_TAX77" />
<element name="CBI_FEE_AMT" value="CBI_FEE_AMT77" />
<element name="CBI_AMOUNT_DUE" value="CBI_AMOUNT_DUE77" />
<element name="FLO_CODE" value="SCANLINE77" />
<element name="PDOC_LAYOUT3" value="PD_LAYOUT377" />
<element name="DOC_TITLE" value="DOC_TITLE77" />
<element name="FEE_OPTION" value="FEE_OPTION" />
<group name="G_INFODOC_ONE_SOFTHEADERS" source="Q_INFODOC_ONE_SOFTHEADERS">
<element name="SFHDR1" value="INFOONE_SFHDR1" />
<element name="SFHDR2" value="INFOONE_SFHDR2" />
<element name="SFHDR3" value="INFOONE_SFHDR3" />
<element name="SFHDR4" value="INFOONE_SFHDR4" />
<element name="SFHDR5" value="INFOONE_SFHDR5" />

</group>
<group name="G_INFODOC_ONE_TOTALS" source="Q_INFODOC_ONE_TOTALS">
<element name="SUMMARIZE_TEXT" value="INFOONE_SUMMARIZE_TEXT" />
<element name="TOTAL_ORDERS" value="INFOONE_TOTAL_ORDERS" />
<element name="PG_BREAK" value="INFOONE_PG_BREAK" />
<element name="SUMMARIZE_SUBTOTAL" value="INFOONE_SUMMARIZE_SUBTOTAL" />
<element name="SUMMARIZE_DELIVERY" value="INFOONE_SUMMARIZE_DELIVERY" />
<element name="SUMMARIZE_DISCOUNTS" value="INFOONE_SUMMARIZE_DISCOUNTS" />
<element name="SUMMARIZE_TAX" value="INFOONE_SUMMARIZE_TAX" />
<element name="SUMMARIZE_TOTAL" value="INFOONE_SUMMARIZE_TOTAL" />
<element name="SUMMARIZE_FEE" value="INFOONE_SUMMARIZE_FEE" />
</group>
</group>
</group>
</group>
</group>
<group name="G_SOX_CONTROL" source="Q_SOX_CONTROL">
<element name="TOTAL_CUSTOMERS" value="TOTAL_CUSTOMERS" />
<element name="TOTAL_INVOICES" value="TOTAL_INVOICES" />
<element name="TOTAL_AMOUNT" value="TOTAL_AMOUNT" />
</group>
</dataStructure>
<dataTrigger name="afterReportTrigger" source="xx_ar_print_summbill.afterreport"/>
</dataTemplate>