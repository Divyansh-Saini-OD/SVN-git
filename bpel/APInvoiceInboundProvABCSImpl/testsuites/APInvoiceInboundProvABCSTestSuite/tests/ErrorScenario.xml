<?xml version="1.0" encoding="UTF-8" ?>
<!-- Generated by Oracle SCA Test Modeler version 1.0 at [8/23/11 8:24 PM]. -->
<compositeTest compositeDN="APInvoiceInboundProvABCSImpl" xmlns="http://xmlns.oracle.com/sca/2006/test">
  <about/>
  <initiate serviceName="CreateAPInvoiceImplService_ep" operation="createAPInvoice" isAsync="false" delay="PT0S">
    <message>
      <part partName="payload">
        <content>
          <ApInvoiceEBM xmlns="http://www.officedepot.com/TDS/APInvoiceInboundProvABCSImpl/APInvoiceEBM">
            <ApInvoiceEBO>
              <ApInvoiceHeader>
                <InvoiceNum>NEX-01-09Aug-12</InvoiceNum>
                <PONumber>20000956_1</PONumber>
                <VendorName/>
                <VendorSiteCode/>
                <Source>US_OD_TDS_EDI_1</Source>
                <InvoiceDate>08092011</InvoiceDate>
                <InvoiceTypeLookupCode/>
                <InvoiceAmount>10</InvoiceAmount>
              </ApInvoiceHeader>
              <ApInvoiceDetails>
                <ApInvoiceDetail>
                  <LineNumber>1</LineNumber>
                  <LineLookupTypeCode>ITEM</LineLookupTypeCode>
                  <Amount>10</Amount>
                  <DistCodeConcatenated/>
                  <PONumber>20000956_1</PONumber>
                  <POLineNumber>1</POLineNumber>
                  <POShipmentNumber>1</POShipmentNumber>
                  <ProjectId>0</ProjectId>
                  <TaskId>0</TaskId>
                  <ExpenditureType>ExpenditureType301</ExpenditureType>
                  <ExpenditueItemDate>08092011</ExpenditueItemDate>
                  <ExpenditureOrganizationId>0</ExpenditureOrganizationId>
                  <PAQuantity>304</PAQuantity>
                  <QuantityInvoiced>305</QuantityInvoiced>
                  <UnitPrice>306</UnitPrice>
                  <AccountingDate>08092011</AccountingDate>
                  <Description>Description308</Description>
                </ApInvoiceDetail>
                <ApInvoiceDetail>
                  <LineNumber>2</LineNumber>
                  <LineLookupTypeCode>ITEM</LineLookupTypeCode>
                  <Amount>10</Amount>
                  <DistCodeConcatenated/>
                  <PONumber>20000956_1</PONumber>
                  <POLineNumber>1</POLineNumber>
                  <POShipmentNumber>1</POShipmentNumber>
                  <ProjectId>0</ProjectId>
                  <TaskId>0</TaskId>
                  <ExpenditureType>ExpenditureType301</ExpenditureType>
                  <ExpenditueItemDate>08092011</ExpenditueItemDate>
                  <ExpenditureOrganizationId>0</ExpenditureOrganizationId>
                  <PAQuantity>304</PAQuantity>
                  <QuantityInvoiced>305</QuantityInvoiced>
                  <UnitPrice>306</UnitPrice>
                  <AccountingDate>08092011</AccountingDate>
                  <Description>Description308</Description>
                </ApInvoiceDetail>
              </ApInvoiceDetails>
            </ApInvoiceEBO>
          </ApInvoiceEBM>
        </content>
      </part>
    </message>
  </initiate>
  <wireActions wireSource="CreateAPInvoiceImplService_ep" operation="createAPInvoice">
    <assert comparisonMethod="xml-similar">
      <expected>
        <location key="output"/>
        <message>
          <part partName="payload">
            <content>
              <APInvoiceResponseEBM xmlns="http://xmlns.officedepot.com/TDS/APInvoiceInboundProvABCSImpl/APInvoiceResponseEBM">
                <Status>E</Status>
                <Message>Purchase Order does not Exist: 20000956_1 - Exception Raised: ORA-01403: no data foundInvoice Lines are greater than PO Lines for Purchase Order Number: 20000956_1Error in finding in Vendor Site details: ORA-01403: no data foundError in finding in exchange rate type: ORA-01403: no data foundError in finding po line detail: ORA-01403: no data foundError in finding po line location detail: ORA-01403: no data foundError in finding po line detail: ORA-01403: no data foundError in finding po line location detail: ORA-01403: no data found</Message>
              </APInvoiceResponseEBM>
            </content>
          </part>
        </message>
      </expected>
    </assert>
  </wireActions>
</compositeTest>
