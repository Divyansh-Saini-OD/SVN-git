<?xml version="1.0" encoding="UTF-8" ?>
<?oracle-xsl-mapper
  <!-- SPECIFICATION OF MAP SOURCES AND TARGETS, DO NOT MODIFY. -->
  <mapSources>
    <source type="XSD">
      <schema location="SASC3800_V_1.xsd"/>
      <rootElement name="Root-Element" namespace="http://TargetNamespace.com/ServiceName"/>
    </source>
  </mapSources>
  <mapTargets>
    <target type="XSD">
      <schema location="MailCKDBOut_table.xsd"/>
      <rootElement name="XxArMailCheckHoldsCollection" namespace="http://xmlns.oracle.com/pcbpel/adapter/db/top/MailCKDBOut"/>
    </target>
  </mapTargets>
  <!-- GENERATED BY ORACLE XSL MAPPER 10.1.3.3.0(build 070615.0525) AT [TUE JAN 15 17:41:07 EST 2008]. -->
?>
<xsl:stylesheet version="1.0"
                xmlns:bpws="http://schemas.xmlsoap.org/ws/2003/03/business-process/"
                xmlns:ehdr="http://www.oracle.com/XSL/Transform/java/oracle.tip.esb.server.headers.ESBHeaderFunctions"
                xmlns:xsd="http://www.w3.org/2001/XMLSchema"
                xmlns:hwf="http://xmlns.oracle.com/bpel/workflow/xpath"
                xmlns:nxsd="http://xmlns.oracle.com/pcbpel/nxsd"
                xmlns:extn="http://xmlns.oracle.com/pcbpel/nxsd/extensions"
                xmlns:xp20="http://www.oracle.com/XSL/Transform/java/oracle.tip.pc.services.functions.Xpath20"
                xmlns:xref="http://www.oracle.com/XSL/Transform/java/oracle.tip.xref.xpath.XRefXPathFunctions"
                xmlns:bt="http://www.oracle.com/XSL/Transform/java/oracle.bt.CustomExtensionFunctions"
                xmlns:ns0="http://xmlns.oracle.com/pcbpel/adapter/db/top/MailCKDBOut"
                xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
                xmlns:tns="http://TargetNamespace.com/ServiceName"
                xmlns:ora="http://schemas.oracle.com/xpath/extension"
                xmlns:ids="http://xmlns.oracle.com/bpel/services/IdentityService/xpath"
                xmlns:orcl="http://www.oracle.com/XSL/Transform/java/oracle.tip.pc.services.functions.ExtFunc"
                exclude-result-prefixes="xsl xsd nxsd extn tns ns0 bpws ehdr hwf xp20 xref ora ids orcl">
  <xsl:template match="/">
    <ns0:XxArMailCheckHoldsCollection>
      <xsl:for-each select="/tns:Root-Element/tns:C3800-MAILCHECK-RECORD">
        <ns0:XxArMailCheckHolds>
          <ns0:refMailcheckId>
            <xsl:value-of select="normalize-space(tns:C3800-MAILCHECK-ID)"/>
          </ns0:refMailcheckId>
          <ns0:posTransactionNumber>
            <xsl:value-of select="concat(tns:C3800-POS-TRANSACTION/tns:C3800-POS-SALE-LOC,tns:C3800-POS-TRANSACTION/tns:C3800-POS-SALE-DT,tns:C3800-POS-TRANSACTION/tns:C3800-POS-REG,tns:C3800-POS-TRANSACTION/tns:C3800-POS-TRAN)"/>
          </ns0:posTransactionNumber>
          <ns0:aopsOrderNumber>
             <xsl:value-of select="concat(tns:C3800-AOPS-ORDER-NBR/tns:C3800-AOPS-ORDER-NBR,tns:C3800-AOPS-ORDER-NBR/tns:C3800-AOPS-ORDER-SUB)"/>
<!--            <xsl:value-of select="concat(tns:C3800-AOPS-ORDER-NBR/tns:C3800-AOPS-ORDER-NBR,tns:C3800-AOPS-ORDER-NBR/tns:C3800-AOPS-ORDER-SUB,tns:C3800-AOPS-ORDER-NBR/tns:C3800-AOPS-ORDER-VERSION)"/>  -->
          </ns0:aopsOrderNumber>
          <ns0:checkAmount>
            <xsl:value-of select="normalize-space(tns:C3800-CHECK-AMOUNT)"/>
          </ns0:checkAmount>
          <ns0:customerId>
            <xsl:value-of select="normalize-space(tns:C3800-CUSTOMER-ID)"/>
          </ns0:customerId>
          <ns0:storeCustomerName>
            <xsl:value-of select="normalize-space(tns:C3800-CUST-NAME)"/>
          </ns0:storeCustomerName>
          <ns0:addressLine1>
            <xsl:value-of select="normalize-space(tns:C3800-ADDR-LINE-1)"/>
          </ns0:addressLine1>
          <ns0:addressLine2>
            <xsl:value-of select="normalize-space(tns:C3800-ADDR-LINE-2)"/>
          </ns0:addressLine2>
          <ns0:city>
            <xsl:value-of select="normalize-space(tns:C3800-CITY)"/>
          </ns0:city>
          <ns0:stateProvince>
            <xsl:value-of select="normalize-space(tns:C3800-STATE)"/>
          </ns0:stateProvince>
          <ns0:postalCode>
            <xsl:value-of select="normalize-space(tns:C3800-POSTAL-CODE)"/>
          </ns0:postalCode>
          <ns0:country>
            <xsl:value-of select="normalize-space(tns:C3800-COUNTRY-CD)"/>
          </ns0:country>
          <ns0:phoneNumber>
            <xsl:value-of select="concat(tns:C3800-PHONE/tns:C3800-PHONE-NBR,tns:C3800-PHONE/tns:C3800-PHONE-EXT)"/>
          </ns0:phoneNumber>
          <xsl:choose>
            <xsl:when test='tns:C3800-HOLD-STATUS = ""'>
              <ns0:holdStatus>
                <xsl:text disable-output-escaping="no">N</xsl:text>
              </ns0:holdStatus>
            </xsl:when>
            <xsl:otherwise>
              <ns0:holdStatus>
                <xsl:value-of select="normalize-space(tns:C3800-HOLD-STATUS)"/>
              </ns0:holdStatus>
            </xsl:otherwise>
          </xsl:choose>
          <xsl:choose>
            <xsl:when test='tns:C3800-DELETE-STATUS = ""'>
              <ns0:deleteStatus>
                <xsl:text disable-output-escaping="no">N</xsl:text>
              </ns0:deleteStatus>
            </xsl:when>
            <xsl:otherwise>
              <ns0:deleteStatus>
                <xsl:value-of select="normalize-space(tns:C3800-DELETE-STATUS)"/>
              </ns0:deleteStatus>
            </xsl:otherwise>
          </xsl:choose>
          <ns0:creationDate>
            <xsl:value-of select="xp20:current-dateTime()"/>
          </ns0:creationDate>
          <ns0:createdBy>
            <xsl:text disable-output-escaping="no">3</xsl:text>
          </ns0:createdBy>
          <ns0:lastUpdateDate>
            <xsl:value-of select="xp20:current-dateTime()"/>
          </ns0:lastUpdateDate>
          <ns0:lastUpdateBy>
            <xsl:text disable-output-escaping="no">3</xsl:text>
          </ns0:lastUpdateBy>
          <ns0:processCode>
            <xsl:text disable-output-escaping="no">PENDING</xsl:text>
          </ns0:processCode>
        </ns0:XxArMailCheckHolds>
      </xsl:for-each>
    </ns0:XxArMailCheckHoldsCollection>
  </xsl:template>
</xsl:stylesheet>
