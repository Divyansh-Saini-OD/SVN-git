<?xml version="1.0" encoding="UTF-8" ?>
<?oracle-xsl-mapper
  <!-- SPECIFICATION OF MAP SOURCES AND TARGETS, DO NOT MODIFY. -->
  <mapSources>
    <source type="XSD">
      <schema location="POS.xsd"/>
      <rootElement name="POS" namespace="http://www.thiscompany.com/ns/sales"/>
    </source>
  </mapSources>
  <mapTargets>
    <target type="XSD">
      <schema location="APPS_XX_BPEL_SVCJDAPOSREAD_XX_OM_POS_SHIP_CONF_PKG-24OD_PO.xsd"/>
      <rootElement name="InputParameters" namespace="http://xmlns.oracle.com/pcbpel/adapter/db/APPS/XX_BPEL_SVCJDAPOSREAD/XX_OM_POS_SHIP_CONF_PKG-24OD_PO/"/>
    </target>
  </mapTargets>
  <!-- GENERATED BY ORACLE XSL MAPPER 10.1.3.1.0(build 061009.0802) AT [MON JUN 25 14:33:43 IST 2007]. -->
?>
<xsl:stylesheet version="1.0"
                xmlns:xp20="http://www.oracle.com/XSL/Transform/java/oracle.tip.pc.services.functions.Xpath20"
                xmlns:db="http://xmlns.oracle.com/pcbpel/adapter/db/APPS/XX_BPEL_SVCJDAPOSREAD/XX_OM_POS_SHIP_CONF_PKG-24OD_PO/"
                xmlns:bpws="http://schemas.xmlsoap.org/ws/2003/03/business-process/"
                xmlns:o1="http://www.thiscompany.com/ns/sales"
                xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
                xmlns:ora="http://schemas.oracle.com/xpath/extension"
                xmlns:ehdr="http://www.oracle.com/XSL/Transform/java/oracle.tip.esb.server.headers.ESBHeaderFunctions"
                xmlns:ns0="http://www.w3.org/2001/XMLSchema"
                xmlns:orcl="http://www.oracle.com/XSL/Transform/java/oracle.tip.pc.services.functions.ExtFunc"
                xmlns:ids="http://xmlns.oracle.com/bpel/services/IdentityService/xpath"
                xmlns:hwf="http://xmlns.oracle.com/bpel/workflow/xpath"
                exclude-result-prefixes="xsl o1 ns0 db xp20 bpws ora ehdr orcl ids hwf">
  <xsl:template match="/">
    <db:InputParameters>
      <P_ORDER_NUMBER>
        <xsl:value-of select="/o1:POS/OrderDetail/OrderHeader/OrderNumber"/>
      </P_ORDER_NUMBER>
      <xsl:for-each select="/o1:POS/OrderDetail/OrderHeader">
        <P_ORDER_HEADER_REC>
          <ORDER_NUMBER>
            <xsl:value-of select="OrderNumber"/>
          </ORDER_NUMBER>
          <TRANSACTION_TYPE>
            <xsl:value-of select="../../TransactionType"/>
          </TRANSACTION_TYPE>
          <POS_TRANSACTION_NUM>
            <xsl:value-of select="POSTransactionNo"/>
          </POS_TRANSACTION_NUM>
        </P_ORDER_HEADER_REC>
      </xsl:for-each>
      <xsl:for-each select="/o1:POS/OrderDetail/OrderHeader/OrderLine">
        <P_ORDER_LINES_TBL>
          <P_ORDER_LINES_TBL_ITEM>
            <ORDER_NUMBER>
              <xsl:value-of select="../OrderNumber"/>
            </ORDER_NUMBER>
            <SKU_NUMBER>
              <xsl:value-of select="SkuNumber"/>
            </SKU_NUMBER>
            <LINE_NUMBER>
              <xsl:value-of select="LineNum"/>
            </LINE_NUMBER>
            <UOM_CODE>
              <xsl:value-of select="UomCode"/>
            </UOM_CODE>
            <WAREHOUSE_CODE>
              <xsl:value-of select="WarehouseCode"/>
            </WAREHOUSE_CODE>
            <SALESREP_NAME>
              <xsl:value-of select="SalesRepName"/>
            </SALESREP_NAME>
            <TAX_AMT>
              <xsl:value-of select="TaxAmt"/>
            </TAX_AMT>
            <SELLING_PRICE>
              <xsl:value-of select="SellingPrice"/>
            </SELLING_PRICE>
            <SHIPPED_QUANTITY>
              <xsl:value-of select="ShippedQuantity"/>
            </SHIPPED_QUANTITY>
            <SERIAL_NUMBER>
              <xsl:value-of select="SerialNum"/>
            </SERIAL_NUMBER>
            <LINE_STATUS>
              <xsl:value-of select="LineStatus"/>
            </LINE_STATUS>
            <TAX_CODE>
              <xsl:value-of select="TaxCode"/>
            </TAX_CODE>
          </P_ORDER_LINES_TBL_ITEM>
        </P_ORDER_LINES_TBL>
      </xsl:for-each>
      <xsl:for-each select="/o1:POS/OrderDetail/OrderHeader/PaymentDetail">
        <P_ORDER_PAYMENTS_TBL>
          <P_ORDER_PAYMENTS_TBL_ITEM>
            <ORDER_NUMBER>
              <xsl:value-of select="../OrderNumber"/>
            </ORDER_NUMBER>
            <LINE_NUMBER>
              <xsl:value-of select="LineNum"/>
            </LINE_NUMBER>
            <PAYMENT_METHOD>
              <xsl:value-of select="PaymentMethod"/>
            </PAYMENT_METHOD>
            <PAYMENT_INSTRUMENT>
              <xsl:value-of select="PaymentInstrument"/>
            </PAYMENT_INSTRUMENT>
            <PAYMENT_DETAILS>
              <xsl:value-of select="PaymentDetails"/>
            </PAYMENT_DETAILS>
            <EXPIRATION_DATE>
              <xsl:value-of select="xp20:current-dateTime()"/>
            </EXPIRATION_DATE>
            <PAYMENT_AMOUNT>
              <xsl:value-of select="PaymentAmount"/>
            </PAYMENT_AMOUNT>
            <ACCT_HOLDER_NAME>
              <xsl:value-of select="HolderName"/>
            </ACCT_HOLDER_NAME>
            <ACCOUNT_NUMBER>
              <xsl:value-of select="AccountNumber"/>
            </ACCOUNT_NUMBER>
            <ROUTING_NUMBER>
              <xsl:value-of select="RoutingNumber"/>
            </ROUTING_NUMBER>
            <AUTHORIZATION_CODE>
              <xsl:value-of select="AuthorizationCode"/>
            </AUTHORIZATION_CODE>
          </P_ORDER_PAYMENTS_TBL_ITEM>
        </P_ORDER_PAYMENTS_TBL>
      </xsl:for-each>
      <X_ORDER_LINES_TBL_OUT>
        <X_ORDER_LINES_TBL_OUT_ITEM>
          <LINE_NUMBER>
            <xsl:value-of select="string(0)"/>
          </LINE_NUMBER>
        </X_ORDER_LINES_TBL_OUT_ITEM>
      </X_ORDER_LINES_TBL_OUT>
    </db:InputParameters>
  </xsl:template>
</xsl:stylesheet>
