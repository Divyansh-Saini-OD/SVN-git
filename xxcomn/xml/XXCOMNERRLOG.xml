<?xml version="1.0" encoding="WINDOWS-1252" ?>
<dataTemplate name="XXCOMNERRLOG" description="OD: Common Error Log" Version="1.0">
	<dataQuery>
		<sqlStatement name="Q_COM_ERR_LOG_MOD_PROG">
		<![CDATA[
			SELECT M.MODULE_NAME, M.PROGRAM_NAME, 
			sum(case when ( TRUNC(SYSDATE) - TRUNC(LAST_UPDATE_DATE) ) <= 7 then 1 else 0 end) AGE_LE7,
			sum(case when ( TRUNC(SYSDATE) - TRUNC(LAST_UPDATE_DATE) ) BETWEEN 8 AND 14 then 1 else 0 end) AGE_8_14,
			sum(case when ( TRUNC(SYSDATE) - TRUNC(LAST_UPDATE_DATE) ) BETWEEN 15 AND 28 then 1 else 0 end) AGE_15_28,
			sum(case when ( TRUNC(SYSDATE) - TRUNC(LAST_UPDATE_DATE) ) BETWEEN 29 AND 56 then 1 else 0 end) AGE_29_56,
			sum(case when ( TRUNC(SYSDATE) - TRUNC(LAST_UPDATE_DATE) ) >= 57 then 1 else 0 end) AGE_ME57,
			count(1) M_P_TOTAL
			FROM XX_COM_ERROR_LOG M
			GROUP BY M.MODULE_NAME, M.PROGRAM_NAME
			ORDER BY M.MODULE_NAME, M.PROGRAM_NAME		
		]]>
		</sqlStatement>
		<sqlStatement name="Q_COM_ERR_LOG_MOD">
		<![CDATA[
			SELECT M.MODULE_NAME,
			sum(case when ( TRUNC(SYSDATE) - TRUNC(LAST_UPDATE_DATE) ) <= 7 then 1 else 0 end) AGE_LE7,
			sum(case when ( TRUNC(SYSDATE) - TRUNC(LAST_UPDATE_DATE) ) BETWEEN 8 AND 14 then 1 else 0 end) AGE_8_14,
			sum(case when ( TRUNC(SYSDATE) - TRUNC(LAST_UPDATE_DATE) ) BETWEEN 15 AND 28 then 1 else 0 end) AGE_15_28,
			sum(case when ( TRUNC(SYSDATE) - TRUNC(LAST_UPDATE_DATE) ) BETWEEN 29 AND 56 then 1 else 0 end) AGE_29_56,
			sum(case when ( TRUNC(SYSDATE) - TRUNC(LAST_UPDATE_DATE) ) >= 57 then 1 else 0 end) AGE_ME57,
			count(1) M_P_TOTAL
			FROM XX_COM_ERROR_LOG M
			GROUP BY M.MODULE_NAME
			ORDER BY M.MODULE_NAME
		]]>
		</sqlStatement>
		<sqlStatement name="Q_COM_ERR_LOG_T">
		<![CDATA[
			SELECT 
			sum(case when ( TRUNC(SYSDATE) - TRUNC(LAST_UPDATE_DATE) ) <= 7 then 1 else 0 end) AGE_LE7,
			sum(case when ( TRUNC(SYSDATE) - TRUNC(LAST_UPDATE_DATE) ) BETWEEN 8 AND 14 then 1 else 0 end) AGE_8_14,
			sum(case when ( TRUNC(SYSDATE) - TRUNC(LAST_UPDATE_DATE) ) BETWEEN 15 AND 28 then 1 else 0 end) AGE_15_28,
			sum(case when ( TRUNC(SYSDATE) - TRUNC(LAST_UPDATE_DATE) ) BETWEEN 29 AND 56 then 1 else 0 end) AGE_29_56,
			sum(case when ( TRUNC(SYSDATE) - TRUNC(LAST_UPDATE_DATE) ) >= 57 then 1 else 0 end) AGE_ME57,
			count(1) M_P_TOTAL
			FROM XX_COM_ERROR_LOG
		]]>
		</sqlStatement>
	</dataQuery>
	<dataStructure>
		<group name="G_COM_ERR_LOG_MOD_PROG" source="Q_COM_ERR_LOG_MOD_PROG">
		    <element name="MODULE_NAME" value="MODULE_NAME" />
		    <element name="PROGRAM_NAME" value="PROGRAM_NAME" />
		    <element name="AGE_LE7" value="AGE_LE7" />
		    <element name="AGE_8_14" value="AGE_8_14" />
		    <element name="AGE_15_28" value="AGE_15_28" />
		    <element name="AGE_29_56" value="AGE_29_56" />
		    <element name="AGE_ME57" value="AGE_ME57" />
		    <element name="M_P_TOTAL" value="M_P_TOTAL" />
		</group>
		<group name="G_COM_ERR_LOG_MOD" source="Q_COM_ERR_LOG_MOD">
		    <element name="MODULE_NAME" value="MODULE_NAME" />
		    <element name="AGE_LE7" value="AGE_LE7" />
		    <element name="AGE_8_14" value="AGE_8_14" />
		    <element name="AGE_15_28" value="AGE_15_28" />
		    <element name="AGE_29_56" value="AGE_29_56" />
		    <element name="AGE_ME57" value="AGE_ME57" />
		    <element name="M_P_TOTAL" value="M_P_TOTAL" />
		</group>
		<group name="G_COM_ERR_LOG_T" source="Q_COM_ERR_LOG_T">
		    <element name="AGE_LE7" value="AGE_LE7" />
		    <element name="AGE_8_14" value="AGE_8_14" />
		    <element name="AGE_15_28" value="AGE_15_28" />
		    <element name="AGE_29_56" value="AGE_29_56" />
		    <element name="AGE_ME57" value="AGE_ME57" />
		    <element name="M_P_TOTAL" value="M_P_TOTAL" />
		</group>
	</dataStructure>
</dataTemplate>