package od.oracle.apps.xxmer.xxGsoPlmPOTracking.server;
import oracle.apps.fnd.framework.server.OAApplicationModuleImpl;

import oracle.apps.fnd.framework.server.*;
import oracle.apps.fnd.framework.*;
import oracle.jbo.Row;
import oracle.jbo.RowSetIterator;
import oracle.jbo.RowSetIterator.*;
import oracle.jbo.domain.Number;
//import od.oracle.apps.xxmer.xxGsoPlmPOTracking.server.*;
import oracle.apps.fnd.common.VersionInfo;
import oracle.apps.fnd.framework.webui.OAControllerImpl;
import oracle.apps.fnd.framework.webui.OAPageContext;
import oracle.jbo.server.ViewLinkImpl;
import oracle.apps.fnd.common.MessageToken;
import com.sun.java.util.collections.HashMap;  
import oracle.apps.fnd.framework.webui.OAPageContext;   
import oracle.apps.fnd.framework.webui.beans.OAWebBean; 
import oracle.apps.fnd.framework.webui.beans.*;
import oracle.apps.fnd.framework.webui.beans.OAWebBean;
import oracle.apps.fnd.common.VersionInfo;
//import oracle.apps.fnd.framework.webui.OAControllerImpl;
//import oracle.apps.fnd.framework.webui.OAPageContext;
import oracle.apps.fnd.framework.webui.beans.OAWebBean;
import oracle.apps.fnd.framework.webui.*;
import oracle.apps.fnd.framework.webui.beans.*;
import oracle.apps.fnd.framework.*;
import java.io.Serializable;
import com.sun.java.util.collections.HashMap;
import oracle.apps.fnd.framework.webui.OAPageContext;



//  ---------------------------------------------------------------
//  ---    File generated by Oracle Business Components for Java.
//  ---------------------------------------------------------------

public class xxGsoPlmPOTracking_AMImpl extends OAApplicationModuleImpl 
{
  /**
   * 
   * This is the default constructor (do not remove)
   */
  public xxGsoPlmPOTracking_AMImpl()
  {
  }




  /**
   * 
   * Sample main for debugging Business Components code using the tester.
   */
  public static void main(String[] args)
  {
    launchTester("od.oracle.apps.xxmer.xxGsoPlmPOTracking.server", "xxGsoPlmPOTracking_AMLocal");
  }



  /**
   * 
   * Container's getter for xxGsoPO_dtlNbvdtl_VO1
   */
  public xxGsoPO_dtlNbvdtl_VOImpl getxxGsoPO_dtlNbvdtl_VO1()
  {
    return (xxGsoPO_dtlNbvdtl_VOImpl)findViewObject("xxGsoPO_dtlNbvdtl_VO1");
  }


/*public void updatePOLateConfirm(String pAction, String pLine_id)
{
  try
  {
  System.out.println("In Invoke Method");
  OAViewObjectImpl pervo = getxxGsoPO_hdrNdtl_VO1();
  String existingWhereClause = pervo.getWhereClause();
  pervo.setWhereClauseParams(null);
  pervo.setWhereClause("pLineId = :1");
  pervo.setWhereClauseParam(0,new Number(pLine_id));
  pervo.executeQuery();
  pervo.setWhereClauseParams(null);
  pervo.setWhereClause(existingWhereClause);
      }
   catch(Exception exception1)
   {
        throw OAException.wrapperException(exception1);
   }
}*/

public void AssignmentAuditDetails(OAPageContext pageContext,OAWebBean webBean)   
  {   
 //   MasterVOImpl pvo = getMasterVO() ;
 //   pvo.executeQuery();   
  }  


public void getRowsSelected()
{

    
  // String rowReference = pageContext.getParameter(OAWebBeanConstants.EVENT_SOURCE_ROW_REFERENCE);
   // xxGsoPO_hdrNdtl_VORowImpl row=(xxGsoPO_hdrNdtl_VORowImpl)am.findRowByRef(rowreference);
  //  String lname = (String)row.getName();
   // OAViewObject vo = (OAViewObject)am.findViewObject(xxGsoPO_hdrNdtl_VO1);
   
   String msg5 =null;
   String msg4 =null;
   String msg6 = null;
   String selectedPO = new String();
   int selectedCount=0;

   xxGsoPO_dtlNkndtl_VOImpl pervo= getxxGsoPO_dtlNkndtl_VO2();
   //Row row[] = pervo.getAllRowsInRange();
   //String msg6 = "Range count" + row.length;
    int fetchedRowCount = pervo.getFetchedRowCount();
    RowSetIterator Iter = pervo.createRowSetIterator("Iter");
      if (fetchedRowCount > 0) 
      { 
         Iter.setRangeStart(0); 
         Iter.setRangeSize(fetchedRowCount);
        // msg4 = "count" + fetchedRowCount;
        for (int i = 0; i < fetchedRowCount; i++)
        {
         Row row = (xxGsoPO_dtlNkndtl_VORowImpl)Iter.getRowAtRangeIndex(i);
         xxGsoPO_dtlNkndtl_VORowImpl rowi =  (xxGsoPO_dtlNkndtl_VORowImpl)row;
          msg6 = "select flag.." + rowi.getpoSelectFlag()+ i ;
         if (rowi.getpoSelectFlag()!= null && rowi.getpoSelectFlag().equals("Y"))       
          {
             selectedCount++ ; 
        //     selectedPO = selectedPO + rowi.getPoNumber() +",";
             selectedPO = selectedPO + rowi.getPoNumber() +"-"+ rowi.getPoLineNo() +  ",";
           //  msg5 = "in the Loop for times:" + i;
         }
       // msg5 = " out of if Loop";

         
        //   Row = (xxGsoPO_hdrNdtl_VORowImpl)Iter.getRowAtRangeIndex(i);
        //throw new OAException("count:"+msg4 + msg5 + msg6+ "Selected:" + selectedCount,OAException.INFORMATION);
        //return "ok";
             
          }
          
// Always close the iterator when you're done.
Iter .closeRowSetIterator();
throw new OAException("Selected Count:" + selectedCount + " Selected POs:" + selectedPO ,OAException.INFORMATION);
    

  /* 
   for (int i=0;i<row.length;i++)
     {
       xxGsoPO_hdrNdtl_VORowImpl rowi = (xxGsoPO_hdrNdtl_VORowImpl)row[i];
       if (rowi.getpoSelectFlag()!= null && rowi.getpoSelectFlag().equals("Y"))
        {

         msg5 = "in the Loop";
         rowi.remove();
        }
        msg5 = " out of if Loop";
      }
       msg5 = " out of For Loop"; 

  */
 //  throw new OAException(msg6 + msg5,OAException.INFORMATION);
   
      
    //return "OK";
      }
}

  /**
   * 
   * Container's getter for xxGsoPO_hdrNdtl_VO1
   */
  public xxGsoPO_hdrNdtl_VOImpl getxxGsoPO_hdrNdtl_VO1()
  {
    return (xxGsoPO_hdrNdtl_VOImpl)findViewObject("xxGsoPO_hdrNdtl_VO1");
  }

   public void getSearchResult()
   {
     /*pageContext.setForwardURL(
      "OA.jsp?page=/oracle/apps/xxmer/xxGsoPlmPOTracking/webui/xxGsoPOshipmentTrackingPG"
      , null //not needed as we are retaining menu context
      ,OAWebBeanConstants.KEEP_MENU_CONTEXT
      , null //not needed as we are retaining menu context
      ,null // no parameters are needed
      ,true //retain AM
      ,OAWebBeanConstants.ADD_BREAD_CRUMB_NO
      ,OAWebBeanConstants.IGNORE_MESSAGES);
     */ 
   }













 public void initDetails(String poLineId)
  {
    
   xxGsoPO_dtlNkndtl_VOImpl voPoKNlines = getxxGsoPO_dtlNkndtl_VO2();
   if (voPoKNlines == null)
   {
      MessageToken[] errTokens = { new MessageToken("OBJECT_NAME", "xxGsoPO_dtlNkndtl_VO")};
      throw new OAException("ONT", "FWK_TBX_OBJECT_NOT_FOUND", errTokens);
   }
   voPoKNlines.initQuery(poLineId);


   xxGsoPO_dtlNbvdtl_VOImpl voPoBVlines = getxxGsoPO_dtlNbvdtl_VO1();
   if (voPoBVlines == null)
   {
      MessageToken[] errTokens = { new MessageToken("OBJECT_NAME", "xxGsoPO_dtlNbvdtl_VO")};
      throw new OAException("ONT", "FWK_TBX_OBJECT_NOT_FOUND", errTokens);
   }
   voPoBVlines.initQuery(poLineId);

 /*  xxomLineAdjustmentsVOImpl voLineAdjust = getxxomLineAdjustmentsVO1();
   if (voLineAdjust == null)
   {
      MessageToken[] errTokens = { new MessageToken("OBJECT_NAME", "getxxomLineAdjustmentsVO1")};
      throw new OAException("ONT", "FWK_TBX_OBJECT_NOT_FOUND", errTokens);
   }
   
   voLineAdjust.initQuery(HeaderId,LineId); */
   
  } // end initDetails()

  /**
   * 
   * Container's getter for xxGsoPoBagentPoplist1
   */
  public xxGsoPoBagentPoplistImpl getxxGsoPoBagentPoplist1()
  {
    return (xxGsoPoBagentPoplistImpl)findViewObject("xxGsoPoBagentPoplist1");
  }

  /**
   * 
   * Container's getter for xxGsoPoStatusPoplist1
   */
  public xxGsoPoStatusPoplistImpl getxxGsoPoStatusPoplist1()
  {
    return (xxGsoPoStatusPoplistImpl)findViewObject("xxGsoPoStatusPoplist1");
  }

  /**
   * 
   * Container's getter for xxGsoReasonCd_VO1
   */
  public xxGsoReasonCd_VOImpl getxxGsoReasonCd_VO1()
  {
    return (xxGsoReasonCd_VOImpl)findViewObject("xxGsoReasonCd_VO1");
  }

  /**
   * 
   * Container's getter for xxGsoPoCategoryPoplist1
   */
  public xxGsoPoCategoryPoplistImpl getxxGsoPoCategoryPoplist1()
  {
    return (xxGsoPoCategoryPoplistImpl)findViewObject("xxGsoPoCategoryPoplist1");
  }

  /**
   * 
   * Container's getter for xxGsoPoCountryPoplist1
   */
  public xxGsoPoCountryPoplistImpl getxxGsoPoCountryPoplist1()
  {
    return (xxGsoPoCountryPoplistImpl)findViewObject("xxGsoPoCountryPoplist1");
  }

  /**
   * 
   * Container's getter for xxGsoPoVendorNoPoplist1
   */
  public xxGsoPoVendorNoPoplistImpl getxxGsoPoVendorNoPoplist1()
  {
    return (xxGsoPoVendorNoPoplistImpl)findViewObject("xxGsoPoVendorNoPoplist1");
  }

  /**
   * 
   * Container's getter for xxGsoPoCtnMovePoplist1
   */
  public xxGsoPoCtnMovePoplistImpl getxxGsoPoCtnMovePoplist1()
  {
    return (xxGsoPoCtnMovePoplistImpl)findViewObject("xxGsoPoCtnMovePoplist1");
  }

  /**
   * 
   * Container's getter for xxGsoPlmPO_HdrDtl1
   */
  public xxGsoPlmPO_HdrDtlImpl getxxGsoPlmPO_HdrDtl1()
  {
    return (xxGsoPlmPO_HdrDtlImpl)findViewObject("xxGsoPlmPO_HdrDtl1");
  }














  /**
   * 
   * Container's getter for xxGsoPO_dtlNkndtl_VO1
   */
  public xxGsoPO_dtlNkndtl_VOImpl getxxGsoPO_dtlNkndtl_VO1()
  {
    return (xxGsoPO_dtlNkndtl_VOImpl)findViewObject("xxGsoPO_dtlNkndtl_VO1");
  }

  /**
   * 
   * Container's getter for xxGsoPO_dtlNkndtl_VO2
   */
  public xxGsoPO_dtlNkndtl_VOImpl getxxGsoPO_dtlNkndtl_VO2()
  {
    return (xxGsoPO_dtlNkndtl_VOImpl)findViewObject("xxGsoPO_dtlNkndtl_VO2");
  }

  /**
   * 
   * Container's getter for xxGsoPO_Dtl_VO1
   */
  public xxGsoPO_Dtl_VOImpl getxxGsoPO_Dtl_VO1()
  {
    return (xxGsoPO_Dtl_VOImpl)findViewObject("xxGsoPO_Dtl_VO1");
  }

  /**
   * 
   * Container's getter for xxGsoPoMoNamePoplist1
   */
  public xxGsoPoMoNamePoplistImpl getxxGsoPoMoNamePoplist1()
  {
    return (xxGsoPoMoNamePoplistImpl)findViewObject("xxGsoPoMoNamePoplist1");
  }

  /**
   * 
   * Container's getter for xxGsoPoDeptPoplist1
   */
  public xxGsoPoDeptPoplistImpl getxxGsoPoDeptPoplist1()
  {
    return (xxGsoPoDeptPoplistImpl)findViewObject("xxGsoPoDeptPoplist1");
  }

  /**
   * 
   * Container's getter for xxGsoPoShipStatusPoplist1
   */
  public xxGsoPoShipStatusPoplistImpl getxxGsoPoShipStatusPoplist1()
  {
    return (xxGsoPoShipStatusPoplistImpl)findViewObject("xxGsoPoShipStatusPoplist1");
  }

  /**
   * 
   * Container's getter for xxGsoPoShipReasonCdLOV_VO1
   */
  public xxGsoPoShipReasonCdLOV_VOImpl getxxGsoPoShipReasonCdLOV_VO1()
  {
    return (xxGsoPoShipReasonCdLOV_VOImpl)findViewObject("xxGsoPoShipReasonCdLOV_VO1");
  }

  /**
   * 
   * Container's getter for xxGsoPoGsoMOPoplist1
   */
  public xxGsoPoGsoMOPoplistImpl getxxGsoPoGsoMOPoplist1()
  {
    return (xxGsoPoGsoMOPoplistImpl)findViewObject("xxGsoPoGsoMOPoplist1");
  }

  /**
   * 
   * Container's getter for xxGsoPoBvcodeLOV_VO1
   */
  public xxGsoPoBvcodeLOV_VOImpl getxxGsoPoBvcodeLOV_VO1()
  {
    return (xxGsoPoBvcodeLOV_VOImpl)findViewObject("xxGsoPoBvcodeLOV_VO1");
  }

public void addScrollBarsToTable(OAPageContext pageContext, 
   OAWebBean webBean, 
   String preRawTextBean, 
   String postRawTextBean, 
   boolean horizontal_scroll, String width, 
   boolean vertical_scroll, String height)
   {
   String l_height = "600";
   String l_width = "950";
   pageContext.putMetaTag("toHeight", "<style type=\"text/css\">.toHeight {height:24px; color:black;}</style>");
   OARawTextBean startDIVTagRawBean = (OARawTextBean) webBean.findChildRecursive(preRawTextBean);

     if (startDIVTagRawBean == null)
    {
       throw new OAException("Not able to retrieve raw text bean just above the table bean. Please verify the id of pre raw text bean.");
      }

     OARawTextBean endDIVTagRawBean = (OARawTextBean) webBean.findChildRecursive(postRawTextBean);
     if (endDIVTagRawBean == null)
     {
        throw new OAException("Not able to retrieve raw text bean just below the table bean. Please verify the id of post raw text bean.");
       }
    if (!((height == null) || ("".equals(height))))
    {
     try
    {
       Integer.parseInt(height);
       l_height = height;
    }
     catch (Exception e)
     {
       throw new OAException("Height should be an integer value.");
     }
   }

   if (!((width == null) || ("".equals(width))))
   {
    try
   {
     Integer.parseInt(width);
      l_width = width;
   }
    catch (Exception e)
   {
      throw new OAException("Width should be an integer value.");
   }
 }

  String divtext = "";
   if ((horizontal_scroll) && (vertical_scroll))
   {
   divtext = "<DIV style='width:" + l_width + ";height:" + l_height + ";overflow:auto;padding-bottom:20px;border:0'>";
   }
   else if (horizontal_scroll)
   {
   divtext = "<DIV style='width:" + l_width + ";overflow-x:auto;padding-bottom:20px;border:0'>";
   }
   else if (vertical_scroll)
   {
    divtext = "<DIV style='height:" + l_height + ";overflow-y:auto;padding-bottom:20px;border:0'>";
   }
  else
  {
    throw new OAException("Both vertical and horizintal scrollbars are passed as false,hence, no scrollbars will be rendered.");
  }
    startDIVTagRawBean.setText(divtext);
    endDIVTagRawBean.setText("</DIV>");
  }

  /**
   * 
   * Container's getter for xxGsoPO_Hdr_VO1
   */
  public xxGsoPO_Hdr_VOImpl getxxGsoPO_Hdr_VO1()
  {
    return (xxGsoPO_Hdr_VOImpl)findViewObject("xxGsoPO_Hdr_VO1");
  }

  /**
   * 
   * Container's getter for xxGsoPO_Dtl_VO2
   */
  public xxGsoPO_Dtl_VOImpl getxxGsoPO_Dtl_VO2()
  {
    return (xxGsoPO_Dtl_VOImpl)findViewObject("xxGsoPO_Dtl_VO2");
  }

  /**
   * 
   * Container's getter for xxGsoHdrDtl_VL1
   */
  public ViewLinkImpl getxxGsoHdrDtl_VL1()
  {
    return (ViewLinkImpl)findViewLink("xxGsoHdrDtl_VL1");
  }




   
}



