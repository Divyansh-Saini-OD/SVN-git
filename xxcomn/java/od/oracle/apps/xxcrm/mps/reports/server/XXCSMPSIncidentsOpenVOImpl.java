package od.oracle.apps.xxcrm.mps.reports.server;
import oracle.apps.fnd.framework.server.OAViewObjectImpl;
import oracle.apps.fnd.framework.OAException;
//  ---------------------------------------------------------------
//  ---    File generated by Oracle Business Components for Java.
//  ---------------------------------------------------------------

public class XXCSMPSIncidentsOpenVOImpl extends OAViewObjectImpl 
{
  /**
   * 
   * This is the default constructor (do not remove)
   */
  public XXCSMPSIncidentsOpenVOImpl()
  {
  }

  public void initMPSIncidentsOpen( String customerName, String toDeliveryDate, 
                                  String fromDeliveryDate, String incidentNumber, 
                                  String incidentType, String incidentStatus,
                                  String CustomerNumber, String ExpectedRespDate, 
                                  String ExpectedResolDate, String ProgramType, 
                                  String SerialNumber, String Summary)
  
  {
        if( (customerName == null || "".equals(customerName)) &&
            (fromDeliveryDate == null || "".equals(fromDeliveryDate)) &&
            (toDeliveryDate == null || "".equals(toDeliveryDate)) &&
            (incidentNumber == null || "".equals(incidentNumber)) &&
            (incidentType == null || "".equals(incidentType)) &&
            (incidentStatus == null || "".equals(incidentStatus)) &&
            (CustomerNumber == null || "".equals(CustomerNumber)) &&
            (ExpectedRespDate == null || "".equals(ExpectedRespDate)) &&
            (ExpectedResolDate == null || "".equals(ExpectedResolDate)) &&
            (ProgramType == null || "".equals(ProgramType)) &&
            (SerialNumber == null || "".equals(SerialNumber)) &&
            (Summary == null || "".equals(Summary))
          )
        throw new OAException("Please enter at least one search criterion!", OAException.ERROR);
  
    StringBuffer whereClause = new StringBuffer();
        setWhereClauseParam(0,customerName);
        setWhereClauseParam(1,fromDeliveryDate);
        setWhereClauseParam(2,toDeliveryDate);
        setWhereClauseParam(3,incidentNumber);    
        setWhereClauseParam(4,incidentType);
        setWhereClauseParam(5,incidentStatus);    
        setWhereClauseParam(6,CustomerNumber);    
        setWhereClauseParam(7,ExpectedRespDate);    
        setWhereClauseParam(8,ExpectedResolDate);    
        setWhereClauseParam(9,ProgramType);    
        setWhereClauseParam(10,SerialNumber);    
        setWhereClauseParam(11,Summary);    
   /*   
    if(customerName != null && (!"".equals(customerName))){
    if(whereClause.length()!=0)
    whereClause = whereClause.append(" AND ");    
    whereClause = whereClause.append("PARTY_NAME = '"+customerName+"'"); 
    }
    
    if(toDeliveryDate != null && !"".equals(toDeliveryDate)){
    if(whereClause.length()!=0)
    whereClause = whereClause.append(" AND ");    
//    whereClause = whereClause.append("DELIVERY_DATE <='"+toDeliveryDate+"'");
    whereClause = whereClause.append("CREATION_DATE <=to_date('"+toDeliveryDate+"','dd-MON-yyyy')");    
    }

//and DELIVERY_DATE >= to_date('23-Jan-2013','dd-MON-yyyy')


    if(fromDeliveryDate != null && !"".equals(fromDeliveryDate)){
    if(whereClause.length()!=0)
    whereClause = whereClause.append(" AND ");    
//    whereClause = whereClause.append("DELIVERY_DATE >= to_date('"+fromDeliveryDate+"','dd-MON-yyyy')");
//    whereClause = whereClause.append("DELIVERY_DATE >= '"+fromDeliveryDate+"'");
    whereClause = whereClause.append("CREATION_DATE >=to_date('"+fromDeliveryDate+"','dd-MON-yyyy')");

    }
  

    if(incidentNumber != null && !"".equals(incidentNumber)){
    if(whereClause.length()!=0)
    whereClause = whereClause.append(" AND ");       
    whereClause = whereClause.append("INCIDENT_NUMBER ='"+incidentNumber+"'");
    }

    if(incidentType != null && !"".equals(incidentType)){
    if(whereClause.length()!=0)
    whereClause = whereClause.append(" AND ");       
    whereClause = whereClause.append("incident_type_id ="+incidentType);
    }


    if(incidentStatus != null && !"".equals(incidentStatus)){
    if(whereClause.length()!=0)
    whereClause = whereClause.append(" AND ");       
    whereClause = whereClause.append("incident_status_id ="+incidentStatus);
    }

    if(CustomerNumber != null && !"".equals(CustomerNumber)){
      if(whereClause.length()!=0)
        whereClause = whereClause.append(" AND ");       
      whereClause = whereClause.append("aops_cust_number ='"+CustomerNumber+"'");
    }

    if(ExpectedRespDate != null && !"".equals(ExpectedRespDate)){
      if(whereClause.length()!=0)
        whereClause = whereClause.append(" AND ");       
      whereClause = whereClause.append("exp_resolve_date =to_date('"+ExpectedRespDate+"','dd-MON-yyyy')");
    }    

    if(ExpectedResolDate != null && !"".equals(ExpectedResolDate)){
      if(whereClause.length()!=0)
        whereClause = whereClause.append(" AND ");       
      whereClause = whereClause.append("expected_resolution_date =to_date('"+ExpectedResolDate+"','dd-MON-yyyy')");
    }   

    if(ProgramType != null && !"".equals(ProgramType)){
      if(whereClause.length()!=0)
        whereClause = whereClause.append(" AND ");       
      whereClause = whereClause.append("Program_Type ='"+ProgramType+"'");
    }    

    if(SerialNumber != null && !"".equals(SerialNumber)){
      if(whereClause.length()!=0)
        whereClause = whereClause.append(" AND ");       
      whereClause = whereClause.append("Serial_No ='"+SerialNumber+"'");
    }     

    if(Summary != null && !"".equals(SerialNumber)){
      if(whereClause.length()!=0)
        whereClause = whereClause.append(" AND ");       
      whereClause = whereClause.append("Summary like '"+Summary+"%'");
    }  
    
   System.out.println("##### whereClause="+whereClause);
    setWhereClause(whereClause.toString()); 
    */
    executeQuery();
    System.out.println("##### Query="+getQuery());
    System.out.println("In VO rowcount="+getRowCount());
    
  }  
}