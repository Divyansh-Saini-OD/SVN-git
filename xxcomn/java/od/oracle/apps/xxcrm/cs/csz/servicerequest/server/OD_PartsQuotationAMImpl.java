package od.oracle.apps.xxcrm.cs.csz.servicerequest.server;
import oracle.apps.fnd.framework.server.OAApplicationModuleImpl;
import od.oracle.apps.xxcrm.cs.csz.servicerequest.lov.server.OD_PartsQuotationLocationLOVVOImpl;
import od.oracle.apps.xxcrm.cs.csz.servicerequest.lov.server.OD_PartsQuotationLocationLOVVORowImpl;
import oracle.apps.fnd.framework.OAViewObject;
import oracle.jbo.Row;
import oracle.apps.fnd.framework.server.OADBTransaction;
import oracle.jbo.domain.Number; 
//  ---------------------------------------------------------------
//  ---    File generated by Oracle Business Components for Java.
//  ---------------------------------------------------------------

public class OD_PartsQuotationAMImpl extends OAApplicationModuleImpl 
{
  /**
   * 
   * This is the default constructor (do not remove)
   */
  public OD_PartsQuotationAMImpl()
  {
  }

  /**
   * 
   * Sample main for debugging Business Components code using the tester.
   */
  public static void main(String[] args)
  {
    launchTester("od.oracle.apps.xxcrm.cs.csz.servicerequest.server", "OD_PartsQuotationAMLocal");
  }

  /**
   * 
   * Container's getter for OD_PartsQuotationLocationLOVVO
   */
  public OD_PartsQuotationLocationLOVVOImpl getOD_PartsQuotationLocationLOVVO()
  {
    return (OD_PartsQuotationLocationLOVVOImpl)findViewObject("OD_PartsQuotationLocationLOVVO");
  }

  /**
   * 
   * Container's getter for OD_PartsQuotationURLVO
   */
  public OD_PartsQuotationURLVOImpl getOD_PartsQuotationURLVO()
  {
    return (OD_PartsQuotationURLVOImpl)findViewObject("OD_PartsQuotationURLVO");
  }

  /**
   * 
   * Container's getter for OD_PartsQuotationAuthKeyVO
   */
  public OD_PartsQuotationAuthKeyVOImpl getOD_PartsQuotationAuthKeyVO()
  {
    return (OD_PartsQuotationAuthKeyVOImpl)findViewObject("OD_PartsQuotationAuthKeyVO");
  }

  public void invokeLocation(String uId)
  {
    System.out.println("### uId="+uId);
    OAViewObject locVO = (OAViewObject)getOD_PartsQuotationLocationLOVVO();
    locVO.setWhereClauseParams(null);
    locVO.setWhereClauseParam(0,uId);
//    locVO.setWhereClauseParam(1,uId);
    locVO.executeQuery();
    locVO.first();
    System.out.println("### locVO ROWCOUNT="+locVO.getRowCount());
  }

  public void createPartsQuotation()
  {
  OAViewObject vo = getOD_PartsQuotationVO();
  if (!vo.isPreparedForExecution()) 
  { 
    vo.executeQuery(); 
  } 
  Row row = vo.createRow();
  vo.insertRow(row);
  row.setNewRowState(Row.STATUS_INITIALIZED);  
  }

  public void setSeqUid(String reqNumber, String uID)
  {
    OADBTransaction transaction = getOADBTransaction();
//    Number userId = new Number(Integer.parseInt(uID));
    OD_PartsQuotationVOImpl vo = getOD_PartsQuotationVO();
    OD_PartsQuotationVORowImpl row = (OD_PartsQuotationVORowImpl)vo.getCurrentRow();
    row.setRequestNumber(reqNumber);
    row.setCreatedBy(uID);
    row.setCreationDate(transaction.getCurrentDBDate());

//    Number po_mile_stone_id = transaction.getSequenceValue("XX_GSO_PO_MILESTONES_S");           
//    ODmilestoneInfoVORowImpl row = (ODmilestoneInfoVORowImpl)mileStoneVO.createRow();
  }

   public void apply()
   {
  //    this.getOADBTransaction().getCurrentDBDate();
      this.getTransaction().commit();
   }  

  /**
   * 
   * Container's getter for OD_PartsQuotationVO
   */
  public OD_PartsQuotationVOImpl getOD_PartsQuotationVO()
  {
    return (OD_PartsQuotationVOImpl)findViewObject("OD_PartsQuotationVO");
  }
}