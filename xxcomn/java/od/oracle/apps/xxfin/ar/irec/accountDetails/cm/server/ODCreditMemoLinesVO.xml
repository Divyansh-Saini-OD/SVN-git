<?xml version="1.0" encoding='WINDOWS-1252'?>
<!DOCTYPE ViewObject SYSTEM "jbo_03_01.dtd">
<!-- $Header: CreditMemoLinesVO.xml 120.0 2002/08/24 03:05:39 appldev noship $ -->

<!--
  Author: Sridevi Kondoju
  Component Id: E1327 and E2052
  Script Location: $CUSTOM_JAVA_TOP/od/oracle/apps/xxfin/ar/irec/accountDetails/cm/server
  Description: Considered R12 version and added custom code.
  History:
  Name            Date         Version    Description
  Sridevi Kondoju 27-Jul-2013   1.0    Retrofitted for R12 Upgrade.
  Vasu Raparla    11-Oct-2016   2.0    Modified for Defect 39585 KITTING Project
-->

<ViewObject
   Name="ODCreditMemoLinesVO"
   BindingStyle="Oracle"
   OrderBy="line_number ASC"
   CustomQuery="true"
   RowClass="od.oracle.apps.xxfin.ar.irec.accountDetails.cm.server.ODCreditMemoLinesVORowImpl"
   ComponentClass="od.oracle.apps.xxfin.ar.irec.accountDetails.cm.server.ODCreditMemoLinesVOImpl"
   FetchMode="FETCH_AS_NEEDED"
   FetchSize="15" >
   <SQLQuery><![CDATA[
SELECT lines.line_number line_number,
/* Modified for R12 upgrade Retrofit
       nvl(AR_INVOICE_SQL_FUNC_PUB.get_description( lines.customer_trx_line_id ),
		lines.description) item_description,
     lines.description) item_description,  Oracle definition for this not desired at OD... see defect 7723 */
       (select '(KIT-' || lines.attribute4 || '-' || description || ')-' from mtl_system_items_b where segment1=lines.attribute4 and organization_id=lines.warehouse_id)
	   ||lines.description item_description, /* redefined for defect 7723 */
       lines.sales_order sales_order,
/* Modified for R12 upgrade Retrofit */
	   round(nvl(lines.quantity_invoiced, lines.quantity_credited),1) quantity, /* Rounded for OD CR 306 */
           AR_INVOICE_SQL_FUNC_PUB.get_taxyn ( lines.customer_trx_line_id )
	            tax_exists_for_this_line_flag,
       nvl(lines.unit_selling_price,0) unit_selling_price,
       lines.extended_amount extended_amount,
       to_number(null) ordered_quantity,
       to_number(null) backordered_quantity,
       lines.customer_trx_line_id customer_trx_line_id
/*Added for R12 ugrade retrofit*/
	   ,lines.translated_description xx_item_translated_description /* added for defect 7723*/
       ,items.segment1 xx_item_number /*added for defect 7723*/
FROM   ra_customer_trx_lines lines
/* added for defect 7723*/
      ,(SELECT L.customer_trx_line_id
              ,I.segment1 
          FROM RA_CUSTOMER_TRX_LINES L
              ,MTL_SYSTEM_ITEMS_B I
              ,HR_ALL_ORGANIZATION_UNITS O
         WHERE L.customer_trx_id = :2
           AND L.line_type IN ('LINE','CB')
           AND O.name='OD_ITEM_MASTER' 
           AND O.organization_id=I.organization_id
           AND I.inventory_item_id=L.inventory_item_id) items
/* end of defect 7723*/
WHERE  lines.customer_trx_id = :1
AND    line_type IN  ('LINE','CB')
/*Added for R12 upgrade retrofit - CreditMemoLinesVO*/
AND    lines.customer_trx_line_id=items.customer_trx_line_id (+)  
AND NVL(lines.attribute5, 'N') != 'Y'
   ]]></SQLQuery>
   <DesignTime>
      <Attr Name="_isCodegen" Value="true" />
      <Attr Name="_version" Value="9.0.3.13.93" />
      <Attr Name="_CodeGenFlagNew" Value="32" />
   </DesignTime>
   <ViewAttribute
      Name="LineNumber"
      IsQueriable="false"
      IsPersistent="false"
      Type="oracle.jbo.domain.Number"
      Expression="LINE_NUMBER"
      SQLType="NUMERIC"
      ColumnType="$none$"
      AliasName="LINE_NUMBER" >
      <DesignTime>
         <Attr Name="_OverrideAttr" Value="true" />
      </DesignTime>
   </ViewAttribute>
   <ViewAttribute
      Name="ItemDescription"
      IsQueriable="false"
      IsPersistent="false"
      Type="java.lang.String"
      ColumnType="$none$"
      Expression="ITEM_DESCRIPTION"
      SQLType="VARCHAR"
      Precision="4000"
      AliasName="ITEM_DESCRIPTION" >
      <DesignTime>
         <Attr Name="_OverrideAttr" Value="true" />
         <Attr Name="_DisplaySize" Value="4000" />
      </DesignTime>
   </ViewAttribute>
   <ViewAttribute
      Name="SalesOrder"
      IsQueriable="false"
      IsPersistent="false"
      Type="java.lang.String"
      Expression="SALES_ORDER"
      SQLType="VARCHAR"
      Precision="50"
      AliasName="SALES_ORDER" >
      <DesignTime>
          <Attr Name="_OverrideAttr" Value="true" />
         <Attr Name="_DisplaySize" Value="50" />
      </DesignTime>
   </ViewAttribute>
   <ViewAttribute
      Name="Quantity"
      IsQueriable="false"
      IsPersistent="false"
      Type="oracle.jbo.domain.Number"
      Expression="QUANTITY"
      SQLType="NUMERIC"
	Scale="2"
      AliasName="QUANTITY" >
      <DesignTime>
         <Attr Name="_OverrideAttr" Value="true" />
      </DesignTime>
   </ViewAttribute>
   <ViewAttribute
      Name="TaxExistsForThisLineFlag"
      IsQueriable="false"
      IsPersistent="false"
      Type="java.lang.String"
      Expression="TAX_EXISTS_FOR_THIS_LINE_FLAG"
      SQLType="VARCHAR"
      Precision="240"
      AliasName="TAX_EXISTS_FOR_THIS_LINE_FLAG" >
      <DesignTime>
         <Attr Name="_OverrideAttr" Value="true" />
         <Attr Name="_DisplaySize" Value="240" />
      </DesignTime>
   </ViewAttribute>
   <ViewAttribute
      Name="UnitSellingPrice"
      IsQueriable="false"
      IsPersistent="false"
      Type="oracle.jbo.domain.Number"
      Expression="UNIT_SELLING_PRICE"
      SQLType="NUMERIC"
      AliasName="UNIT_SELLING_PRICE" >
      <DesignTime>
         <Attr Name="_OverrideAttr" Value="true" />
      </DesignTime>
   </ViewAttribute>
   <ViewAttribute
      Name="ExtendedAmount"
      IsQueriable="false"
      IsPersistent="false"
      Type="oracle.jbo.domain.Number"
      Expression="EXTENDED_AMOUNT"
      SQLType="NUMERIC"
      AliasName="EXTENDED_AMOUNT" >
      <DesignTime>
         <Attr Name="_OverrideAttr" Value="true" />
      </DesignTime>
   </ViewAttribute>
   <ViewAttribute
      Name="OrderedQuantity"
      IsQueriable="false"
      IsPersistent="false"
      Type="oracle.jbo.domain.Number"
      Expression="ORDERED_QUANTITY"
      SQLType="NUMERIC"
	Scale="2"
      AliasName="ORDERED_QUANTITY" >
      <DesignTime>
         <Attr Name="_OverrideAttr" Value="true" />
      </DesignTime>
   </ViewAttribute>
   <ViewAttribute
      Name="BackorderedQuantity"
      IsQueriable="false"
      IsPersistent="false"
      Type="oracle.jbo.domain.Number"
      Expression="BACKORDERED_QUANTITY"
      SQLType="NUMERIC"
	Scale="2"
      AliasName="BACKORDERED_QUANTITY" >
      <DesignTime>
         <Attr Name="_OverrideAttr" Value="true" />
      </DesignTime>
   </ViewAttribute>
   <ViewAttribute
      Name="CustomerTrxLineId"
      IsQueriable="false"
      IsPersistent="false"
      Type="oracle.jbo.domain.Number"
      Expression="CUSTOMER_TRX_LINE_ID"
      SQLType="NUMERIC"
      Precision="15"
      Scale="0"
      AliasName="CUSTOMER_TRX_LINE_ID" >
      <DesignTime>
         <Attr Name="_OverrideAttr" Value="true" />
      </DesignTime>
   </ViewAttribute>
   <ViewAttribute
      Name="FormattedUnitSellingPrice"
      IsUpdateable="false"
      IsQueriable="false"
      IsPersistent="false"
      Type="java.lang.String"
      AliasName="FORMATTEDUNITSELLINGPRICE" >
      <DesignTime>
         <Attr Name="_OverrideAttr" Value="true" />
      </DesignTime>
   </ViewAttribute>
   <ViewAttribute
      Name="FormattedExtendedAmount"
      IsUpdateable="false"
      IsQueriable="false"
      IsPersistent="false"
      Type="java.lang.String"
      AliasName="FORMATTEDEXTENDEDAMOUNT" >
      <DesignTime>
         <Attr Name="_OverrideAttr" Value="true" />
      </DesignTime>
   </ViewAttribute>
    <ViewAttribute
      Name="XXItemTranslatedDesc"
      IsUpdateable="false"
      IsPersistent="false"
      Precision="1000"
      Type="java.lang.String"
      ColumnType="VARCHAR2"
      AliasName="xx_item_translated_description"
      Expression="NULL"
      SQLType="VARCHAR" >
   </ViewAttribute>
   <ViewAttribute
      Name="XXItemNumber"
      IsUpdateable="false"
      IsPersistent="false"
      Precision="255"
      Type="java.lang.String"
      ColumnType="VARCHAR2"
      AliasName="xx_item_number"
      Expression="NULL"
      SQLType="VARCHAR" >
   </ViewAttribute>
</ViewObject>
