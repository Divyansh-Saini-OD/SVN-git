<?xml version='1.0' encoding='windows-1252' ?>
<!DOCTYPE ViewObject SYSTEM "jbo_03_01.dtd">

<!-- $Header: CustomerInformationVO.xml 120.8 2011/05/27 06:05:03 avepati ship $ -->
<!--
  Author: Sridevi Kondoju
  Component Id: E1327 and E2052
  Script Location: $XXCOMN_TOP/java/od/oracle/apps/xxfin/ar/irec/accountDetails/server
  Description: Considered R12 version and added custom code.
  History:
  Name            Date         Version    Description
  Sridevi Kondoju 3-Aug-2016   1.0    Retrofitted for R12.2.5 Upgrade.
-->
<ViewObject
   Name="ODCustomerInformationVO"
   Extends="oracle.apps.ar.irec.accountDetails.server.CustomerInformationVO"
   BindingStyle="Oracle"
   CustomQuery="true"
   RowClass="od.oracle.apps.xxfin.ar.irec.accountDetails.server.ODCustomerInformationVORowImpl"
   ComponentClass="od.oracle.apps.xxfin.ar.irec.accountDetails.server.ODCustomerInformationVOImpl"
   MsgBundleClass="oracle.jbo.common.JboResourceBundle"
   FetchMode="FETCH_AS_NEEDED"
   UseGlueCode="false" >
   <SQLQuery><![CDATA[
SELECT hp.party_name customer_name, site.LOCATION,
       site.concatenated_address AS address, site.address1, site.address2,
       site.address3, site.address4, site.city, site.county, site.state,
       site.province, site.postal_code, hca.cust_account_id, site.site_use_id,
       hca.account_number, TO_CHAR (site.cust_acct_site_id) cust_acct_site_id,
       hca.account_number customer_number,
       TO_CHAR (SYSDATE, 'YYYY-MM-DD') statementdate,
       NVL2 (cdh.billdocs_doc_id, 'Y', 'N') has_consolidated_bill_setup
FROM   hz_cust_accounts hca,
       hz_parties hp,
       (SELECT /*+ push_pred(terr) */
               hcs.LOCATION, hcs.site_use_id, hcs.cust_acct_site_id,
               arp_addr_pkg.format_address
                           (loc.address_style,
                            loc.address1,
                            loc.address2,
                            loc.address3,
                            loc.address4,
                            loc.city,
                            loc.county,
                            loc.state,
                            loc.province,
                            loc.postal_code,
                            terr.territory_short_name
                           ) AS concatenated_address,
               loc.address1, loc.address2, loc.address3, loc.address4,
               loc.city, loc.county, loc.state, loc.province, loc.postal_code
          FROM hz_cust_site_uses hcs,
               hz_cust_acct_sites hcas,
               hz_party_sites hps,
               hz_locations loc,
               fnd_territories_vl terr
         WHERE hcs.cust_acct_site_id = hcas.cust_acct_site_id
           AND hcas.party_site_id = hps.party_site_id(+)
           AND hps.location_id = loc.location_id(+)
           AND loc.country = terr.territory_code(+)
        UNION
        SELECT TO_CHAR (NULL), TO_NUMBER (NULL), TO_NUMBER (NULL),
               TO_CHAR (NULL), TO_CHAR (NULL), TO_CHAR (NULL), TO_CHAR (NULL),
               TO_CHAR (NULL), TO_CHAR (NULL), TO_CHAR (NULL), TO_CHAR (NULL),
               TO_CHAR (NULL), TO_CHAR (NULL)
          FROM DUAL) site,
       xx_cdh_a_ext_billdocs_v cdh
 WHERE hca.cust_account_id = :1
   AND hca.party_id = hp.party_id
   AND ((site.site_use_id = :2) OR (:3 IS NULL AND site.site_use_id IS NULL))
   AND cdh.billdocs_doc_type(+) = 'Consolidated Bill'
   AND cdh.cust_account_id(+) = hca.cust_account_id
   AND ROWNUM = 1
   ]]></SQLQuery>
   <DesignTime>
      <Attr Name="_isExpertMode" Value="true" />
      <Attr Name="_version" Value="10.1.3.41.57" />
      <Attr Name="_objectSuperClassName" Value="oracle.apps.ar.irec.framework.IROAViewObjectImpl" />
      <Attr Name="_codeGenFlag2" Value="Access|Coll" />
   </DesignTime>
   <ViewAttribute
      Name="CustomerName"
      IsQueriable="false"
      IsPersistent="false"
      Precision="50"
      Type="java.lang.String"
      ColumnType="VARCHAR2"
      AliasName="CUSTOMER_NAME"
      Expression="&#39;See the SQL...&#39;"
      SQLType="VARCHAR" >
      <DesignTime>
         <Attr Name="_DisplaySize" Value="50" />
      </DesignTime>
   </ViewAttribute>
   <ViewAttribute
      Name="Location"
      IsQueriable="false"
      IsPersistent="false"
      Precision="40"
      Type="java.lang.String"
      ColumnType="VARCHAR2"
      AliasName="LOCATION"
      Expression="&#39;See the SQL...&#39;"
      SQLType="VARCHAR" >
      <DesignTime>
         <Attr Name="_DisplaySize" Value="40" />
      </DesignTime>
   </ViewAttribute>
   <ViewAttribute
      Name="Address"
      IsPersistent="false"
      Precision="4000"
      Type="java.lang.String"
      ColumnType="VARCHAR2"
      AliasName="ADDRESS"
      Expression="ADDRESS"
      SQLType="VARCHAR" >
      <DesignTime>
         <Attr Name="_DisplaySize" Value="4000" />
      </DesignTime>
   </ViewAttribute>
   <ViewAttribute
      Name="Address1"
      IsPersistent="false"
      Precision="240"
      Type="java.lang.String"
      ColumnType="VARCHAR2"
      AliasName="ADDRESS1"
      Expression="ADDRESS1"
      SQLType="VARCHAR" >
      <DesignTime>
         <Attr Name="_DisplaySize" Value="240" />
      </DesignTime>
   </ViewAttribute>
   <ViewAttribute
      Name="Address2"
      IsPersistent="false"
      Precision="240"
      Type="java.lang.String"
      ColumnType="VARCHAR2"
      AliasName="ADDRESS2"
      Expression="ADDRESS2"
      SQLType="VARCHAR" >
      <DesignTime>
         <Attr Name="_DisplaySize" Value="240" />
      </DesignTime>
   </ViewAttribute>
   <ViewAttribute
      Name="Address3"
      IsPersistent="false"
      Precision="240"
      Type="java.lang.String"
      ColumnType="VARCHAR2"
      AliasName="ADDRESS3"
      Expression="ADDRESS3"
      SQLType="VARCHAR" >
      <DesignTime>
         <Attr Name="_DisplaySize" Value="240" />
      </DesignTime>
   </ViewAttribute>
   <ViewAttribute
      Name="Address4"
      IsPersistent="false"
      Precision="240"
      Type="java.lang.String"
      ColumnType="VARCHAR2"
      AliasName="ADDRESS4"
      Expression="ADDRESS4"
      SQLType="VARCHAR" >
      <DesignTime>
         <Attr Name="_DisplaySize" Value="240" />
      </DesignTime>
   </ViewAttribute>
   <ViewAttribute
      Name="City"
      IsPersistent="false"
      Precision="60"
      Type="java.lang.String"
      ColumnType="VARCHAR2"
      AliasName="CITY"
      Expression="CITY"
      SQLType="VARCHAR" >
      <DesignTime>
         <Attr Name="_DisplaySize" Value="60" />
      </DesignTime>
   </ViewAttribute>
   <ViewAttribute
      Name="County"
      IsPersistent="false"
      Precision="60"
      Type="java.lang.String"
      ColumnType="VARCHAR2"
      AliasName="COUNTY"
      Expression="COUNTY"
      SQLType="VARCHAR" >
      <DesignTime>
         <Attr Name="_DisplaySize" Value="60" />
      </DesignTime>
   </ViewAttribute>
   <ViewAttribute
      Name="State"
      IsPersistent="false"
      Precision="60"
      Type="java.lang.String"
      ColumnType="VARCHAR2"
      AliasName="STATE"
      Expression="STATE"
      SQLType="VARCHAR" >
      <DesignTime>
         <Attr Name="_DisplaySize" Value="60" />
      </DesignTime>
   </ViewAttribute>
   <ViewAttribute
      Name="Province"
      IsPersistent="false"
      Precision="60"
      Type="java.lang.String"
      ColumnType="VARCHAR2"
      AliasName="PROVINCE"
      Expression="PROVINCE"
      SQLType="VARCHAR" >
      <DesignTime>
         <Attr Name="_DisplaySize" Value="60" />
      </DesignTime>
   </ViewAttribute>
   <ViewAttribute
      Name="PostalCode"
      IsPersistent="false"
      Precision="60"
      Type="java.lang.String"
      ColumnType="VARCHAR2"
      AliasName="POSTAL_CODE"
      Expression="POSTAL_CODE"
      SQLType="VARCHAR" >
      <DesignTime>
         <Attr Name="_DisplaySize" Value="60" />
      </DesignTime>
   </ViewAttribute>
   <ViewAttribute
      Name="CustomerId"
      IsPersistent="false"
      IsNotNull="true"
      Precision="15"
      Scale="0"
      Type="oracle.jbo.domain.Number"
      ColumnType="NUMBER"
      AliasName="CUST_ACCOUNT_ID"
      Expression="CUST_ACCOUNT_ID"
      SQLType="NUMERIC" >
      <DesignTime>
         <Attr Name="_DisplaySize" Value="22" />
      </DesignTime>
   </ViewAttribute>
   <ViewAttribute
      Name="SiteUseId"
      IsQueriable="false"
      IsPersistent="false"
      Type="oracle.jbo.domain.Number"
      ColumnType="NUMBER"
      AliasName="SITE_USE_ID"
      Expression="SITE_USE_ID"
      SQLType="NUMERIC" >
   </ViewAttribute>
   <ViewAttribute
      Name="AccountNumber"
      IsPersistent="false"
      IsNotNull="true"
      Precision="30"
      Type="java.lang.String"
      ColumnType="VARCHAR2"
      AliasName="ACCOUNT_NUMBER"
      Expression="ACCOUNT_NUMBER"
      SQLType="VARCHAR" >
      <DesignTime>
         <Attr Name="_DisplaySize" Value="30" />
      </DesignTime>
   </ViewAttribute>
   <ViewAttribute
      Name="CustAcctSiteId"
      IsPersistent="false"
      Precision="255"
      Type="java.lang.String"
      ColumnType="VARCHAR2"
      AliasName="CUST_ACCT_SITE_ID"
      Expression="CUST_ACCT_SITE_ID"
      SQLType="VARCHAR" >
      <DesignTime>
         <Attr Name="_DisplaySize" Value="22" />
      </DesignTime>
   </ViewAttribute>
   <ViewAttribute
      Name="CustomerNumber"
      IsUpdateable="false"
      IsPersistent="false"
      Precision="255"
      Type="java.lang.String"
      ColumnType="VARCHAR2"
      AliasName="CUSTOMER_NUMBER"
      Expression="CUSTOMER_NUMBER"
      SQLType="VARCHAR" >
   </ViewAttribute>
   <ViewAttribute
      Name="Statementdate"
      IsPersistent="false"
      Precision="10"
      Type="java.lang.String"
      ColumnType="VARCHAR2"
      AliasName="STATEMENTDATE"
      Expression="STATEMENTDATE"
      SQLType="VARCHAR" >
      <DesignTime>
         <Attr Name="_DisplaySize" Value="10" />
      </DesignTime>
   </ViewAttribute>
    <ViewAttribute
      Name="sHasConsolidatedBillSetup"
      IsUpdateable="false"
      IsPersistent="false"
      Precision="255"
      Type="java.lang.String"
      ColumnType="VARCHAR2"
      AliasName="HAS_CONSOLIDATED_BILL_SETUP"
      Expression="See the SQL"
      SQLType="VARCHAR" >
   </ViewAttribute>
   <ViewAttribute
      Name="bHasConsolidatedBillSetup"
      IsUpdateable="false"
      IsPersistent="false"
      Precision="255"
      Type="java.lang.Boolean"
      ColumnType="VARCHAR2"
      AliasName="VIEW_ATTR"
      SQLType="BIT" >
   </ViewAttribute>
</ViewObject>
